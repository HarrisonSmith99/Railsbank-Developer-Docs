
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>Railsbank API Reference</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .cd {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .nl {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="javascripts/all.js"></script>
  </head>

  <body class="index" data-languages="[&quot;json&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" alt="Navbar" />
      </span>
    </a>
    <div class="toc-wrapper"; style = "padding-right: 10px; padding-top: 10px">
      <img src="images/logo.png" class="logo" alt="Logo" />
        <div class="lang-selector">
              <a href="#" data-language-name="json">json</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <ul id="toc" class="toc-list-h1">
          <li>
            <a href="#welcome" class="toc-h1 toc-link" data-title="Welcome">Welcome</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#what-we-do" class="toc-h2 toc-link" data-title="What We Do">What We Do</a>
                  </li>
                  <li>
                    <a href="#using-this-documentation" class="toc-h2 toc-link" data-title="Using this Documentation">Using this Documentation</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#environments" class="toc-h1 toc-link" data-title="Environments">Environments</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#play" class="toc-h2 toc-link" data-title="Play">Play</a>
                  </li>
                  <li>
                    <a href="#playlive" class="toc-h2 toc-link" data-title="PlayLive">PlayLive</a>
                  </li>
                  <li>
                    <a href="#live" class="toc-h2 toc-link" data-title="Live">Live</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#platform-actors" class="toc-h1 toc-link" data-title="Platform Actors">Platform Actors</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#customers" class="toc-h2 toc-link" data-title="Customers">Customers</a>
                  </li>
                  <li>
                    <a href="#endusers" class="toc-h2 toc-link" data-title="Endusers">Endusers</a>
                  </li>
                  <li>
                    <a href="#beneficiaries" class="toc-h2 toc-link" data-title="Beneficiaries">Beneficiaries</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#capabilities" class="toc-h1 toc-link" data-title="Capabilities">Capabilities</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#issue-ledgers" class="toc-h2 toc-link" data-title="Issue Ledgers">Issue Ledgers</a>
                  </li>
                  <li>
                    <a href="#issue-ibans" class="toc-h2 toc-link" data-title="Issue IBANs">Issue IBANs</a>
                  </li>
                  <li>
                    <a href="#receive-money" class="toc-h2 toc-link" data-title="Receive money">Receive money</a>
                  </li>
                  <li>
                    <a href="#send-money" class="toc-h2 toc-link" data-title="Send Money">Send Money</a>
                  </li>
                  <li>
                    <a href="#collect-money" class="toc-h2 toc-link" data-title="Collect Money">Collect Money</a>
                  </li>
                  <li>
                    <a href="#convert-money" class="toc-h2 toc-link" data-title="Convert Money">Convert Money</a>
                  </li>
                  <li>
                    <a href="#issue-cards" class="toc-h2 toc-link" data-title="Issue Cards">Issue Cards</a>
                  </li>
                  <li>
                    <a href="#spend-money" class="toc-h2 toc-link" data-title="Spend Money">Spend Money</a>
                  </li>
                  <li>
                    <a href="#create-beneficiaries" class="toc-h2 toc-link" data-title="Create Beneficiaries">Create Beneficiaries</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#the-compliance-firewall" class="toc-h1 toc-link" data-title="The Compliance Firewall">The Compliance Firewall</a>
          </li>
          <li>
            <a href="#authentication" class="toc-h1 toc-link" data-title="Authentication">Authentication</a>
          </li>
          <li>
            <a href="#idempotency" class="toc-h1 toc-link" data-title="Idempotency">Idempotency</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#additional-notes" class="toc-h2 toc-link" data-title="Additional notes">Additional notes</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#response-codes-and-statuses" class="toc-h1 toc-link" data-title="Response Codes and Statuses">Response Codes and Statuses</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#httpd-status-codes" class="toc-h2 toc-link" data-title="HTTPD Status Codes">HTTPD Status Codes</a>
                  </li>
                  <li>
                    <a href="#error-messages" class="toc-h2 toc-link" data-title="Error Messages">Error Messages</a>
                  </li>
                  <li>
                    <a href="#status-codes" class="toc-h2 toc-link" data-title="Status Codes">Status Codes</a>
                  </li>
                  <li>
                    <a href="#types-of-transaction" class="toc-h2 toc-link" data-title="Types of Transaction">Types of Transaction</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#faqs" class="toc-h1 toc-link" data-title="FAQs">FAQs</a>
          </li>
          <li>
            <a href="#guides" class="toc-h1 toc-link" data-title="Guides">Guides</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#using-these-guides" class="toc-h2 toc-link" data-title="Using these Guides">Using these Guides</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#send-money-to-a-beneficiary" class="toc-h1 toc-link" data-title="Send Money to a Beneficiary">Send Money to a Beneficiary</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#onboard-an-enduser" class="toc-h2 toc-link" data-title="Onboard an Enduser">Onboard an Enduser</a>
                  </li>
                  <li>
                    <a href="#give-the-enduser-a-ledger" class="toc-h2 toc-link" data-title="Give the Enduser a Ledger">Give the Enduser a Ledger</a>
                  </li>
                  <li>
                    <a href="#fetch-the-ledger" class="toc-h2 toc-link" data-title="Fetch the ledger">Fetch the ledger</a>
                  </li>
                  <li>
                    <a href="#add-a-new-beneficiary" class="toc-h2 toc-link" data-title="Add a new Beneficiary">Add a new Beneficiary</a>
                  </li>
                  <li>
                    <a href="#send-money-to-the-beneficiary" class="toc-h2 toc-link" data-title="Send money to the Beneficiary">Send money to the Beneficiary</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#endpoints" class="toc-h1 toc-link" data-title="Endpoints">Endpoints</a>
          </li>
          <li>
            <a href="#onboarding-endusers" class="toc-h1 toc-link" data-title="Onboarding Endusers">Onboarding Endusers</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#onboard-an-individual-enduser" class="toc-h2 toc-link" data-title="Onboard an Individual Enduser">Onboard an Individual Enduser</a>
                  </li>
                  <li>
                    <a href="#onboard-a-corporate-enduser" class="toc-h2 toc-link" data-title="Onboard a Corporate Enduser">Onboard a Corporate Enduser</a>
                  </li>
                  <li>
                    <a href="#fetch-an-enduser" class="toc-h2 toc-link" data-title="Fetch an Enduser">Fetch an Enduser</a>
                  </li>
                  <li>
                    <a href="#fetch-multiple-endusers" class="toc-h2 toc-link" data-title="Fetch Multiple Endusers">Fetch Multiple Endusers</a>
                  </li>
                  <li>
                    <a href="#update-an-enduser" class="toc-h2 toc-link" data-title="Update an Enduser">Update an Enduser</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#creating-ledgers" class="toc-h1 toc-link" data-title="Creating Ledgers">Creating Ledgers</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#issue-a-ledger" class="toc-h2 toc-link" data-title="Issue a Ledger">Issue a Ledger</a>
                  </li>
                  <li>
                    <a href="#issue-a-virtual-ledger" class="toc-h2 toc-link" data-title="Issue a Virtual Ledger">Issue a Virtual Ledger</a>
                  </li>
                  <li>
                    <a href="#assign-a-ledger-an-iban" class="toc-h2 toc-link" data-title="Assign a Ledger an IBAN">Assign a Ledger an IBAN</a>
                  </li>
                  <li>
                    <a href="#fetching-individual-ledgers" class="toc-h2 toc-link" data-title="Fetching Individual Ledgers">Fetching Individual Ledgers</a>
                  </li>
                  <li>
                    <a href="#fetch-ledger-entries" class="toc-h2 toc-link" data-title="Fetch Ledger Entries">Fetch Ledger Entries</a>
                  </li>
                  <li>
                    <a href="#fetch-multiple-ledgers" class="toc-h2 toc-link" data-title="Fetch Multiple Ledgers">Fetch Multiple Ledgers</a>
                  </li>
                  <li>
                    <a href="#fetch-recently-modified-ledgers" class="toc-h2 toc-link" data-title="Fetch Recently Modified Ledgers">Fetch Recently Modified Ledgers</a>
                  </li>
                  <li>
                    <a href="#fetch-unassigned-ledgers" class="toc-h2 toc-link" data-title="Fetch Unassigned Ledgers">Fetch Unassigned Ledgers</a>
                  </li>
                  <li>
                    <a href="#assign-a-ledger-to-a-holder" class="toc-h2 toc-link" data-title="Assign a Ledger to a Holder">Assign a Ledger to a Holder</a>
                  </li>
                  <li>
                    <a href="#update-a-ledger" class="toc-h2 toc-link" data-title="Update a Ledger">Update a Ledger</a>
                  </li>
                  <li>
                    <a href="#close-a-ledger" class="toc-h2 toc-link" data-title="Close a Ledger">Close a Ledger</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#onboarding-beneficiaries" class="toc-h1 toc-link" data-title="Onboarding Beneficiaries">Onboarding Beneficiaries</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#create-an-individual-beneficiary" class="toc-h2 toc-link" data-title="Create an Individual Beneficiary">Create an Individual Beneficiary</a>
                  </li>
                  <li>
                    <a href="#create-a-corporate-beneficiary" class="toc-h2 toc-link" data-title="Create a Corporate Beneficiary">Create a Corporate Beneficiary</a>
                  </li>
                  <li>
                    <a href="#fetch-a-beneficiary" class="toc-h2 toc-link" data-title="Fetch a Beneficiary">Fetch a Beneficiary</a>
                  </li>
                  <li>
                    <a href="#fetch-multiple-beneficiaries" class="toc-h2 toc-link" data-title="Fetch Multiple Beneficiaries">Fetch Multiple Beneficiaries</a>
                  </li>
                  <li>
                    <a href="#add-an-beneficiary-account" class="toc-h2 toc-link" data-title="Add an Beneficiary Account">Add an Beneficiary Account</a>
                  </li>
                  <li>
                    <a href="#fetch-beneficiary-accounts" class="toc-h2 toc-link" data-title="Fetch Beneficiary Accounts">Fetch Beneficiary Accounts</a>
                  </li>
                  <li>
                    <a href="#update-a-beneficiary" class="toc-h2 toc-link" data-title="Update a Beneficiary">Update a Beneficiary</a>
                  </li>
                  <li>
                    <a href="#update-a-beneficiary-account" class="toc-h2 toc-link" data-title="Update a Beneficiary Account">Update a Beneficiary Account</a>
                  </li>
                  <li>
                    <a href="#change-default-account" class="toc-h2 toc-link" data-title="Change Default Account">Change Default Account</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#sending-money" class="toc-h1 toc-link" data-title="Sending Money">Sending Money</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#send-to-a-beneficiary" class="toc-h2 toc-link" data-title="Send to a Beneficiary">Send to a Beneficiary</a>
                  </li>
                  <li>
                    <a href="#send-to-another-ledger" class="toc-h2 toc-link" data-title="Send to another Ledger">Send to another Ledger</a>
                  </li>
                  <li>
                    <a href="#send-multiple-transactions" class="toc-h2 toc-link" data-title="Send Multiple Transactions">Send Multiple Transactions</a>
                  </li>
                  <li>
                    <a href="#fetch-a-transaction" class="toc-h2 toc-link" data-title="Fetch a Transaction">Fetch a Transaction</a>
                  </li>
                  <li>
                    <a href="#fetch-multiple-transactions" class="toc-h2 toc-link" data-title="Fetch Multiple Transactions">Fetch Multiple Transactions</a>
                  </li>
                  <li>
                    <a href="#update-transactions" class="toc-h2 toc-link" data-title="Update Transactions">Update Transactions</a>
                  </li>
                  <li>
                    <a href="#upload-a-transaction-invoice" class="toc-h2 toc-link" data-title="Upload a Transaction Invoice">Upload a Transaction Invoice</a>
                  </li>
                  <li>
                    <a href="#credit-and-debit-virtual-ledgers" class="toc-h2 toc-link" data-title="Credit and Debit Virtual Ledgers">Credit and Debit Virtual Ledgers</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#issuing-debit-cards" class="toc-h1 toc-link" data-title="Issuing Debit Cards">Issuing Debit Cards</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#issue-a-virtual-card" class="toc-h2 toc-link" data-title="Issue a Virtual Card">Issue a Virtual Card</a>
                  </li>
                  <li>
                    <a href="#issue-a-physical-card" class="toc-h2 toc-link" data-title="Issue a Physical Card">Issue a Physical Card</a>
                  </li>
                  <li>
                    <a href="#fetch-a-card" class="toc-h2 toc-link" data-title="Fetch a Card">Fetch a Card</a>
                  </li>
                  <li>
                    <a href="#fetch-a-card-using-its-token" class="toc-h2 toc-link" data-title="Fetch a Card using its token">Fetch a Card using its token</a>
                  </li>
                  <li>
                    <a href="#fetch-all-of-your-cards" class="toc-h2 toc-link" data-title="Fetch all of your cards">Fetch all of your cards</a>
                  </li>
                  <li>
                    <a href="#activate-a-card" class="toc-h2 toc-link" data-title="Activate a Card">Activate a Card</a>
                  </li>
                  <li>
                    <a href="#suspend-a-card" class="toc-h2 toc-link" data-title="Suspend a Card">Suspend a Card</a>
                  </li>
                  <li>
                    <a href="#fetching-card-pins" class="toc-h2 toc-link" data-title="Fetching Card PINs">Fetching Card PINs</a>
                  </li>
                  <li>
                    <a href="#get-card-image" class="toc-h2 toc-link" data-title="Get Card Image">Get Card Image</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#webhooks" class="toc-h1 toc-link" data-title="Webhooks">Webhooks</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#types-of-notification" class="toc-h2 toc-link" data-title="Types of Notification">Types of Notification</a>
                  </li>
                  <li>
                    <a href="#set-up-a-webhook" class="toc-h2 toc-link" data-title="Set up a Webhook">Set up a Webhook</a>
                  </li>
                  <li>
                    <a href="#fetch-your-webhook" class="toc-h2 toc-link" data-title="Fetch your Webhook">Fetch your Webhook</a>
                  </li>
                  <li>
                    <a href="#update-your-webhook-secret" class="toc-h2 toc-link" data-title="Update your Webhook Secret">Update your Webhook Secret</a>
                  </li>
                  <li>
                    <a href="#delete-your-webhook" class="toc-h2 toc-link" data-title="Delete your Webhook">Delete your Webhook</a>
                  </li>
                  <li>
                    <a href="#fetch-failed-notifications" class="toc-h2 toc-link" data-title="Fetch Failed Notifications">Fetch Failed Notifications</a>
                  </li>
                  <li>
                    <a href="#fetch-all-notifications" class="toc-h2 toc-link" data-title="Fetch All Notifications">Fetch All Notifications</a>
                  </li>
              </ul>
          </li>
      </ul>
        <ul class="toc-footer">
            <li><a href='https://app.railsbank.com'>Sign Up for an API-Key</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id='welcome'>Welcome</h1><h2 id='what-we-do'>What We Do</h2>
<p>Railsbank is an open Banking and Compliance platform that enables <strong>Customers</strong> to create their own products that need banking capabilities or integrate banking capabilities into their systems, apps and workflows.</p>

<p><strong>Customers</strong> connect to the platform via the <strong>Customer API</strong> and access financial products through what we call <strong>Product Rails</strong> - a full list of the cabilities available via the Railsbank <strong>Product Rails</strong> can be seen below or on our <a href="https://www.railsbank.com/">main website</a>.</p>

<p>The platform is purely an API, built to be easily and rapidly integrated into your business. Railsbank is all about making your life super simple to integrate a complete set of financial services capabilities into your business, app, or product.</p>
<h2 id='using-this-documentation'>Using this Documentation</h2>
<p>This documentation is aimed at technologists and developers interested in the API. It is split into three parts:</p>

<ol>
<li>An overview of the key aspects of Railsbank</li>
<li>Guides which will walk you through some of the common scenarios in which the API is used, allowing you to quickly understand the technology.</li>
<li>Detailed documentation of every endpoint, categorised by capability.</li>
</ol>

<p>On the right side of your screen you will see code examples which can be pasted into a testing tool like <a href="https://www.getpostman.com">Postman</a>, or into your terminal.  </p>
<h1 id='environments'>Environments</h1>
<p>Your <strong>environments</strong> allow you to go from risk-free testing to complete global banking with only a few tiny changes in your code.</p>

<p>There are three environments within Railsbank: <strong>Play,</strong> <strong>PlayLive,</strong> and <strong>Live</strong>.</p>
<h2 id='play'>Play</h2>
<ul>
<li>Our preliminary Sandbox, through which you can test the API with complete freedom.</li>
<li><strong>Is not</strong> connected to the outside world; it is a simulation. Therefore, it <strong>costs nothing</strong>, and there is no limit to the number of calls, transactions, or volumes.<br></li>
<li> Can be accessed within minutes.</li>
<li>Partners, money, IBANs, account numbers, and sort codes are simulated, however they work in the same way as <strong>PlayLive</strong> and <strong>Live</strong>, with the same endpoints and fields.</li>
<li>Allows your developers to integrate into the API with ease.</li>
<li>The Base URL for Play is: <code>https://play.railsbank.com</code></li>
</ul>
<h2 id='playlive'>PlayLive</h2>
<ul>
<li>Our second Sandbox, through which you can test the API with real money.</li>
<li><strong>Is</strong> connected to the outside world: real money, real bank accounts, real IBANs, real partners.</li>
<li>Access to capabilities that cannot be simulated, namely ID&amp;V and screening.</li>
<li>Can be access within minutes.</li>
<li><strong>Costs nothing</strong>, but usage is limited.</li>
<li>Limits:

<ul>
<li>3 endusers</li>
<li>3 ledgers</li>
<li>Maximum value of a transaction: £5 or €5</li>
<li>Maximum value of aggregated transactions: £20 or €20.</li>
</ul></li>
<li>The Base URL for PlayLive is: <code>https://playlive.railsbank.com</code></li>
</ul>
<h2 id='live'>Live</h2>
<ul>
<li>Complete access to global banking.</li>
<li>Connected to all of the Railsbank capabilities; access is dependent upon your needs and commercial agreement.</li>
<li>Requires a 2 week onboarding process with Railsbank.</li>
<li>Limits are based upon <strong>Partner</strong> risk policies.</li>
<li>The Base URL for Live is: <code>https://live.railsbank.com</code></li>
</ul>
<h1 id='platform-actors'>Platform Actors</h1><h2 id='customers'>Customers</h2>
<p>You, the company with access to Railsbank API Keys and capabilities, integrating them into your app or business in order to provide global banking to your customers.</p>
<h2 id='endusers'>Endusers</h2>
<p>A user of Railsbank capabilities, endusers can be a company or a person and are your customers- our customer&#39;s customer.</p>

<p>Bear in mind, the enduser does not access the Railsbank API. Just the Customer. The enduser uses whatever interface the Customer provides for the enduser to interact with the Railsbank API.</p>
<h2 id='beneficiaries'>Beneficiaries</h2>
<p>A beneficiary is simply a company or person to which money can be sent to from a Railsbank ledger. Both endusers and customers can &#39;hold&#39; beneficiaries, and  multiple accounts can be held by one beneficiary.</p>

<p>If an enduser creates a beneficiary, for instance, the beneficiary is added to the list of all the enduser&#39;s other beneficiaries. When the enduser wants to transfer money to a particular beneficiary, they simply select the <code>beneficiary_id</code> from the list and add it to the transaction payload.</p>
<h1 id='capabilities'>Capabilities</h1><h2 id='issue-ledgers'>Issue Ledgers</h2>
<ul>
<li>Digital bank accounts held by our partners.</li>
<li>Currently we provide GBP and EUR ledgers, with USD coming later this year.</li>
<li>One ledger can hold a single asset only. For example, if an enduser wants to hold GBP and EUR, then the enduser needs at least two ledgers: one for GBP, and one for EUR</li>
<li>Ledgers can also be &#39;virtual&#39;, with &#39;virtual&#39; funds that can be manually credited and debited to them that are attached to a real world asset. For instance, a gold ledger that reflects a stock of gold in a vault.</li>
</ul>
<h2 id='issue-ibans'>Issue IBANs</h2>
<ul>
<li>A <strong>UK Account Number</strong> and <strong>Sort Code</strong> - the &#39;address&#39; of the ledger - are automatically assigned to each GBP ledger.</li>
<li>An <strong>IBAN</strong> - the &#39;address&#39; of the ledger - can be assigned to any EUR ledger.</li>
<li>You may have noticed that GBP ledgers automatically generate GB IBANs. As of now they are not swift enabled, but will be coming soon.</li>
</ul>
<h2 id='receive-money'>Receive money</h2>
<ul>
<li>GBP ledgers are connected to <strong>UK Faster Payments</strong>, meaning funds can be accessed in them within a maximum of 3 hours after they are sent.</li>
<li>EUR ledgers - with IBAN assigned - are connected to <strong>SEPA Step 2</strong>, meaning if they are send before 10 AM CET they will clear within the day, and if they are sent after they will clear overnight.</li>
<li>Both GBP and EUR ledgers can be credited via a <strong>Direct Debit</strong> payment.</li>
<li>Railsbank ledgers can be enabled to receive payments via <strong>SWIFT</strong>.</li>
</ul>
<h2 id='send-money'>Send Money</h2>
<ul>
<li>From Railsbank, ledgers money can be sent to beneficiaries across the globe.</li>
<li>Money can be sent:

<ul>
<li>via <strong>standard</strong> transaction - to a beneficiary account outside of the Railsbank API.</li>
<li>via <strong>inter-ledger</strong> transaction - to another ledger within the API.</li>
</ul></li>
<li>Money can be sent from Railsbank ledgers via <strong>SWIFT</strong>.</li>
</ul>
<h2 id='collect-money'>Collect Money</h2>
<ul>
<li>Through Railsbank you can create <strong>mandates</strong> against GBP and EUR bank accounts that are enabled for either <strong>Bacs</strong> or <strong>Sepa Core</strong> direct debiting.</li>
<li>You can then make <strong>payments</strong> and <strong>subscriptions</strong> against these mandates, debiting the bank accounts.</li>
</ul>
<h2 id='convert-money'>Convert Money</h2>
<ul>
<li>The <strong>Railsbank Foreign Exchange</strong> capability allows you to convert money between any of the <strong>G10</strong> currencies.</li>
<li>You can get a quote before converting in order to check either the buying or selling rate at any point in time.</li>
</ul>
<h2 id='issue-cards'>Issue Cards</h2>
<ul>
<li>You can issue <strong>Mastercard Debit Cards</strong> attached to a Railsbank GBP or EUR ledger.</li>
<li>This can be done entirely from the API with just a few calls, an industry-leading innovation.</li>
</ul>
<h2 id='spend-money'>Spend Money</h2>
<ul>
<li>Using our <strong>Mastercard Debit Cards</strong>, your customers can spend the funds in their ledgers.</li>
</ul>
<h2 id='create-beneficiaries'>Create Beneficiaries</h2>
<ul>
<li>Beneficiaries of Railsbank <strong>endusers</strong> or <strong>customers</strong> can have multiple accounts in any of the <strong>G10</strong> currencies, to which money can be sent to from a Railsbank ledger.</li>
</ul>
<h1 id='the-compliance-firewall'>The Compliance Firewall</h1>
<ul>
<li><p>The Railsbank API is built on the belief that <strong>Compliance</strong> should come first. It should be simple and easy to adhere to regulation, and due to the nature of Railsbank, it is.</p></li>
<li><p>Because Railsbank is essentially middleware between our <strong>Partners</strong> and <strong>Customers</strong>, information in the form of requests - be they POSTs, GETs, or PUTs - passes through the API from both sides all the time.</p></li>
<li><p>We capitalize upon this unique opportunity with <strong>The Compliance Firewall</strong>. There are two parts to it: the <strong>Partner Firewall</strong> and the <strong>Customer Firewall</strong>. Every time a <strong>customer</strong> makes a request, <em>create ledger</em>, for instance, the information passes - or attempts to pass - through both.</p></li>
<li><p>To pass through each firewall, the information must adhere to the <strong>Firewall Rules</strong> - the risk policy of the <strong>partner</strong> or <strong>customer</strong> - that are hard-coded into them. If it does not i.e. it breaks at least one rule, then the entity within the request - the enduser, beneficiary, ledger, or transaction - falls into <strong>Quarantine</strong>. There is a <strong>Partner Quarantine</strong> and a <strong>Customer Quarantine</strong>.</p></li>
<li><p>For example, a <strong>customer</strong> is indifferent to endusers living in Iran, and thus does not write a <strong>firewall rule</strong>. However, a <strong>partner</strong> is not particularly keen on having any Iranian residents using its services and hence writes a rule of <em>quarantine endusers from Iran</em>. If an Iranian resident then signs up to the <strong>customer&#39;s app or business</strong>, their information will pass successfully through the <strong>Customer Firewall</strong> but fall into the <strong>Partner Quarantine</strong>.</p></li>
<li><p>When an entity or transaction falls into <strong>Quarantine</strong> you will be notified via webhook. Then, a compliance officer will manually check the entity or transaction and decide whether to <strong>decline</strong> or allow it to <strong>pass</strong> through - unless it has failed an <em>autodecline</em> rule, in which case it will be declined immediately</p></li>
<li><p>This means that an irregular entity will only be created <strong>after</strong> it has been manually reviewed by a compliance officer - protecting both our <strong>Partners</strong> and <strong>Customers</strong>. The creation of all entities - including transactions - can therefore be monitored using <strong>The Compliance Firewall</strong></p></li>
</ul>
<h1 id='authentication'>Authentication</h1>
<blockquote>
<p><strong>To authorize, use this code:</strong></p>
</blockquote>
<pre class="highlight shell tab-shell"><code>    --request <span class="s2">"&lt;&lt;someAPIrequest&gt;&gt;"</span>
    --header <span class="s2">"Content-Type: application/json"</span>
    --header <span class="s2">"Accept: application/json"</span>
    --header <span class="s2">"Authorization: API-Key &lt;&lt;yourapikey&gt;&gt;"</span>
</code></pre>
<ul>
<li><p>Railsbank uses API keys to allow access to the API. You can register for an API key on our <a href="http://railsbank.com">website</a>.</p></li>
<li><p>Make sure to use the string <code>API-Key</code> followed by a space before pasting your API Key.</p></li>
</ul>
<h1 id='idempotency'>Idempotency</h1>
<p>Transient errors can happen, particulary where networking issues may be involved.</p>

<p>The current best-practice on this is to use idempotency keys. As an introduction to these, we recommend reading Stripe&#39;s <a href="https://stripe.com/blog/idempotency">idempotency blog post</a>. It&#39;s well worth the seven minutes read.</p>

<p>Using this technique, you&#39;ll be able to send the same request over and over again, safe that (until the key expires 24 hours after first seen) the action won&#39;t be repeated.</p>

<p>Simply add an <code>Idempotency-Key</code> header with a unique value to each <code>POST</code>/<code>PUT</code>/<code>DELETE</code> call you make to take advantage of this method.</p>
<h3 id='additional-notes'>Additional notes</h3>
<ul>
<li>In cases where your first call with same idempotency key is still being calculated, you&#39;ll see a returned status of <code>202</code>.</li>
<li>If the response to this call contains information like an API key (which you probably want to avoid), the returned status for the call with the same idempotency key will be <code>400</code>.</li>
</ul>
<h1 id='response-codes-and-statuses'>Response Codes and Statuses</h1><h2 id='httpd-status-codes'>HTTPD Status Codes</h2>
<p>We consistently use <a href="https://tools.ietf.org/html/rfc7231#section-6">standardized HTTP Status</a> codes.</p>

<table><thead>
<tr>
<th style="text-align: left">Code</th>
<th style="text-align: left">Text</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">200</td>
<td style="text-align: left">OK</td>
<td style="text-align: left">Success!</td>
</tr>
<tr>
<td style="text-align: left">202</td>
<td style="text-align: left">Accepted</td>
<td style="text-align: left">Accepted by us, but processing is not yet complete</td>
</tr>
<tr>
<td style="text-align: left">304</td>
<td style="text-align: left">Not Modified</td>
<td style="text-align: left">There was no new data to return.</td>
</tr>
<tr>
<td style="text-align: left">400</td>
<td style="text-align: left">Bad Request</td>
<td style="text-align: left">The request was invalid or cannot be otherwise served. An accompanying error message will explain further. Requests without authentication are considered invalid and will yield this response.</td>
</tr>
<tr>
<td style="text-align: left">401</td>
<td style="text-align: left">Unauthorized</td>
<td style="text-align: left">Missing or incorrect authentication credentials.</td>
</tr>
<tr>
<td style="text-align: left">403</td>
<td style="text-align: left">Forbidden</td>
<td style="text-align: left">The request is understood, but it has been refused or access is not allowed. An accompanying error message will explain why.</td>
</tr>
<tr>
<td style="text-align: left">404</td>
<td style="text-align: left">Not Found</td>
<td style="text-align: left">The URI requested is invalid or the resource requested, such as a user, does not exist. Also returned when the requested format is not supported by the requested method.</td>
</tr>
<tr>
<td style="text-align: left">410</td>
<td style="text-align: left">Gone</td>
<td style="text-align: left">This resource is gone. Used to indicate that an API endpoint has been turned off.</td>
</tr>
<tr>
<td style="text-align: left">429</td>
<td style="text-align: left">Too Many Requests</td>
<td style="text-align: left">Returned when a request cannot be served due to rate limiting</td>
</tr>
<tr>
<td style="text-align: left">500</td>
<td style="text-align: left">Internal Server Error</td>
<td style="text-align: left">Something is broken. Please post to the developer forums with additional details of your request, so the Railsbank team can investigate.</td>
</tr>
<tr>
<td style="text-align: left">502</td>
<td style="text-align: left">Bad Gateway</td>
<td style="text-align: left">Railsbank is down or being upgraded.</td>
</tr>
<tr>
<td style="text-align: left">503</td>
<td style="text-align: left">Service Unavailable</td>
<td style="text-align: left">The Railsbank servers are up, but overloaded with requests. Try again later.</td>
</tr>
<tr>
<td style="text-align: left">504</td>
<td style="text-align: left">Gateway timeout</td>
<td style="text-align: left">The Railsbank servers are up, but the request couldn’t be serviced due to some failure within our stack. Try again later.</td>
</tr>
</tbody></table>
<h2 id='error-messages'>Error Messages</h2>
<p>When the Railsbank API returns error messages, it does so in JSON format. For example, an error might look like this:</p>

<p><code>{&quot;errors&quot;:[{&quot;message&quot;:&quot;Sorry, that page does not exist&quot;,&quot;code&quot;:34}]}</code></p>
<h2 id='status-codes'>Status Codes</h2>
<p>The statuses for the various parts of Railsbank will normally follow a standardized pattern where <code>foo-status-ok</code> or <code>foo-status-accepted</code> are good. Other states are not there yet and may be worthy of investigation (depending on your desired outcome).</p>

<p>These lists detail the states and an outline of the order things pass through the Railsbank State Machine</p>
<h3 id='sending-money-inter-ledger-and-convert-and-send-fx'>Sending money, Inter-Ledger, and Convert-and-Send (FX)</h3>
<table><thead>
<tr>
<th style="text-align: left">Message</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code>transaction-status-accepted</code></td>
<td style="text-align: left">The transaction has been accepted by the Railsbank platform and the funds have left the ledger. YOu will receive a <code>type: ledger-changed</code> webhook. Please note that this doesn&#39;t mean they have arrived at the beneficiary account: due to regulation, we cannot inform customers when a transaction lands in the partner quarantine queue, so if a transaction is <code>accepted</code>, it may be in the partner quarantine and it can be <code>declined</code>. If it is declined you will receive a <code>type: transaction-declined</code> webhook.</td>
</tr>
<tr>
<td style="text-align: left"><code>transaction-status-pending</code></td>
<td style="text-align: left">Transaction is being processed. We do not have a <code>/wait</code> parameter for transactions as they can be processed for a longer period of time. We advise using a webhook to notify you when processing has been completed.</td>
</tr>
<tr>
<td style="text-align: left"><code>transaction-status-quarantine</code></td>
<td style="text-align: left">The transaction has fallen into your customer quarantine queue. You will receive a <code>type: entity-fw-quarantine</code> webhook and a <code>type: transaction-firewall-finished</code> webhook. <strong>We recommend setting your own firewall rules to prevent any of your transactions falling into the partner quarantine queue and therefore out of your control.</strong></td>
</tr>
<tr>
<td style="text-align: left"><code>transaction-status-declined</code></td>
<td style="text-align: left">Transaction has ben declined. When you fetch the transaction you will see the <code>failure_reasons</code>, for instance: <code>insufficient-funds</code>. You will receive a <code>type: transaction-declined</code> webhook.</td>
</tr>
<tr>
<td style="text-align: left"><code>transaction-status-missing-data</code></td>
<td style="text-align: left">Extra data required to complete the transaction. For instance, if the beneficiary does not have enough account information for the transaction to be completed.</td>
</tr>
</tbody></table>
<h3 id='receiving-money'>Receiving money</h3>
<table><thead>
<tr>
<th style="text-align: left">Message</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code>transaction-status-error</code></td>
<td style="text-align: left">There has been an error receiving the transaction.</td>
</tr>
<tr>
<td style="text-align: left"><code>transaction-status-pending</code></td>
<td style="text-align: left">Transaction is being processed. We do not have a <code>/wait</code> parameter for transactions as they can be processed for a longer period of time. We advise using a webhook to notify you when processing has been completed.</td>
</tr>
<tr>
<td style="text-align: left"><code>transaction-status-quarantine</code></td>
<td style="text-align: left">The transaction has fallen into your customer quarantine queue. You will receive a <code>type: entity-fw-quarantine</code> webhook and a <code>type: transaction-firewall-finished</code> webhook. <strong>We recommend setting your own firewall rules to prevent any of your transactions falling into the partner quarantine queue and therefore out of your control.</strong></td>
</tr>
<tr>
<td style="text-align: left"><code>transaction-status-accepted</code></td>
<td style="text-align: left">The transaction has been accepted by the Railsbank platform and the funds have left the ledger. YOu will receive a <code>type: ledger-changed</code> webhook. Please note that this doesn&#39;t mean they have arrived at the beneficiary account: due to regulation, we cannot inform customers when a transaction lands in the partner quarantine queue, so if a transaction is <code>accepted</code>, it may be in the partner quarantine and it can be <code>declined</code>. If it is declined you will receive a <code>type: transaction-declined</code> webhook.</td>
</tr>
<tr>
<td style="text-align: left"><code>transaction-status-declined</code></td>
<td style="text-align: left">Transaction has ben declined. When you fetch the transaction you will see the <code>failure_reasons</code>, for instance: <code>insufficient-funds</code>. You will receive a <code>type: transaction-declined</code> webhook.</td>
</tr>
</tbody></table>
<h3 id='endusers'>Endusers</h3>
<table><thead>
<tr>
<th style="text-align: left">Message</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code>enduser-status-missing-data</code></td>
<td style="text-align: left">Extra data is required for the enduser to be created, for instance, the name of the enduser.</td>
</tr>
<tr>
<td style="text-align: left"><code>enduser-status-pending</code></td>
<td style="text-align: left">The enduser is being processed. To avoid fetching an enduser in this state, use our <code>/wait</code> parameter.</td>
</tr>
<tr>
<td style="text-align: left"><code>enduser-status-quarantine</code></td>
<td style="text-align: left">The enduser has broken a customer firewall rule and fallen into the customer quarantine queue. You will receive a <code>type: entity-fw-quarantine</code> webhook and a <code>type: enduser-firewall-finished</code> webhook.</td>
</tr>
<tr>
<td style="text-align: left"><code>enduser-status-ok</code></td>
<td style="text-align: left">The enduser is ready to use: to add ledgers and beneficiaries to and send and receive transactions. You will receive a <code>type: entity-ready-to-use</code> webhook and a <code>type: enduser-firewall-finished</code> webhook if you have set and firewall rules up.</td>
</tr>
<tr>
<td style="text-align: left"><code>enduser-status-declined</code></td>
<td style="text-align: left">The enduser has been declined by our system. This is usually because the enduser has broken a partner firewall rule and been rejected by our compliance team, for instance, if they are from a country we don&#39;t deal with, like North Korea.</td>
</tr>
</tbody></table>
<h3 id='beneficiaries'>Beneficiaries</h3>
<table><thead>
<tr>
<th style="text-align: left">Message</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code>beneficiary-status-missing-data</code></td>
<td style="text-align: left">Extra data is required for the beneficiary to be created, for instance, the <code>uk_sort_code</code> of the beneficiary account.</td>
</tr>
<tr>
<td style="text-align: left"><code>beneficiary-status-pending</code></td>
<td style="text-align: left">The beneficiary is being processed. To avoid fetching an beneficiary in this state, use our <code>/wait</code> parameter.</td>
</tr>
<tr>
<td style="text-align: left"><code>beneficiary-status-quarantine</code></td>
<td style="text-align: left">The beneficiary has broken a customer firewall rule and fallen into the customer quarantine queue. You will receive a <code>type: entity-fw-quarantine</code> webhook and a <code>type: beneficiary-firewall-finished</code> webhook.</td>
</tr>
<tr>
<td style="text-align: left"><code>beneficiary-status-ok</code></td>
<td style="text-align: left">The beneficiary is ready to receive transactions. You will receive a <code>type: entity-ready-to-use</code> webhook and a <code>type: beneficiary-firewall-finished</code> webhook if you have set and firewall rules up.</td>
</tr>
<tr>
<td style="text-align: left"><code>beneficiary-status-declined</code></td>
<td style="text-align: left">The beneficiary has been declined by our system. This is usually because the beneficiary has broken a partner firewall rule and been rejected by our compliance team, for instance, if they are from a country we don&#39;t deal with, like North Korea.</td>
</tr>
</tbody></table>
<h3 id='ledgers'>Ledgers</h3>
<table><thead>
<tr>
<th style="text-align: left">Message</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code>ledger-status-missing-data</code></td>
<td style="text-align: left">Extra data required to create the ledger. Often, this occurs if the holder of the ledger is missing the data required to generate a ledger.</td>
</tr>
<tr>
<td style="text-align: left"><code>ledger-status-pending</code></td>
<td style="text-align: left">The ledger is being created. To avoid fetching an ledger in this state, use our <code>/wait</code> parameter.</td>
</tr>
<tr>
<td style="text-align: left"><code>ledger-status-error</code></td>
<td style="text-align: left">The ledger has not been created properly. This occurs if the proposed holder of the ledger is in a state in which they are unable to hold the ledger, for instance, pending.</td>
</tr>
<tr>
<td style="text-align: left"><code>ledger-status-ok</code></td>
<td style="text-align: left">The ledger is ready to receive and send money to and from. You will receive a <code>type: entity-ready-to-use</code> webhook.</td>
</tr>
<tr>
<td style="text-align: left"><code>ledger-status-declined</code></td>
<td style="text-align: left">The ledger has been declined. For instance if the <code>&quot;ledger_t_and_cs_country_of_jurisdiction&quot;:</code> is not acceptable to our compliance team.</td>
</tr>
</tbody></table>
<h3 id='cards'>Cards</h3>
<table><thead>
<tr>
<th style="text-align: left">Message</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code>card-status-created</code></td>
<td style="text-align: left">The card has been successfully created.</td>
</tr>
<tr>
<td style="text-align: left"><code>card-status-suspending</code></td>
<td style="text-align: left">The card is in the process of being suspended. Use the <code>/wait</code> parameter to wait until it is in a REST state (in this case, suspended).</td>
</tr>
<tr>
<td style="text-align: left"><code>card-status-suspended</code></td>
<td style="text-align: left">The card has been suspended by the enduser. You will receive a <code>type: card-suspended</code> webhook.</td>
</tr>
<tr>
<td style="text-align: left"><code>card-status-awaiting-activation</code></td>
<td style="text-align: left">The card has been created but not activated. You will receive a <code>type: card-awaiting-activation</code> webhook.</td>
</tr>
<tr>
<td style="text-align: left"><code>card-status-activating</code></td>
<td style="text-align: left">The card is being activated. Use the <code>/wait</code> parameter to wait until it is in a REST state (in this case, activated).</td>
</tr>
<tr>
<td style="text-align: left"><code>card-status-active</code></td>
<td style="text-align: left">The card is active and ready to be used. You will receive a <code>type: card-activated</code> webhook.</td>
</tr>
<tr>
<td style="text-align: left"><code>card-status-failed</code></td>
<td style="text-align: left">The card has failed to create for one of the reasons below. You will receive a <code>type: card-failed</code> webhook.</td>
</tr>
<tr>
<td style="text-align: left">Possible failure reasons:</td>
<td style="text-align: left"></td>
</tr>
<tr>
<td style="text-align: left"><code>card-not-active</code></td>
<td style="text-align: left">Set when card status is not equal to active.</td>
</tr>
<tr>
<td style="text-align: left"><code>contact-support</code></td>
<td style="text-align: left">Set when we get recommendation to decline from paymentology.</td>
</tr>
<tr>
<td style="text-align: left"><code>fx-issue</code></td>
<td style="text-align: left">Returned in one of these cases: contributed-price-not-set, contributed-price-suspended or contributed-price-expired.</td>
</tr>
<tr>
<td style="text-align: left"><code>card-rules-breached</code></td>
<td style="text-align: left">Added if any of the card rules are breached.</td>
</tr>
<tr>
<td style="text-align: left"><code>partner-error</code></td>
<td style="text-align: left">When an error occurs on the partner side.</td>
</tr>
<tr>
<td style="text-align: left"><code>insufficient-funds</code></td>
<td style="text-align: left">When we have insufficient funds in customer card ledger.</td>
</tr>
</tbody></table>
<h2 id='types-of-transaction'>Types of Transaction</h2>
<table><thead>
<tr>
<th style="text-align: left">Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code>transaction-type-send</code></td>
<td style="text-align: left">A transaction from a ledger to a beneficiary</td>
</tr>
<tr>
<td style="text-align: left"><code>transaction-type-inter-ledger</code></td>
<td style="text-align: left">A transaction between two ledgers of the same <code>asset_class</code> and <code>asset_type</code></td>
</tr>
<tr>
<td style="text-align: left"><code>transaction-type-manual-credit</code></td>
<td style="text-align: left">A credit of a virtual ledger</td>
</tr>
<tr>
<td style="text-align: left"><code>transaction-type-manual-debit</code></td>
<td style="text-align: left">A debit of a virtual ledger</td>
</tr>
<tr>
<td style="text-align: left"><code>transaction-type-inter-ledger-omnibus</code></td>
<td style="text-align: left">A transaction to or from a ledger of type-omnibus</td>
</tr>
<tr>
<td style="text-align: left"><code>transaction-type-receive</code></td>
<td style="text-align: left">A transaction from an external bank account to a Railsbank ledger</td>
</tr>
<tr>
<td style="text-align: left"><code>transaction-type-virtual-debit-card-debit</code></td>
<td style="text-align: left">A Railsbank Debit Card debit</td>
</tr>
<tr>
<td style="text-align: left"><code>transaction-type-card-receive</code></td>
<td style="text-align: left">A Railsbank Card Credit</td>
</tr>
<tr>
<td style="text-align: left"><code>transaction-type-fx</code></td>
<td style="text-align: left">A convert-and-send money transaction to a beneficiary</td>
</tr>
</tbody></table>
<h1 id='faqs'>FAQs</h1>
<ol>
<li><p>How long does it take to be onboarded to Railsbank and get <strong>Live</strong> API Keys?</p>

<ul>
<li> At the moment, about 2 weeks, so over 10 times faster than if you tried to open  accounts with a traditional bank.</li>
</ul></li>
<li><p>What are the <strong>PlayLive</strong> limits?</p>

<ul>
<li>3 endusers</li>
<li>3 ledgers</li>
<li>Maximum value of a transaction: £5 or €5</li>
<li>Maximum value of aggregated transactions: £20 or €20.<br></li>
</ul></li>
<li><p>I have hit one of the <strong>PlayLive</strong> limits, what should I do?</p>

<ul>
<li>Unfortunately, due to compliance reasons we cannot raise your limits in PlayLive, so please be sure that you have sent all the money out of your ledgers before hitting the limit</li>
<li>If you&#39;re enjoying Railsbank and think it could be useful to your business, <a href="mailto:support@railsbank.com">email us</a>, ideally with your <code>customer_id</code> (see the #docTextSection:c89caSCSLsLftoCgb guide to learn how).</li>
<li>Continue your testing on <strong>Play</strong> - it works in exactly the same way just with fake money.</li>
</ul></li>
<li><p>I have tried to use one of the Railsbank <strong>Capabilities</strong> and received an error of <code>customer does not have product enabled</code>, what should I do?</p>

<ul>
<li><a href="mailto:support@railsbank.com">Email us</a>, with your <code>customer_id</code> and the product you need enabling.</li>
<li>Note however, that it may be the case that the product requires a contract.</li>
</ul></li>
<li><p>I have sent money to a beneficiary and if I fetch the transaction it has <code>transaction-status-accepted</code>, but the money hasn&#39;t arrived in the beneficiary&#39;s account, why?</p>

<ul>
<li>The most likely reason for this is that the transaction has broken a <strong>Partner Firewall Rule</strong> and fallen into <strong>Partner Quarantine</strong>.</li>
<li>Due to &#39;tipping-off&#39; regulation our partners cannot inform you if a transaction falls into their quarantine queue. If their compliance officer <strong>passes</strong> the transaction, your beneficiary will receive the money, if not, you will be returned the money, along with an update to the transaction status to <code>declined</code>.</li>
</ul></li>
<li><p>Are you &#39;crypto-friendly&#39;?</p>

<ul>
<li>Yes. We built <strong>The Compliance Firewall</strong> with helping our <strong>Partners</strong> manage the crypto risk and capitalize upon it&#39;s potential in mind.</li>
</ul></li>
<li><p>I&#39;ve got an API-Key but when I try to use it to send a request to the API, the API tells me: <code>You are not authenticated</code>. Why might this have occurred?</p>

<ul>
<li>The first reason this occurs is if you try to use an API key for a different arena to the one you are sending the request in i.e. using a <strong>Play</strong> API-Key to try and do something in <strong>PlayLive</strong>.</li>
<li>The second reason is that you have forgot to put <code>API-Key</code> followed by a space before the string of characters that you were given. For a key to work it should look something like this: <code>API-Key sfheuogh4th48thhrghwieurh</code>.</li>
</ul></li>
</ol>
<h1 id='guides'>Guides</h1><h2 id='using-these-guides'>Using these Guides</h2>
<ul>
<li>We want you to explore (and give feedback to) Railsbank. The following guides will take you on a step-by-step tour through the most important aspects of the API.</li>
<li>In the following examples, we will be using the <strong>PlayLive</strong> environment. To use these examples in a <strong>Play</strong> or <strong>Live</strong> environment, simply change the Authorization <code>API-Key</code> to the correct Key and change the base URL to <code>https://play.railsbank.com</code> or <code>https://live.railsbank.com</code> respectively.</li>
<li>We aim to be simple and self-service; anyone can make their way through any of these guides.
## What you will need</li>
<li>Playlive API Keys</li>
<li>Access to a terminal or a testing tool like Postman.</li>
</ul>
<h1 id='send-money-to-a-beneficiary'>Send Money to a Beneficiary</h1>
<ul>
<li>The fundamental feature of almost any financial services business is sending – and therefore also receiving money.</li>
<li>In this short guide we will demonstrate how easy it is with Railsbank.</li>
<li>There are five steps:</li>
</ul>

<p>1. Onboard an Enduser
      2. Give the Enduser a Ledger
      3. Fetch the Ledger (in order to fund the ledger)
      4. Add a new Beneficiary
      5. Send Money to the Beneficiary</p>
<h2 id='onboard-an-enduser'>Onboard an Enduser</h2>
<blockquote>
<p><strong>Example Request</strong></p>
</blockquote>
<pre class="highlight shell tab-shell"><code>      --request POST <span class="s2">"https://playlive.railsbank.com/v1/customer/endusers"</span>
      --header <span class="s2">"Content-Type: application/json"</span>
        --header <span class="s2">"Accept: application/json"</span>
        --header <span class="s2">"Authorization: API-Key &lt;&lt;yourAPI-Key&gt;&gt;"</span>
      <span class="o">{</span>
        <span class="s2">"person"</span>: <span class="o">{</span>
             <span class="s2">"name"</span>: <span class="s2">"John Smith"</span>,
             <span class="s2">"email"</span>: <span class="s2">"johnsmith@gmail.com"</span>,
             <span class="s2">"date_of_birth"</span>: <span class="s2">"1970-11-05"</span>,
             <span class="s2">"address"</span>: <span class="o">{</span>
               <span class="s2">"address_refinement"</span>: <span class="s2">"Apartment 42"</span>,
               <span class="s2">"address_number"</span>: <span class="s2">"29"</span>,
               <span class="s2">"address_street"</span>: <span class="s2">"Acacia Road"</span>,
               <span class="s2">"address_city"</span>: <span class="s2">"London"</span>,
               <span class="s2">"address_postal_code"</span>: <span class="s2">"FX20 7XS"</span>,
               <span class="s2">"address_iso_country"</span>: <span class="s2">"GBR"</span>
             <span class="o">}</span>,
             <span class="s2">"nationality"</span>: <span class="o">[</span>
               <span class="s2">"British"</span>
             <span class="o">]</span>,
             <span class="s2">"country_of_residence"</span>: <span class="o">[</span>
               <span class="s2">"GBR"</span>
             <span class="o">]</span>
        <span class="o">}</span>
      <span class="o">}</span>
</code></pre>
<blockquote>
<p><strong>Example Curl Request</strong></p>
</blockquote>
<pre class="highlight shell tab-shell"><code>
    curl -X POST <span class="s2">"https://playlive.railsbank.com/v1/customer/endusers"</span> -H <span class="s2">"accept: application/json"</span> -H <span class="s2">"Authorization: API-Key &lt;&lt;yourAPI-Key&gt;&gt;"</span> -H <span class="s2">"Content-Type: application/json"</span> -d <span class="s2">"{ </span><span class="se">\"</span><span class="s2">person</span><span class="se">\"</span><span class="s2">: { </span><span class="se">\"</span><span class="s2">name</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">John Smith</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">email</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">johnsmith@gmail.com</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">date_of_birth</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">1970-11-05</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">address</span><span class="se">\"</span><span class="s2">: { </span><span class="se">\"</span><span class="s2">address_refinement</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">Apartment 42</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">address_number</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">29</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">address_street</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">Acacia Road</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">address_city</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">London</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">address_postal_code</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">FX20 7XS</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">address_iso_country</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">GBR</span><span class="se">\"</span><span class="s2"> }, </span><span class="se">\"</span><span class="s2">nationality</span><span class="se">\"</span><span class="s2">: [ </span><span class="se">\"</span><span class="s2">British</span><span class="se">\"</span><span class="s2"> ], </span><span class="se">\"</span><span class="s2">country_of_residence</span><span class="se">\"</span><span class="s2">: [ </span><span class="se">\"</span><span class="s2">GBR</span><span class="se">\"</span><span class="s2"> ]} }"</span>

</code></pre>
<blockquote>
<p><strong>Example Response</strong></p>
</blockquote>
<pre class="highlight shell tab-shell"><code>    <span class="o">{</span>
      <span class="s2">"enduser_id"</span>: <span class="s2">"5cf0e7ed-439e-4781-b42c-8d0c0c15adf3"</span>
    <span class="o">}</span>
</code></pre>
<ul>
<li>Endusers are the customers of our customer.</li>
<li>In this case the enduser will be a person – John Smith – who will &#39;hold&#39; the ledger that we will send money from, and the beneficiary that we will send money too (meaning the beneficiary is essentially in their list of recipients).</li>
<li>This is the <strong>minimum data</strong> required to create an enduser that can hold a ledger and a beneficiary.</li>
<li>The API will respond with an <code>enduser_id</code>, which you need to save as a variable because we&#39;re going to use it to create a ledger and a beneficiary.</li>
</ul>
<h2 id='give-the-enduser-a-ledger'>Give the Enduser a Ledger</h2>
<blockquote>
<p><strong>Example Request</strong></p>
</blockquote>
<pre class="highlight shell tab-shell"><code>      --request POST <span class="s2">"https://playlive.railsbank.com/v1/customer/ledgers"</span>
      --header <span class="s2">"Content-Type: application/json"</span>
      --header <span class="s2">"Accept: application/json"</span>
      --header <span class="s2">"Authorization: API-Key &lt;&lt;yourAPI-Key&gt;&gt;"</span>
      <span class="o">{</span>
        <span class="s2">"holder_id"</span>: <span class="s2">"{{ENDUSER_ID}}"</span>,
        <span class="s2">"partner_product"</span>: <span class="s2">"PayrNet-GBP-1"</span>,
        <span class="s2">"asset_class"</span>: <span class="s2">"currency"</span>,
        <span class="s2">"asset_type"</span>: <span class="s2">"gbp"</span>,
        <span class="s2">"ledger_type"</span>: <span class="s2">"ledger-type-single-user"</span>,
        <span class="s2">"ledger_who_owns_assets"</span>: <span class="s2">"ledger-assets-owned-by-me"</span>,
        <span class="s2">"ledger_primary_use_types"</span>: <span class="o">[</span><span class="s2">"ledger-primary-use-types-payments"</span><span class="o">]</span>,
        <span class="s2">"ledger_t_and_cs_country_of_jurisdiction"</span>: <span class="s2">"GB"</span>
      <span class="o">}</span>
</code></pre>
<blockquote>
<p><strong>Example Curl Request</strong></p>
</blockquote>
<pre class="highlight shell tab-shell"><code>      curl -X POST <span class="s2">"https://playlive.railsbank.com/v1/customer/ledgers"</span> -H <span class="s2">"accept: application/json"</span> -H <span class="s2">"Authorization: API-Key &lt;&lt;yourAPi-Key&gt;&gt;"</span> -H <span class="s2">"Content-Type: application/json"</span> -d <span class="s2">"{ </span><span class="se">\"</span><span class="s2">holder_id</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">{{ENDUSER_ID}}</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">partner_product</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">PayrNet-GBP-1</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">asset_class</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">currency</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">asset_type</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">gbp</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">ledger_type</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">ledger-type-single-user</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">ledger_who_owns_assets</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">ledger-assets-owned-by-me</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">ledger_primary_use_types</span><span class="se">\"</span><span class="s2">: [</span><span class="se">\"</span><span class="s2">ledger-primary-use-types-payments</span><span class="se">\"</span><span class="s2">], </span><span class="se">\"</span><span class="s2">ledger_t_and_cs_country_of_jurisdiction</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">GB</span><span class="se">\"</span><span class="s2">}"</span>
</code></pre>
<blockquote>
<p><strong>Example Response</strong></p>
</blockquote>
<pre class="highlight shell tab-shell"><code>      <span class="o">{</span>
        <span class="s2">"ledger_id"</span>: <span class="s2">"5cf0eb53-085e-4b1a-ab8d-ecd6c3b9bbd1"</span>
      <span class="o">}</span>
</code></pre>
<ul>
<li>Ledgers are digital bank accounts. In the Playlive environment they are live bank accounts, meaning you can send and receive money with them.</li>
<li>In this example we will create a GBP ledger, which is connected to UK Faster Payments, meaning when we fund it the money will be received within minutes.</li>
<li>Playlive has strict compliance limits. Most importantly, the maximum amount for transactions is £5 and the maximum cumulative amount for transactions is £20 – It is designed for this sort of simple, early testing of the API. Real testing of your integration with Railsbank can be done in the Play environment with virtual money.</li>
<li>The API will respond with a <code>ledger_id</code>, which you need to save as a variable because we&#39;re going to use it to fetch the ledger to get the account details.</li>
</ul>
<h2 id='fetch-the-ledger'>Fetch the ledger</h2>
<blockquote>
<p><strong>Example Request</strong></p>
</blockquote>
<pre class="highlight shell tab-shell"><code>    --request GET <span class="s2">"https://playlive.railsbank.com/v1/customer/ledgers/{{LEDGER_ID}}"</span>
    --header <span class="s2">"Accept: application/json"</span>
    --header <span class="s2">"Authorization: API-Key &lt;&lt;yourAPI-Key&gt;&gt;"</span>
</code></pre>
<blockquote>
<p><strong>Example Curl Request</strong></p>
</blockquote>
<pre class="highlight shell tab-shell"><code>      curl -X GET <span class="s2">"https://playlive.railsbank.com/v1/customer/ledgers/{{LEDGER_ID}}"</span> -H <span class="s2">"accept: application/json"</span> -H <span class="s2">"Authorization: API-Key &lt;&lt;yourAPI-Key&gt;&gt;"</span>
</code></pre>
<blockquote>
<p><strong>Example Response</strong></p>
</blockquote>
<pre class="highlight shell tab-shell"><code>      <span class="o">{</span>
        <span class="s2">"iban"</span>: <span class="s2">"GB26PAYR040052020323XX"</span>,
        <span class="s2">"last_modified_at"</span>: <span class="s2">"2019-05-31T08:52:35.114Z"</span>,
        <span class="s2">"ledger_primary_use_types"</span>: <span class="o">[</span>
          <span class="s2">"ledger-primary-use-types-payments"</span>
        <span class="o">]</span>,
        <span class="s2">"ledger_id"</span>: <span class="s2">"5cf0eb53-085e-4b1a-ab8d-ecd6c3b9bbd1"</span>,
        <span class="s2">"ledger_holder"</span>: <span class="o">{</span>
          <span class="s2">"enduser_id"</span>: <span class="s2">"5cf0e7ed-439e-4781-b42c-8d0c0c15adf3"</span>,
          <span class="s2">"person"</span>: <span class="o">{</span>
            <span class="s2">"name"</span>: <span class="s2">"John Smith"</span>
          <span class="o">}</span>
        <span class="o">}</span>,
        <span class="s2">"ledger_who_owns_assets"</span>: <span class="s2">"ledger-assets-owned-by-me"</span>,
        <span class="s2">"uk_sort_code"</span>: <span class="s2">"040052"</span>,
        <span class="s2">"partner_ref"</span>: <span class="s2">"payrnet"</span>,
        <span class="s2">"holder_id"</span>: <span class="s2">"5cf0e7ed-439e-4781-b42c-8d0c0c15adf3"</span>,
        <span class="s2">"partner_id"</span>: <span class="s2">"58fe2ce1-b90b-4868-b40d-cb3bc43395d9"</span>,
        <span class="s2">"ledger_t_and_cs_country_of_jurisdiction"</span>: <span class="s2">"GB"</span>,
        <span class="s2">"bic_swift"</span>: <span class="s2">"PAYRGB2LXXX"</span>,
        <span class="s2">"ledger_status"</span>: <span class="s2">"ledger-status-ok"</span>,
        <span class="s2">"amount"</span>: 0,
        <span class="s2">"created_at"</span>: <span class="s2">"2019-05-31T08:52:35.114Z"</span>,
        <span class="s2">"partner_product"</span>: <span class="s2">"PayrNet-GBP-1"</span>,
        <span class="s2">"partner"</span>: <span class="o">{</span>
          <span class="s2">"partner_id"</span>: <span class="s2">"58fe2ce1-b90b-4868-b40d-cb3bc43395d9"</span>,
          <span class="s2">"company"</span>: <span class="o">{</span>
            <span class="s2">"name"</span>: <span class="s2">"PayrNet"</span>
          <span class="o">}</span>,
          <span class="s2">"partner_ref"</span>: <span class="s2">"payrnet"</span>
        <span class="o">}</span>,
        <span class="s2">"ledger_iban_status"</span>: <span class="s2">"ledger-iban-status-ok"</span>,
        <span class="s2">"asset_type"</span>: <span class="s2">"gbp"</span>,
        <span class="s2">"uk_account_number"</span>: <span class="s2">"020323XX"</span>,
        <span class="s2">"asset_class"</span>: <span class="s2">"currency"</span>,
        <span class="s2">"ledger_type"</span>: <span class="s2">"ledger-type-single-user"</span>
    <span class="o">}</span>
</code></pre>
<ul>
<li>In order to send money to a beneficiary we need to have money on our ledger. We therefore need to fund the ledger from a bank account outside of Railsbank. The easiest way to do this is to send money via the UK Faster Payments scheme. If your bank account does not have access to UKFP, please <a href="mailto:support@railsbank.com">contact us</a> and we will help you fund your ledger.</li>
<li>In order to fund the ledger, we need to know the account details. To do that we need to fetch the ledger.</li>
<li>Once you have the account details, simply send any amount less than £5 to the ledger from your bank account.</li>
<li>Once you have sent the money, keep fetching the ledger (if you want to use a webhook see the webhook endpoints below) until the <code>amount</code> field changes to the amount you sent.</li>
<li>The API will respond with all the information about the ledger, like so. Note the <code>uk_account_number</code> and <code>uk_sort_code</code>.</li>
</ul>
<h2 id='add-a-new-beneficiary'>Add a new Beneficiary</h2>
<blockquote>
<p><strong>Example Request</strong></p>
</blockquote>
<pre class="highlight shell tab-shell"><code>     --request POST <span class="s2">"https://playlive.railsbank.com/v1/customer/beneficiaries"</span>
     --header <span class="s2">"Content-Type: application/json"</span>
     --header <span class="s2">"Accept: application/json"</span>
     --header <span class="s2">"Authorization: API-Key &lt;&lt;yourAPI-Key&gt;&gt;"</span>
     <span class="o">{</span>
       <span class="s2">"asset_class"</span>: <span class="s2">"currency"</span>,
       <span class="s2">"asset_type"</span>: <span class="s2">"gbp"</span>,
       <span class="s2">"default_account"</span>: <span class="o">{</span>
         <span class="s2">"account_number"</span>: <span class="s2">"45564658"</span>,
         <span class="s2">"bank_country"</span>: <span class="s2">"GB"</span>,
         <span class="s2">"bank_code"</span>: <span class="s2">"040004"</span>,
         <span class="s2">"bank_name"</span>: <span class="s2">"Monzo"</span>,
         <span class="s2">"asset_type"</span>: <span class="s2">"gbp"</span>,
         <span class="s2">"asset_class"</span>: <span class="s2">"currency"</span>,
         <span class="s2">"bank_code_type"</span>: <span class="s2">"sort-code"</span>
       <span class="o">}</span>,
       <span class="s2">"holder_id"</span>: <span class="s2">"{{ENDUSER_ID}}"</span>,
       <span class="s2">"person"</span>: <span class="o">{</span>
            <span class="s2">"name"</span>: <span class="s2">"John Smith"</span>,
            <span class="s2">"email"</span>: <span class="s2">"johnsmith@gmail.com"</span>,
            <span class="s2">"date_of_birth"</span>: <span class="s2">"1970-11-05"</span>,
            <span class="s2">"address"</span>: <span class="o">{</span>
              <span class="s2">"address_refinement"</span>: <span class="s2">"Apartment 42"</span>,
              <span class="s2">"address_number"</span>: <span class="s2">"29"</span>,
              <span class="s2">"address_street"</span>: <span class="s2">"Acacia Road"</span>,
              <span class="s2">"address_city"</span>: <span class="s2">"London"</span>,
              <span class="s2">"address_postal_code"</span>: <span class="s2">"FX20 7XS"</span>,
              <span class="s2">"address_iso_country"</span>: <span class="s2">"GBR"</span>
            <span class="o">}</span>,
            <span class="s2">"nationality"</span>: <span class="o">[</span>
              <span class="s2">"British"</span>
            <span class="o">]</span>,
            <span class="s2">"country_of_residence"</span>: <span class="o">[</span>
              <span class="s2">"GBR"</span>
            <span class="o">]</span>
       <span class="o">}</span>   
     <span class="o">}</span>
</code></pre>
<blockquote>
<p><strong>Example Curl Request</strong></p>
</blockquote>
<pre class="highlight shell tab-shell"><code>  curl -X POST <span class="s2">"https://playlive.railsbank.com/v1/customer/beneficiaries"</span> -H <span class="s2">"accept: application/json"</span> -H <span class="s2">"Authorization: API-Key y6jsxhvf507460eobh03bjjyi68termc#de3vkuuw7ao9u35lrivhs4cpp3ijum5jodrya7xg2nq5k0a9c9drbobz6bsm4che"</span> -H <span class="s2">"Content-Type: application/json"</span> -d <span class="s2">"{ </span><span class="se">\"</span><span class="s2">uk_account_number</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">55631106</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">uk_sort_code</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">040004</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">asset_class</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">currency</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">asset_type</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">gbp</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">holder_id</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">5cf0e7ed-439e-4781-b42c-8d0c0c15adf3</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">person</span><span class="se">\"</span><span class="s2">: { </span><span class="se">\"</span><span class="s2">name</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">John Smith</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">email</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">johnsmith@gmail.com</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">date_of_birth</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">1970-11-05</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">address</span><span class="se">\"</span><span class="s2">: { </span><span class="se">\"</span><span class="s2">address_refinement</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">Apartment 42</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">address_number</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">29</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">address_street</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">Acacia Road</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">address_city</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">London</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">address_postal_code</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">FX20 7XS</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">address_iso_country</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">GBR</span><span class="se">\"</span><span class="s2"> }, </span><span class="se">\"</span><span class="s2">nationality</span><span class="se">\"</span><span class="s2">: [ </span><span class="se">\"</span><span class="s2">British</span><span class="se">\"</span><span class="s2"> ], </span><span class="se">\"</span><span class="s2">country_of_residence</span><span class="se">\"</span><span class="s2">: [ </span><span class="se">\"</span><span class="s2">GBR</span><span class="se">\"</span><span class="s2"> ] } }"</span>
</code></pre>
<blockquote>
<p><strong>Example Response</strong></p>
</blockquote>
<pre class="highlight shell tab-shell"><code>    <span class="o">{</span>
      <span class="s2">"beneficiary_id"</span>: <span class="s2">"bb8b2428-f94c-41df-8e82-a895ab4d6ac8"</span>
    <span class="o">}</span>
</code></pre>
<ul>
<li>A beneficiary is just an entity that receives money from Railsbank ledgers.</li>
<li>The enduser who is sending the money to the beneficiary is the <code>holder</code> of that beneficiary.</li>
<li>In the example to the right we are using the minimum required data for creating a beneficiary.</li>
<li>In this case, use whatever GBP account you like for the beneficiary account. Why not just send your money back to your account?</li>
<li>The API will respond with a <code>beneficiary_id</code>, which you need to save as a variable because we&#39;re going to use it to send money to the beneficiary.</li>
</ul>
<h2 id='send-money-to-the-beneficiary'>Send money to the Beneficiary</h2>
<blockquote>
<p><strong>Example Request</strong></p>
</blockquote>
<pre class="highlight shell tab-shell"><code>    --request POST <span class="s2">"https://playlive.railsbank.com/v1/customer/transactions"</span>
    --header <span class="s2">"Content-Type: application/json"</span>
    --header <span class="s2">"Accept: application/json"</span>
    --header <span class="s2">"Authorization: API-Key &lt;&lt;yourAPI-Key&gt;&gt;"</span>
    <span class="o">{</span>
        <span class="s2">"payment_type"</span>: <span class="s2">"payment-type-UK-FasterPayments"</span>,
        <span class="s2">"reference"</span>: <span class="s2">"this is a test payment"</span>,
        <span class="s2">"amount"</span>: <span class="s2">"1"</span>,
        <span class="s2">"ledger_from_id"</span>: <span class="s2">"{{LEDGER_ID}}"</span>,
        <span class="s2">"beneficiary_id"</span>: <span class="s2">"{{BENEFICIARY_ID}}"</span>,
    <span class="o">}</span>
</code></pre>
<blockquote>
<p><strong>Example Curl Request</strong></p>
</blockquote>
<pre class="highlight shell tab-shell"><code>      curl -X POST <span class="s2">"https://playlive.railsbank.com/v1/customer/transactions"</span> -H <span class="s2">"accept: application/json"</span> -H <span class="s2">"Authorization: API-Key y6jsxhvf507460eobh03bjjyi68termc#de3vkuuw7ao9u35lrivhs4cpp3ijum5jodrya7xg2nq5k0a9c9drbobz6bsm4che"</span> -H <span class="s2">"Content-Type: application/json"</span> -d <span class="s2">"{ </span><span class="se">\"</span><span class="s2">payment_type</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">payment-type-UK-FasterPayments</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">reference</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">this is a test payment</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">amount</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">1</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">ledger_from_id</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">{{LEDGER_ID}}</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">beneficiary_id</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">{{BENEFICIARY_ID}}</span><span class="se">\"</span><span class="s2">,}"</span>
</code></pre>
<blockquote>
<p><strong>Example Response</strong></p>
</blockquote>
<pre class="highlight shell tab-shell"><code>    <span class="o">{</span>
      <span class="s2">"transaction_id"</span>: <span class="s2">"bb8b2428-f94c-41df-8e82-a895ab4d782"</span>
    <span class="o">}</span>
</code></pre>
<ul>
<li>If the money has arrived in your ledger and you have created your beneficiary you have everything you need to send money to the beneficiary.</li>
<li>Once again the funds will travel via the UK Faster Payments scheme, arriving in the beneficiary account within minutes.</li>
<li>The API will respond with a <code>transaction_id</code> and the beneficiary should receive the money.</li>
<li>If you want to check the transaction, use the <code>transaction_id</code> and check out the Fetch a transaction endpoint.</li>
</ul>
<h1 id='endpoints'>Endpoints</h1><h1 id='onboarding-endusers'>Onboarding Endusers</h1>
<blockquote>
<p><strong>Endpoints</strong></p>
</blockquote>
<pre class="highlight shell tab-shell"><code>  POST /v1/customer/endusers
  GET /v1/customer/endusers/<span class="o">{{</span>ENDUSER_ID<span class="o">}}</span>
  PUT /v1/customer/endusers/<span class="o">{{</span>ENDUSER_ID<span class="o">}}</span>
</code></pre>
<ul>
<li><p><strong>Endusers</strong> are the private individuals or companies that use Railsbank&#39;s capabilities; they are the customers of our customers.</p></li>
<li><p>In the following example we shall onboard two endusers:</p>

<ul>
<li>John Smith (a private individual, also called a <strong>person</strong>)</li>
<li>Numaro Ltd. (a corporation, also called a <strong>company</strong>)</li>
</ul></li>
<li><p>The code in the following sections are examples of payloads for creating the two types of endusers: <strong>Person</strong> and <strong>Company</strong>.</p></li>
<li><p>The single endpoint is conditional on the type of enduser. Only one of the two fields is allowed to exist in the request body:</p>

<ul>
<li>If the enduser is a private individual, you will just need to include the fields for <code>person</code>.</li>
<li>If the enduser is a company, you will just need to include the fields from <code>company</code>.</li>
</ul></li>
<li><p>The minimum data required is simply the name of the <code>person</code> or <code>company</code>.</p></li>
<li><p>Whilst a name technically allows you to create an enduser, for compliance reasons, you must include the following fields:</p></li>
<li><p>If it&#39;s a person:</p>

<ul>
<li>Name</li>
<li>Address</li>
<li>Country of residence</li>
</ul></li>
<li><p>If it&#39;s a company:</p>

<ul>
<li>Ultimate beneficial owner information</li>
<li>If the trading address is different from the registered address, you will need both</li>
</ul></li>
<li><p>Please note that the <code>name</code> (or <code>trading name</code> in the case of a company) of your enduser has a 50 character maximum limit.</p></li>
</ul>
<h2 id='onboard-an-individual-enduser'>Onboard an Individual Enduser</h2>
<blockquote>
<p><strong>Example Request</strong></p>
</blockquote>
<pre class="highlight shell tab-shell"><code>  --request POST <span class="s2">"https://playlive.railsbank.com/v1/customer/endusers"</span>
  --header <span class="s2">"Content-Type: application/json"</span>
    --header <span class="s2">"Accept: application/json"</span>
    --header <span class="s2">"Authorization: API-Key &lt;&lt;yourAPI-Key&gt;&gt;"</span>

  <span class="o">{</span>
    <span class="s2">"person"</span>: <span class="o">{</span>
         <span class="s2">"name"</span>: <span class="s2">"John Smith"</span>,
         <span class="s2">"email"</span>: <span class="s2">"johnsmith@gmail.com"</span>,
         <span class="s2">"date_of_birth"</span>: <span class="s2">"1970-11-05"</span>,
         <span class="s2">"telephone"</span>: <span class="s2">"+44 22 626 2626"</span>,
         <span class="s2">"address"</span>: <span class="o">{</span>
           <span class="s2">"address_refinement"</span>: <span class="s2">"Apartment 42"</span>,
           <span class="s2">"address_number"</span>: <span class="s2">"29"</span>,
           <span class="s2">"address_street"</span>: <span class="s2">"Acacia Road"</span>,
           <span class="s2">"address_city"</span>: <span class="s2">"London"</span>,
           <span class="s2">"address_postal_code"</span>: <span class="s2">"FX20 7XS"</span>,
           <span class="s2">"address_iso_country"</span>: <span class="s2">"GBR"</span>
         <span class="o">}</span>,
         <span class="s2">"address_history"</span>: <span class="o">[</span>
           <span class="o">{</span>
             <span class="s2">"address_refinement"</span>: <span class="s2">"Apartment 77"</span>,
             <span class="s2">"address_number"</span>: <span class="s2">"42"</span>,
             <span class="s2">"address_street"</span>: <span class="s2">"Kirschbaumstraße"</span>,
             <span class="s2">"address_city"</span>: <span class="s2">"Berlin"</span>,
             <span class="s2">"address_postal_code"</span>: <span class="s2">"12059"</span>,
             <span class="s2">"address_iso_country"</span>: <span class="s2">"DE"</span>,
             <span class="s2">"address_start_date"</span>: <span class="s2">"2000-09-02"</span>,
             <span class="s2">"address_end_date"</span>: <span class="s2">"2002-12-20"</span>
           <span class="o">}</span>
         <span class="o">]</span>,
         <span class="s2">"nationality"</span>: <span class="o">[</span>
           <span class="s2">"British"</span>
         <span class="o">]</span>,
         <span class="s2">"country_of_residence"</span>: <span class="o">[</span>
           <span class="s2">"GBR"</span>
         <span class="o">]</span>,
         <span class="s2">"date_onboarded"</span>: <span class="s2">"2015-11-21"</span>
       <span class="o">}</span>,
        <span class="s2">"enduser_meta"</span>: <span class="o">{</span>
         <span class="s2">"foo"</span>: <span class="s2">"baa"</span>,
        <span class="s2">"our_salesforce_reference"</span>: <span class="s2">"http://na1.salesforce.com/5003000000D8cuI"</span>
    <span class="o">}</span>
  <span class="o">}</span>
</code></pre>
<blockquote>
<p><strong>Example Curl Request</strong></p>
</blockquote>
<pre class="highlight shell"><code>     curl -X POST <span class="s2">"https://playlive.railsbank.com/v1/customer/endusers"</span> -H <span class="s2">"accept: application/json"</span> -H <span class="s2">"Authorization: API-Key &lt;&lt;yourAPI-Key&gt;&gt;"</span> -H <span class="s2">"Content-Type: application/json"</span> -d <span class="s2">"{ </span><span class="se">\"</span><span class="s2">person</span><span class="se">\"</span><span class="s2">: { </span><span class="se">\"</span><span class="s2">name</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">John Smith</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">email</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">johnsmith@gmail.com</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">date_of_birth</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">1970-11-05</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">telephone</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">+44 22 626 2626</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">address</span><span class="se">\"</span><span class="s2">: { </span><span class="se">\"</span><span class="s2">address_refinement</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">Apartment 42</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">address_number</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">29</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">address_street</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">Acacia Road</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">address_city</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">London</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">address_postal_code</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">FX20 7XS</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">address_iso_country</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">GBR</span><span class="se">\"</span><span class="s2"> }, </span><span class="se">\"</span><span class="s2">address_history</span><span class="se">\"</span><span class="s2">: [ { </span><span class="se">\"</span><span class="s2">address_refinement</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">Apartment 77</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">address_number</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">42</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">address_street</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">Kirschbaumstraße</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">address_city</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">Berlin</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">address_postal_code</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">12059</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">address_iso_country</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">DE</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">address_start_date</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">2000-09-02</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">address_end_date</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">2002-12-20</span><span class="se">\"</span><span class="s2"> } ], </span><span class="se">\"</span><span class="s2">nationality</span><span class="se">\"</span><span class="s2">: [ </span><span class="se">\"</span><span class="s2">British</span><span class="se">\"</span><span class="s2"> ], </span><span class="se">\"</span><span class="s2">country_of_residence</span><span class="se">\"</span><span class="s2">: [ </span><span class="se">\"</span><span class="s2">GBR</span><span class="se">\"</span><span class="s2"> ], </span><span class="se">\"</span><span class="s2">date_onboarded</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">2015-11-21</span><span class="se">\"</span><span class="s2"> }, </span><span class="se">\"</span><span class="s2">enduser_meta</span><span class="se">\"</span><span class="s2">: { </span><span class="se">\"</span><span class="s2">foo</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">baa</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">our_salesforce_reference</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">http://na1.salesforce.com/5003000000D8cuI</span><span class="se">\"</span><span class="s2"> } }"</span>
</code></pre>
<blockquote>
<p><strong>Example Response</strong></p>
</blockquote>
<pre class="highlight shell tab-shell"><code>  <span class="o">{</span>
      <span class="s2">"enduser_id"</span>: <span class="s2">"5b054129-9139-4300-b40a-2e1154e1edb8"</span>
  <span class="o">}</span>
</code></pre>
<p><code>POST &quot;https://playlive.railsbank.com/v1/customer/endusers&quot;</code></p>

<ul>
<li>This endpoint allows you to onboard an enduser (your customer) who is an individual.</li>
<li>Make sure, at a minimum, to include the name and full address of the user to ensure they are not blocked by compliance.</li>
<li>Check out the <code>enduser_meta</code> field which allows you to add custom fields to the enduser.</li>
</ul>
<h3 id='the-individual-enduser-object'>The Individual Enduser Object</h3>
<table><thead>
<tr>
<th style="text-align: left">Attribute</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code>person</code> <br> <em>object</em>, required (for individuals)</td>
<td style="text-align: left">Information about individual</td>
</tr>
<tr>
<td style="text-align: left"><code>person.name</code> <br> <em>string</em>, required</td>
<td style="text-align: left">Full Name  <br> <em>Limited to 70 chars</em></td>
</tr>
<tr>
<td style="text-align: left"><code>person.country_of_residence</code> <br> <em>string</em>, required</td>
<td style="text-align: left">Country code <br>  <em>ISO 8601 format</em></td>
</tr>
<tr>
<td style="text-align: left"><code>person.date_of_birth</code> <br> <em>string</em>, optional</td>
<td style="text-align: left">Date of birth  <br> <em>YYYY-MM-DD</em></td>
</tr>
<tr>
<td style="text-align: left"><code>person.nationality</code> <br> <em>string</em>, optional</td>
<td style="text-align: left">Nationality</td>
</tr>
<tr>
<td style="text-align: left"><code>person.pep</code> <br> <em>boolean</em>, required (if applicable)</td>
<td style="text-align: left">Politically Exposed Person <br>  <em>Does not need to be inside &quot;&quot;</em></td>
</tr>
<tr>
<td style="text-align: left"><code>person.pep_type</code> <br> <em>string</em>, optional</td>
<td style="text-align: left">Extent of exposure <br>  <em>Allowed Values: <code>direct</code>, <code>close-associate</code>, <code>former-pep</code>, <code>family-member</code></em></td>
</tr>
<tr>
<td style="text-align: left"><code>person.pep_notes</code> <br> <em>string</em>, optional</td>
<td style="text-align: left">Extra detail</td>
</tr>
<tr>
<td style="text-align: left"><code>person.social_security_number</code> <br> <em>string</em>, optional</td>
<td style="text-align: left">SSN</td>
</tr>
<tr>
<td style="text-align: left"><code>person.telephone</code> <br> <em>string</em>, optional</td>
<td style="text-align: left">Phone number</td>
</tr>
<tr>
<td style="text-align: left"><code>person.tin</code> <br> <em>string</em>, optional</td>
<td style="text-align: left">Tax Identification Number</td>
</tr>
<tr>
<td style="text-align: left"><code>person.tin_type</code> <br> <em>string</em>, optional</td>
<td style="text-align: left">Type of Tax Identification Number</td>
</tr>
<tr>
<td style="text-align: left"><code>person.address</code> <br> <em>object</em>, required</td>
<td style="text-align: left">current address information</td>
</tr>
<tr>
<td style="text-align: left"><code>person.address.address_city</code> <br> <em>string</em>, required</td>
<td style="text-align: left">City that enduser lives in</td>
</tr>
<tr>
<td style="text-align: left"><code>person.address.address_iso_country</code><br> <em>string</em>, required</td>
<td style="text-align: left">Country code <br>  <em>ISO 8601 format</em></td>
</tr>
<tr>
<td style="text-align: left"><code>person.address.address_number</code> <br> <em>string</em>, required</td>
<td style="text-align: left">House or building number on street</td>
</tr>
<tr>
<td style="text-align: left"><code>person.address.address_postal_code</code> <br> <em>string</em>, required</td>
<td style="text-align: left">Postal or zip code</td>
</tr>
<tr>
<td style="text-align: left"><code>person.address.address_refinement</code> <br> <em>string</em>, optional</td>
<td style="text-align: left">Extra detail, e.g. house name</td>
</tr>
<tr>
<td style="text-align: left"><code>person.address.address_region</code> <br> <em>string</em>, required</td>
<td style="text-align: left">Region in country</td>
</tr>
<tr>
<td style="text-align: left"><code>person.address.address_street</code> <br> <em>string</em>, required</td>
<td style="text-align: left">Street the enduser lives on</td>
</tr>
<tr>
<td style="text-align: left"><code>person.address_history</code> <br> <em>array of objects</em>, optional</td>
<td style="text-align: left">Previous address information. Can include multiple addresses in an array</td>
</tr>
<tr>
<td style="text-align: left"><code>person.address_history.address_start_date</code> <br> <em>string</em>, optional</td>
<td style="text-align: left">Date at which the person began living at the address</td>
</tr>
<tr>
<td style="text-align: left"><code>person.address_history.address_end_date</code> <br> <em>string</em>, optional</td>
<td style="text-align: left">Date at which the person stopped living at the address</td>
</tr>
<tr>
<td style="text-align: left"><code>person.address_history.address_city</code> <br> <em>string</em>, optional</td>
<td style="text-align: left">City that enduser lived in</td>
</tr>
<tr>
<td style="text-align: left"><code>person.address_history.address_iso_country</code> <br> <em>string</em>, optional</td>
<td style="text-align: left">Country code <br>  <em>ISO 8601 format</em></td>
</tr>
<tr>
<td style="text-align: left"><code>person.address_history.address_number</code> <br> <em>string</em>, optional</td>
<td style="text-align: left">House or building number on street</td>
</tr>
<tr>
<td style="text-align: left"><code>person.address_history.address_postal_code</code> <br> <em>string</em>, optional</td>
<td style="text-align: left">Postal or zip code</td>
</tr>
<tr>
<td style="text-align: left"><code>person.address_history.address_refinement</code> <br> <em>string</em>, optional</td>
<td style="text-align: left">Extra detail, e.g. house name</td>
</tr>
<tr>
<td style="text-align: left"><code>person.address_history.address_region</code> <br> <em>string</em>, optional</td>
<td style="text-align: left">Region in country</td>
</tr>
<tr>
<td style="text-align: left"><code>person.address_history.address_street</code> <br> <em>string</em>, optional</td>
<td style="text-align: left">Street the enduser lived on</td>
</tr>
<tr>
<td style="text-align: left"><code>enduser_meta</code> <br> <em>object</em>, optional</td>
<td style="text-align: left">Any extra, custom fields that you want to include about the enduser</td>
</tr>
</tbody></table>
<h2 id='onboard-a-corporate-enduser'>Onboard a Corporate Enduser</h2>
<blockquote>
<p><strong>Example Request</strong></p>
</blockquote>
<pre class="highlight shell tab-shell"><code>    --request POST <span class="s2">"https://playlive.railsbank.com/v1/customer/endusers"</span>
    --header <span class="s2">"Content-Type: application/json"</span>
    --header <span class="s2">"Accept: application/json"</span>
    --header <span class="s2">"Authorization: API-Key &lt;&lt;yourapikey&gt;&gt;"</span>
    <span class="o">{</span>
      <span class="s2">"company"</span>: <span class="o">{</span>
            <span class="s2">"name"</span>: <span class="s2">"Example Company"</span>,
            <span class="s2">"trading_name"</span>: <span class="s2">"Example Company Ltd."</span>,  
            <span class="s2">"web_site"</span>: <span class="s2">"www.website.com"</span>,
            <span class="s2">"industry"</span>: <span class="s2">"Financial Services"</span>,
            <span class="s2">"listed_on_stock_exchange"</span>: <span class="nb">false</span>,
            <span class="s2">"registration_address"</span>:
        <span class="o">{</span>
           <span class="s2">"address_refinement"</span>: <span class="s2">"Floor 15"</span>,
           <span class="s2">"address_number"</span>: <span class="s2">"20"</span>,
           <span class="s2">"address_street"</span>: <span class="s2">"The Strand"</span>,
           <span class="s2">"address_city"</span>: <span class="s2">"London"</span>,
           <span class="s2">"address_postal_code"</span>: <span class="s2">"SS8 9JH"</span>,
           <span class="s2">"address_iso_country"</span>: <span class="s2">"GBR"</span>
        <span class="o">}</span>,
      <span class="s2">"directors"</span>: <span class="o">[</span>                         
        <span class="o">{</span>
          <span class="s2">"date_appointed"</span>: <span class="s2">"1990-01-01"</span>,
          <span class="s2">"job_title"</span>: <span class="s2">"CEO"</span>,
          <span class="s2">"is_also_ubo"</span>: <span class="nb">false</span>,
          <span class="s2">"person"</span>: <span class="o">{</span>
            <span class="s2">"country_of_residence"</span>: <span class="o">[</span>
              <span class="s2">"USA"</span>
            <span class="o">]</span>,
            <span class="s2">"pep"</span>: <span class="nb">false</span>,                
            <span class="s2">"email"</span>: <span class="s2">"johnsmith@gmail.com"</span>,
            <span class="s2">"name"</span>: <span class="s2">"John Smith"</span>,
            <span class="s2">"social_security_number"</span>: <span class="s2">"090606"</span>,
            <span class="s2">"telephone"</span>: <span class="s2">"+44 98 765 4321"</span>,
            <span class="s2">"date_of_birth"</span>: <span class="s2">"1981-02-03"</span>,
            <span class="s2">"nationality"</span>: <span class="o">[</span>
              <span class="s2">"American"</span>
            <span class="o">]</span>
          <span class="o">}</span>
        <span class="o">}</span>
      <span class="o">]</span>
    <span class="o">}</span>
  <span class="o">}</span>
</code></pre>
<blockquote>
<p><strong>Example Curl Request</strong></p>
</blockquote>
<pre class="highlight shell tab-shell"><code>      curl -X POST <span class="s2">"https://playlive.railsbank.com/v1/customer/endusers"</span> -H <span class="s2">"accept: application/json"</span> -H <span class="s2">"Authorization: API-Key &lt;&lt;yourAPI-Key&gt;&gt;"</span> -H <span class="s2">"Content-Type: application/json"</span> -d <span class="s2">"{ </span><span class="se">\"</span><span class="s2">company</span><span class="se">\"</span><span class="s2">: { </span><span class="se">\"</span><span class="s2">name</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">Example Company</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">trading_name</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">Example Company Ltd.</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">web_site</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">www.website.com</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">industry</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">Financial Services</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">listed_on_stock_exchange</span><span class="se">\"</span><span class="s2">: false, </span><span class="se">\"</span><span class="s2">registration_address</span><span class="se">\"</span><span class="s2">: { </span><span class="se">\"</span><span class="s2">address_refinement</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">Floor 15</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">address_number</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">20</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">address_street</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">The Strand</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">address_city</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">London</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">address_postal_code</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">SS8 9JH</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">address_iso_country</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">GBR</span><span class="se">\"</span><span class="s2"> }, </span><span class="se">\"</span><span class="s2">directors</span><span class="se">\"</span><span class="s2">: [ { </span><span class="se">\"</span><span class="s2">date_appointed</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">1990-01-01</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">job_title</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">CEO</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">is_also_ubo</span><span class="se">\"</span><span class="s2">: false, </span><span class="se">\"</span><span class="s2">person</span><span class="se">\"</span><span class="s2">: { </span><span class="se">\"</span><span class="s2">country_of_residence</span><span class="se">\"</span><span class="s2">: [ </span><span class="se">\"</span><span class="s2">USA</span><span class="se">\"</span><span class="s2"> ], </span><span class="se">\"</span><span class="s2">pep</span><span class="se">\"</span><span class="s2">: false, </span><span class="se">\"</span><span class="s2">email</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">johnsmith@gmail.com</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">name</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">John Smith</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">social_security_number</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">090606</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">telephone</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">+44 98 765 4321</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">date_of_birth</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">1981-02-03</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">nationality</span><span class="se">\"</span><span class="s2">: [ </span><span class="se">\"</span><span class="s2">American</span><span class="se">\"</span><span class="s2"> ] } } ] } }"</span>
</code></pre>
<blockquote>
<p><strong>Example Response</strong></p>
</blockquote>
<pre class="highlight shell tab-shell"><code>  <span class="o">{</span>
      <span class="s2">"enduser_id"</span>: <span class="s2">"5b054129-9139-4300-b40a-2e1154e1edb8"</span>
  <span class="o">}</span>
</code></pre>
<p><code>POST &quot;https://playlive.railsbank.com/v1/customer/endusers&quot;</code></p>

<ul>
<li>This endpoint allows you to onboard an enduser (your customer) who is a company.</li>
<li>These endusers are businesses that are also your customers if you are a B2B business.</li>
<li>Check out the <code>enduser_meta</code> field which allows you to add custom fields to the enduser.</li>
<li>If the <code>trading_address</code> is different from <code>registered_address</code>, you need both (otherwise, just include registration address)</li>
<li>If there is a director who holds 10% or more of the stakes, then you must include the <code>director</code> details</li>
<li>If <code>pep</code> details are applicable you must include them</li>
</ul>
<h3 id='the-corporate-enduser-object'>The Corporate Enduser Object</h3>
<table><thead>
<tr>
<th style="text-align: left">Attribute</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code>company</code> <br> <em>object</em>, required (for companies)</td>
<td style="text-align: left">Information about the company</td>
</tr>
<tr>
<td style="text-align: left"><code>company.name</code> <br> <em>string</em>,  required</td>
<td style="text-align: left">The name of the company</td>
</tr>
<tr>
<td style="text-align: left"><code>company.trading_name</code> <br> <em>string</em>,  required</td>
<td style="text-align: left">The full trading name of the company</td>
</tr>
<tr>
<td style="text-align: left"><code>company.corporate_entity_type</code> <br> <em>string</em>,  optional</td>
<td style="text-align: left">The type of company, for instance, a non-profit</td>
</tr>
<tr>
<td style="text-align: left"><code>company.date_onboarded</code> <br> <em>string</em>, optional</td>
<td style="text-align: left">The date the you onboarded the company ad your customer <br> <em>YYYY-MM-DD</em></td>
</tr>
<tr>
<td style="text-align: left"><code>company.eu_vat</code> <br> <em>string</em>, optional</td>
<td style="text-align: left">The Value Added Tax number for a European company</td>
</tr>
<tr>
<td style="text-align: left"><code>company.vat</code> <br> <em>string</em>, optional</td>
<td style="text-align: left">The Value Added Tax number for a British company</td>
</tr>
<tr>
<td style="text-align: left"><code>company.incorporation_locality</code> <br> <em>string</em>, optional</td>
<td style="text-align: left">The country in which the company is incorporated <br>  <em>ISO 8601 format</em></td>
</tr>
<tr>
<td style="text-align: left"><code>company.industry</code> <br> <em>string</em>, optional</td>
<td style="text-align: left">The industry the company works within</td>
</tr>
<tr>
<td style="text-align: left"><code>company.legal_entry_number</code> <br> <em>string</em>, optional</td>
<td style="text-align: left">The legal entity number of the company <br> To be changed to <code>legal_entity_number</code></td>
</tr>
<tr>
<td style="text-align: left"><code>company.regulated_financial_service_firm</code> <br> <em>boolean</em>, optional</td>
<td style="text-align: left">Is the company regulated? <br> <em>Allowed Values:</em> true, false</td>
</tr>
<tr>
<td style="text-align: left"><code>company.web_site</code> <br> <em>string</em>, optional</td>
<td style="text-align: left">The website URL of the company</td>
</tr>
<tr>
<td style="text-align: left"><code>company.type</code> <br> <em>string</em>, optional</td>
<td style="text-align: left">The type of company</td>
</tr>
<tr>
<td style="text-align: left"><code>company.type_other</code> <br> <em>string</em>, optional</td>
<td style="text-align: left">We have a long list of valid company types. If you receive an error when generating a company due to the <code>type</code> being invalid, use this field instead.</td>
</tr>
<tr>
<td style="text-align: left"><code>company.tin</code> <br> <em>string</em>, optional</td>
<td style="text-align: left">The Tax Identification Number of the company</td>
</tr>
<tr>
<td style="text-align: left"><code>company.registration_number</code> <br> <em>string</em>, optional</td>
<td style="text-align: left">The registration number of the company</td>
</tr>
<tr>
<td style="text-align: left"><code>company.registration_address</code> <br> <em>array of objects</em>, required</td>
<td style="text-align: left">The registration address(es) of the company: we use an array incase there are multiple</td>
</tr>
<tr>
<td style="text-align: left"><code>company.registration_address.address_city</code> <br> <em>string</em>, required</td>
<td style="text-align: left">City that enduser is registered in</td>
</tr>
<tr>
<td style="text-align: left"><code>company.registration_address.address_iso_country</code><br> <em>string</em>, required</td>
<td style="text-align: left">Country code <br>  <em>ISO 8601 format</em></td>
</tr>
<tr>
<td style="text-align: left"><code>company.registration_address.address_number</code> <br> <em>string</em>, required</td>
<td style="text-align: left">House or building number on street</td>
</tr>
<tr>
<td style="text-align: left"><code>company.registration_address.address_postal_code</code> <br> <em>string</em>, required</td>
<td style="text-align: left">Postal or zip code</td>
</tr>
<tr>
<td style="text-align: left"><code>company.registration_address.address_refinement</code> <br> <em>string</em>, optional</td>
<td style="text-align: left">Extra detail, e.g. house name</td>
</tr>
<tr>
<td style="text-align: left"><code>company.registration_address.address_region</code> <br> <em>string</em>, required</td>
<td style="text-align: left">Region in country</td>
</tr>
<tr>
<td style="text-align: left"><code>company.registration_address.address_street</code> <br> <em>string</em>, required</td>
<td style="text-align: left">Street the enduser is registered on</td>
</tr>
<tr>
<td style="text-align: left"><code>company.registration_address_history</code> <br> <em>array of objects</em>, optional</td>
<td style="text-align: left">Previous registration address(es) of the company: we use an array incase there are multiple</td>
</tr>
<tr>
<td style="text-align: left"><code>company.registration_address_history.address_start_date</code> <br> <em>string</em>, optional</td>
<td style="text-align: left">Date the company began trading for the address. <br> <em>YYYY-MM-DD</em></td>
</tr>
<tr>
<td style="text-align: left"><code>company.registration_address_history.address_end_date</code> <br> <em>string</em>, optional</td>
<td style="text-align: left">Date the company stopped trading for the address. <br> <em>YYYY-MM-DD</em></td>
</tr>
<tr>
<td style="text-align: left"><code>company.registration_address_history.address_city</code> <br> <em>string</em>, optional</td>
<td style="text-align: left">City that enduser was registered in</td>
</tr>
<tr>
<td style="text-align: left"><code>company.registration_address_history.address_iso_country</code> <br> <em>string</em>, optional</td>
<td style="text-align: left">Country code <br>  <em>ISO 8601 format</em></td>
</tr>
<tr>
<td style="text-align: left"><code>company.registration_address_history.address_number</code> <br> <em>string</em>, optional</td>
<td style="text-align: left">House or building number on street</td>
</tr>
<tr>
<td style="text-align: left"><code>company.registration_address_history.address_postal_code</code> <br> <em>string</em>, optional</td>
<td style="text-align: left">Postal or zip code</td>
</tr>
<tr>
<td style="text-align: left"><code>company.registration_address_history.address_refinement</code> <br> <em>string</em>, optional</td>
<td style="text-align: left">Extra detail, e.g. house name</td>
</tr>
<tr>
<td style="text-align: left"><code>company.registration_address_history.address_region</code> <br> <em>string</em>, optional</td>
<td style="text-align: left">Region in country</td>
</tr>
<tr>
<td style="text-align: left"><code>company.registration_address_history.address_street</code> <br> <em>string</em>, optional</td>
<td style="text-align: left">Street the enduser was registered on</td>
</tr>
<tr>
<td style="text-align: left"><code>company.regulatory_licenses</code> <br> <em>array of objects</em>, optional</td>
<td style="text-align: left">The regulatory licenses the company holds</td>
</tr>
<tr>
<td style="text-align: left"><code>company.regulatory_licenses.regulatory_license_body</code> <br> <em>string</em>, optional</td>
<td style="text-align: left">The issuer of the regulatory license the company holds</td>
</tr>
<tr>
<td style="text-align: left"><code>company.regulatory_licenses.regulatory_license_reference_number</code> <br> <em>string</em>, optional</td>
<td style="text-align: left">The reference number of the regulatory license the company holds</td>
</tr>
<tr>
<td style="text-align: left"><code>company.regulatory_licenses.regulatory_license_type</code> <br> <em>string</em>, optional</td>
<td style="text-align: left">The type of regulatory license the company holds <br> <em>Allowed Values:</em> GB-EMI, GB-API, Other</td>
</tr>
<tr>
<td style="text-align: left"><code>company.listed_on_stock_exchange</code> <br> <em>boolean</em>, optional</td>
<td style="text-align: left">Is the company listed on an exchange?</td>
</tr>
<tr>
<td style="text-align: left"><code>company.stock_exchanges</code> <br> <em>array of objects</em>, optional</td>
<td style="text-align: left">The stock_exchange(s) the company is listed on</td>
</tr>
<tr>
<td style="text-align: left"><code>company.stock_exchanges.stock_exchange_name</code> <br> <em>string</em>, optional</td>
<td style="text-align: left">The name of the stock_exchange</td>
</tr>
<tr>
<td style="text-align: left"><code>company.stock_exchanges.stock_exchange_ticker</code> <br> <em>string</em>, optional</td>
<td style="text-align: left">The ticker of the company on the stock_exchange: an abbreviation used to uniquely identify publicly traded shares of a particular stock on a particular stock market</td>
</tr>
<tr>
<td style="text-align: left"><code>company.trading_address</code> <br> <em>array of objects</em>, required</td>
<td style="text-align: left">The trading address(es) of the company: we use an array incase there are multiple</td>
</tr>
<tr>
<td style="text-align: left"><code>company.trading_address.address_city</code> <br> <em>string</em>, required</td>
<td style="text-align: left">City that enduser trades in</td>
</tr>
<tr>
<td style="text-align: left"><code>company.trading_address.address_iso_country</code><br> <em>string</em>, required</td>
<td style="text-align: left">Country code <br>  <em>ISO 8601 format</em></td>
</tr>
<tr>
<td style="text-align: left"><code>company.trading_address.address_number</code> <br> <em>string</em>, required</td>
<td style="text-align: left">House or building number on street</td>
</tr>
<tr>
<td style="text-align: left"><code>company.trading_address.address_postal_code</code> <br> <em>string</em>, required</td>
<td style="text-align: left">Postal or zip code</td>
</tr>
<tr>
<td style="text-align: left"><code>company.trading_address.address_refinement</code> <br> <em>string</em>, optional</td>
<td style="text-align: left">Extra detail, e.g. house name</td>
</tr>
<tr>
<td style="text-align: left"><code>company.trading_address.address_region</code> <br> <em>string</em>, required</td>
<td style="text-align: left">Region in country</td>
</tr>
<tr>
<td style="text-align: left"><code>company.trading_address.address_street</code> <br> <em>string</em>, required</td>
<td style="text-align: left">Street the enduser trades on</td>
</tr>
<tr>
<td style="text-align: left"><code>company.trading_address_history</code> <br> <em>array of objects</em>, optional</td>
<td style="text-align: left">Previous registration address(es) of the company: we use an array incase there are multiple</td>
</tr>
<tr>
<td style="text-align: left"><code>company.trading_address_history.address_start_date</code> <br> <em>string</em>, optional</td>
<td style="text-align: left">Date the company began trading for the address. <br> <em>YYYY-MM-DD</em></td>
</tr>
<tr>
<td style="text-align: left"><code>company.trading_address_history.address_end_date</code> <br> <em>string</em>, optional</td>
<td style="text-align: left">Date the company stopped trading for the address. <br> <em>YYYY-MM-DD</em></td>
</tr>
<tr>
<td style="text-align: left"><code>company.trading_address_history.address_city</code> <br> <em>string</em>, optional</td>
<td style="text-align: left">City that enduser was trading in</td>
</tr>
<tr>
<td style="text-align: left"><code>company.trading_address_history.address_iso_country</code> <br> <em>string</em>, optional</td>
<td style="text-align: left">Country code <br>  <em>ISO 8601 format</em></td>
</tr>
<tr>
<td style="text-align: left"><code>company.trading_address_history.address_number</code> <br> <em>string</em>, optional</td>
<td style="text-align: left">House or building number on street</td>
</tr>
<tr>
<td style="text-align: left"><code>company.trading_address_history.address_postal_code</code> <br> <em>string</em>, optional</td>
<td style="text-align: left">Postal or zip code</td>
</tr>
<tr>
<td style="text-align: left"><code>company.trading_address_history.address_refinement</code> <br> <em>string</em>, optional</td>
<td style="text-align: left">Extra detail, e.g. house name</td>
</tr>
<tr>
<td style="text-align: left"><code>company.trading_address_history.address_region</code> <br> <em>string</em>, optional</td>
<td style="text-align: left">Region in country</td>
</tr>
<tr>
<td style="text-align: left"><code>company.trading_address_history.address_street</code> <br> <em>string</em>, optional</td>
<td style="text-align: left">Street the enduser was trading on</td>
</tr>
<tr>
<td style="text-align: left"><code>company.directors</code> <br> <em>array of objects</em>, required if director exists</td>
<td style="text-align: left">Information regarding the directors of the company</td>
</tr>
<tr>
<td style="text-align: left"><code>company.directors.company</code> <br> <em>object</em>, required if director is a company</td>
<td style="text-align: left">Information about a different company who is a director of the enduser (company) <br> The fields are the same as for a corporate enduser</td>
</tr>
<tr>
<td style="text-align: left"><code>company.directors.person</code> <br> <em>object</em>, required if director is a person</td>
<td style="text-align: left">Information about a person who is a director of the company <br> The fields are the same as for an individual enduser (detailed above)</td>
</tr>
<tr>
<td style="text-align: left"><code>company.directors.date_appointed</code> <br> <em>string</em>, required</td>
<td style="text-align: left">Date the director was appointed <br> <em>YYYY-MM-DD</em></td>
</tr>
<tr>
<td style="text-align: left"><code>company.directors.is_also_ubo</code> <br> <em>boolean</em>, required</td>
<td style="text-align: left">Is the director an Ultimate Beneficiary Owner <br> <em>Allowed Values:</em> true, false</td>
</tr>
<tr>
<td style="text-align: left"><code>company.directors.job_title</code> <br> <em>string</em>, optional</td>
<td style="text-align: left">The job title of the director</td>
</tr>
<tr>
<td style="text-align: left"><code>company.ultimate_beneficial_owners</code> <br> <em>array of objects</em>, optional</td>
<td style="text-align: left">Information regarding the UBOs of the company</td>
</tr>
<tr>
<td style="text-align: left"><code>company.ultimate_beneficial_owners.company</code> <br> <em>object</em>, optional</td>
<td style="text-align: left">Information about a different company who is a UBO of the enduser (company) <br> The fields are the same as for a corporate enduser</td>
</tr>
<tr>
<td style="text-align: left"><code>company.ultimate_beneficial_owners.person</code> <br> <em>object</em>, optional</td>
<td style="text-align: left">Information about a person who is a UBO of the company <br> The fields are the same as for an individual enduser (detailed above)</td>
</tr>
<tr>
<td style="text-align: left"><code>company.ultimate_beneficial_owners.percentage_holding</code> <br> <em>number</em>, optional</td>
<td style="text-align: left">The percentage of the company that the UBO owns</td>
</tr>
<tr>
<td style="text-align: left"><code>enduser_meta</code> <br> <em>object</em>, optional</td>
<td style="text-align: left">Any extra, custom fields that you want to include about the enduser</td>
</tr>
</tbody></table>
<h2 id='fetch-an-enduser'>Fetch an Enduser</h2>
<blockquote>
<p><strong>Example Request</strong></p>
</blockquote>
<pre class="highlight shell tab-shell"><code>    --request GET <span class="s2">"https://playlive.railsbank.com/v1/customer/endusers/{{enduser_id}}"</span>
    --header <span class="s2">"Content-Type: application/json"</span>
    --header <span class="s2">"Accept: application/json"</span>
    --header <span class="s2">"Authorization: API-Key &lt;&lt;yourapikey&gt;&gt;"</span>
</code></pre>
<blockquote>
<p><strong>Example Curl Request</strong></p>
</blockquote>
<pre class="highlight shell tab-shell"><code>      curl -X GET <span class="s2">"https://playlive.railsbank.com/v1/customer/endusers/{{enduser_id}}"</span> -H <span class="s2">"accept: application/json"</span> -H <span class="s2">"Authorization: API-Key &lt;&lt;yourAPI-Key&gt;&gt;"</span>
</code></pre>
<blockquote>
<p><strong>Example Response</strong></p>
</blockquote>
<pre class="highlight shell tab-shell"><code>  <span class="o">{</span>
    <span class="s2">"enduser_id"</span>: <span class="s2">"5b068bd4-ba1c-4b56-a23c-78e0ad2509c9"</span>,
    <span class="s2">"enduser_status"</span>: <span class="s2">"enduser-status-ok"</span>,
    <span class="s2">"ledgers"</span>: <span class="o">[]</span>,
    <span class="s2">"beneficiaries"</span>: <span class="o">[]</span>,
    <span class="s2">"person"</span>: <span class="o">{</span>
        <span class="s2">"country_of_residence"</span>: <span class="o">[</span>
            <span class="s2">"GB"</span>
        <span class="o">]</span>,
        <span class="s2">"address_history"</span>: <span class="o">[</span>
            <span class="o">{</span>
                <span class="s2">"address_refinement"</span>: <span class="s2">"Apartment 77"</span>,
                <span class="s2">"address_number"</span>: <span class="s2">"42"</span>,
                <span class="s2">"address_street"</span>: <span class="s2">"Kirschbaumstraße"</span>,
                <span class="s2">"address_city"</span>: <span class="s2">"Berlin"</span>,
                <span class="s2">"address_postal_code"</span>: <span class="s2">"12059"</span>,
                <span class="s2">"address_iso_country"</span>: <span class="s2">"DE"</span>,
                <span class="s2">"address_start_date"</span>: <span class="s2">"2000-09-02"</span>,
                <span class="s2">"address_end_date"</span>: <span class="s2">"2002-12-20"</span>
            <span class="o">}</span>
        <span class="o">]</span>,
        <span class="s2">"date_onboarded"</span>: <span class="s2">"2015-11-21"</span>,
        <span class="s2">"email"</span>: <span class="s2">"johnsmith@gmail.com"</span>,
        <span class="s2">"name"</span>: <span class="s2">"John Smith"</span>,
        <span class="s2">"address"</span>: <span class="o">{</span>
            <span class="s2">"address_refinement"</span>: <span class="s2">"Apartment 42"</span>,
            <span class="s2">"address_number"</span>: <span class="s2">"29"</span>,
            <span class="s2">"address_street"</span>: <span class="s2">"Acacia Road"</span>,
            <span class="s2">"address_city"</span>: <span class="s2">"London"</span>,
            <span class="s2">"address_postal_code"</span>: <span class="s2">"FX20 7XS"</span>,
            <span class="s2">"address_iso_country"</span>: <span class="s2">"GB"</span>
        <span class="o">}</span>,
        <span class="s2">"telephone"</span>: <span class="s2">"+44 22 626 2626"</span>,
        <span class="s2">"date_of_birth"</span>: <span class="s2">"1970-11-05"</span>,
        <span class="s2">"nationality"</span>: <span class="o">[</span>
            <span class="s2">"British"</span>
        <span class="o">]</span>
    <span class="o">}</span>,
    <span class="s2">"enduser_meta"</span>: <span class="o">{</span>
        <span class="s2">"foo"</span>: <span class="s2">"baa"</span>,
        <span class="s2">"our_salesforce_reference"</span>: <span class="s2">"http://na1.salesforce.com/5003000000D8cuI"</span>
    <span class="o">}</span>,
    <span class="s2">"screening_monitored_search"</span>: <span class="nb">false</span>
  <span class="o">}</span>
</code></pre>
<p><code>GET &quot;https://playlive.railsbank.com/v1/customer/endusers/{{enduser_id}}&quot;</code></p>

<ul>
<li>This simple API call will return all the information about an enduser: the ledgers they hold, their beneficiaries, their status (they could be in quarantine) and their details.</li>
<li>The only new fields are: the <code>date_onboarded</code> which is the date the enduser was onboarded to Railsbank and <code>enduser_status</code> which is the state of the enduser.</li>
<li>Use the <code>/wait</code> parameter to instruct the API to wait for (up to 60 seconds) the enduser to be in a REST state - i.e. not <code>pending</code>.</li>
</ul>
<h3 id='enduser-statuses'>Enduser Statuses</h3>
<table><thead>
<tr>
<th style="text-align: left">Message</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code>enduser-status-missing-data</code></td>
<td style="text-align: left">Extra data is required for the enduser to be created, for instance, the name of the enduser.</td>
</tr>
<tr>
<td style="text-align: left"><code>enduser-status-pending</code></td>
<td style="text-align: left">The enduser is being processed. To avoid fetching an enduser in this state, use our <code>/wait</code> parameter.</td>
</tr>
<tr>
<td style="text-align: left"><code>enduser-status-quarantine</code></td>
<td style="text-align: left">The enduser has broken a customer firewall rule and fallen into the customer quarantine queue. You will receive a <code>type: entity-fw-quarantine</code> webhook and a <code>type: enduser-firewall-finished</code> webhook.</td>
</tr>
<tr>
<td style="text-align: left"><code>enduser-status-ok</code></td>
<td style="text-align: left">The enduser is ready to use: to add ledgers and beneficiaries to and send and receive transactions. You will receive a <code>type: entity-ready-to-use</code> webhook and a <code>type: enduser-firewall-finished</code> webhook if you have set and firewall rules up.</td>
</tr>
<tr>
<td style="text-align: left"><code>enduser-status-declined</code></td>
<td style="text-align: left">The enduser has been declined by our system. This is usually because the enduser has broken a partner firewall rule and been rejected by our compliance team, for instance, if they are from a country we don&#39;t deal with, like North Korea.</td>
</tr>
</tbody></table>
<h2 id='fetch-multiple-endusers'>Fetch Multiple Endusers</h2>
<blockquote>
<p><strong>Example Request</strong></p>
</blockquote>
<pre class="highlight shell tab-shell"><code>  --request GET <span class="s2">"https://playlive.railsbank.com/v1/customer/endusers"</span>
  --header <span class="s2">"Content-Type: application/json"</span>
  --header <span class="s2">"Accept: application/json"</span>
  --header <span class="s2">"Authorization: API-Key &lt;&lt;yourapikey&gt;&gt;"</span>
</code></pre>
<blockquote>
<p><strong>Example Response</strong></p>
</blockquote>
<pre class="highlight shell tab-shell"><code><span class="o">[</span>
  <span class="o">{</span>
    <span class="s2">"enduser_id"</span>: <span class="s2">"bb8b2428-f94c-41df-8e82-a895ab4d6ac8"</span>
  <span class="o">}</span>,
  <span class="o">{</span>
    <span class="s2">"enduser_id"</span>: <span class="s2">"753fa673-66b4-4c94-9ddb-f9f4b5c1e9a3"</span>
  <span class="o">}</span>,
  <span class="o">{</span>
    <span class="s2">"enduser_id"</span>: <span class="s2">"c91b339e-57d7-41ea-a805-8966ce8fe4ed"</span>
  <span class="o">}</span>,
  <span class="o">{</span>
    <span class="s2">"enduser_id"</span>: <span class="s2">"753fa673-66b4-4c94-9ddb-f9f4b5c1e9a3"</span>
  <span class="o">}</span>
<span class="o">]</span>
</code></pre>
<p><code>GET &quot;https://playlive.railsbank.com/v1/customer/endusers</code></p>

<ul>
<li>This endpoint allows you to fetch multiple endusers.</li>
<li>If it is not parameterized, it will return all the endusers created using the API Key.</li>
<li>It will return an array of enduser id&#39;s which you can iterate over and fetch individually to get more information on.</li>
</ul>
<h3 id='parameters'>Parameters</h3>
<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code>starting_at_date</code> <br> <em>string</em></td>
<td style="text-align: left">Any endusers created before this date will not be shown in the array <br> <em>YYYY-MM-DD</em></td>
</tr>
<tr>
<td style="text-align: left"><code>items_per_page</code> <br> <em>integer</em></td>
<td style="text-align: left">The number of items returned in each page. A hyperlink to the next page will be found in the response headers</td>
</tr>
<tr>
<td style="text-align: left"><code>last_seen_id</code> <br> <em>string</em></td>
<td style="text-align: left">The endusers returned will have all been created after the enduser whose UUID is the <code>last_seen_id</code></td>
</tr>
</tbody></table>
<h2 id='update-an-enduser'>Update an Enduser</h2>
<blockquote>
<p><strong>Example Request</strong></p>

<p><strong>add</strong> <code>trading_address</code></p>

<p><strong>change</strong> <code>post_code</code></p>
</blockquote>
<pre class="highlight shell tab-shell"><code>  --request PUT <span class="s2">"https://playlive.railsbank.com/v1/customer/endusers/{{enduser_id}}"</span>
  --header <span class="s2">"Content-Type: application/json"</span>
    --header <span class="s2">"Accept: application/json"</span>
    --header <span class="s2">"Authorization: API-Key &lt;&lt;yourapikey&gt;&gt;"</span>
    <span class="o">{</span>
        <span class="s2">"company"</span>: <span class="o">{</span>
            <span class="s2">"web_site"</span>: <span class="s2">"www.correct_company_website.com"</span>,
            <span class="s2">"trading_addresses"</span>: <span class="o">[{</span>
               <span class="s2">"address_refinement"</span>: <span class="s2">"Apartment 5"</span>,
                 <span class="s2">"address_number"</span>: <span class="s2">"21"</span>,
                 <span class="s2">"address_street"</span>: <span class="s2">"Flower Road"</span>,
                 <span class="s2">"address_city"</span>: <span class="s2">"London"</span>,
                 <span class="s2">"address_region"</span>: <span class="s2">"Greater London"</span>,
                 <span class="s2">"address_postal_code"</span>: <span class="s2">"WC1R 7XS"</span>,
                 <span class="s2">"address_iso_country"</span>: <span class="s2">"GB"</span>        
          <span class="o">}]</span>
        <span class="o">}</span>
    <span class="o">}</span>
</code></pre>
<blockquote>
<p><strong>Example Curl Request</strong></p>
</blockquote>
<pre class="highlight shell tab-shell"><code>    curl -X PUT <span class="s2">"https://playlive.railsbank.com/v1/customer/endusers/{{enduser_id}}"</span> -H <span class="s2">"accept: application/json"</span> -H <span class="s2">"Authorization: API-Key &lt;&lt;yourAPI-Key&gt;&gt;"</span> -H <span class="s2">"Content-Type: application/json"</span> -d <span class="s2">"{ </span><span class="se">\t\"</span><span class="s2">company</span><span class="se">\"</span><span class="s2">: { </span><span class="se">\t\t\"</span><span class="s2">web_site</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">www.correct_company_website.com</span><span class="se">\"</span><span class="s2">, </span><span class="se">\t\"</span><span class="s2">trading_addresses</span><span class="se">\"</span><span class="s2">: [{ </span><span class="se">\t</span><span class="s2"> </span><span class="se">\"</span><span class="s2">address_refinement</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">Apartment 5</span><span class="se">\"</span><span class="s2">, </span><span class="se">\t\t</span><span class="s2"> </span><span class="se">\"</span><span class="s2">address_number</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">21</span><span class="se">\"</span><span class="s2">, </span><span class="se">\t\t</span><span class="s2"> </span><span class="se">\"</span><span class="s2">address_street</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">Flower Road</span><span class="se">\"</span><span class="s2">, </span><span class="se">\t\t</span><span class="s2"> </span><span class="se">\"</span><span class="s2">address_city</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">London</span><span class="se">\"</span><span class="s2">, </span><span class="se">\t\t</span><span class="s2"> </span><span class="se">\"</span><span class="s2">address_region</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">Greater London</span><span class="se">\"</span><span class="s2">, </span><span class="se">\t\t</span><span class="s2"> </span><span class="se">\"</span><span class="s2">address_postal_code</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">WC1R 7XS</span><span class="se">\"</span><span class="s2">, </span><span class="se">\t\t</span><span class="s2"> </span><span class="se">\"</span><span class="s2">address_iso_country</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">GB</span><span class="se">\"</span><span class="s2"> }] </span><span class="se">\t</span><span class="s2">} }"</span>
</code></pre>
<blockquote>
<p><strong>Example Response</strong></p>
</blockquote>
<pre class="highlight shell tab-shell"><code>  <span class="o">{</span>
      <span class="s2">"enduser_id"</span>: <span class="s2">"5c54418e-8bbf-4a66-b54a-XXXXXXXXXXXX"</span>
  <span class="o">}</span>
</code></pre>
<p><code>PUT &quot;https://playlive.railsbank.com/v1/customer/endusers/{{enduser_id}}&quot;</code></p>

<ul>
<li>This endpoint allows you to update an enduser.</li>
<li>You only need to include the keys and values that you want to change.</li>
<li>If the key is a nested, you should include the parent in the request body field. I.e. if you want to update the name of a <code>person</code>, you cannot just write <code>&quot;name&quot;: &quot;example_name&quot;</code>, you must write <code>&quot;person&quot;: {&quot;name&quot;: &quot;example_name&quot;}</code>.</li>
<li>Updating a non-existent enduser will return an error <code>&quot;Invalid enduser id.&quot;</code></li>
<li><p>You can update both <strong>person</strong> and <strong>company</strong> endusers.</p></li>
<li><p>Let us imagine the following hypothetical but practical scenarios:</p></li>
</ul>
<h3 id='scenario-1-adding-a-new-key-of-information'>Scenario 1 - Adding a new key of information</h3>
<ul>
<li>Imagine an existing company enduser you onboarded now has a different <strong>trading address</strong> from the address that they registered from (also called the <strong>registration address</strong>)</li>
<li>From a compliance perspective, you will need to provide both the <code>trading_adresses</code> and <code>registration_address</code> information. However, when you onboarded that enduser, you only included the latter</li>
</ul>
<h3 id='scenario-2-editing-an-existing-key-of-information'>Scenario 2 - Editing an existing key of information</h3>
<ul>
<li>The same existing company enduser incorrectly provided their post-code and it needs to be changed.</li>
</ul>
<h1 id='creating-ledgers'>Creating Ledgers</h1>
<blockquote>
<p><strong>Endpoints</strong></p>
</blockquote>
<pre class="highlight shell tab-shell"><code>POST /v1/customer/ledgers
POST /v1/customer/ledgers/virtual
POST /v1/customer/ledgers/<span class="o">{{</span>LEDGER_ID<span class="o">}}</span>/assign
POST /v1/customer/ledgers/<span class="o">{{</span>LEDGER_ID<span class="o">}}</span>/assign-iban
POST /v1/customer/ledgers/<span class="o">{{</span>LEDGER_ID<span class="o">}}</span>/close
GET /v1/customer/ledgers
GET /v1/customer/ledgers/changed
GET /v1/customer/ledgers/entries
GET /v1/customer/ledgers/unassigned
GET /v1/customer/ledgers/<span class="o">{{</span>LEDGER_ID<span class="o">}}</span>
GET /v1/customer/ledgers/by-iban
GET /v1/customer/ledgers/by-uk-bank-account
PUT /v1/customer/ledgers/<span class="o">{{</span>LEDGER_ID<span class="o">}}</span>
</code></pre>
<ul>
<li>Ledgers are digital accounts. They can be held by endusers or customers.

<ul>
<li>There are two <code>ledger_types</code>: <code>single-user</code>, and <code>omnibus</code>. An omnibus account is an account which holds the funds of multiple entities and is usually held by the customer, whereas a single-user account is of course an account holding the finds of only one entity.</li>
</ul></li>
<li>Currently we provide GBP and EUR ledgers, with USD coming later this year.</li>
<li>One ledger can hold a single asset only. For example, if an enduser wants to hold GBP and EUR, then the enduser needs at least two ledgers: one for GBP, and one for EUR</li>
<li>Ledgers can also be &#39;virtual&#39;, with &#39;virtual&#39; funds that can be manually credited and debited to them that are attached to a real world asset. For instance, a gold ledger that reflects a stock of gold in a vault.</li>
<li>Debit Cards can be attached to ledgers.</li>
<li>Funds can be sent to, from and between ledgers in the given currency. However, we cannot do inter-ledger transfers between two ledgers holding different currencies.</li>
</ul>
<h2 id='issue-a-ledger'>Issue a Ledger</h2>
<blockquote>
<p><strong>Example Request</strong></p>
</blockquote>
<pre class="highlight shell tab-shell"><code>  --request POST <span class="s2">"https://playlive.railsbank.com/v1/customer/ledgers"</span>
  --header <span class="s2">"Content-Type: application/json"</span>
    --header <span class="s2">"Accept: application/json"</span>
    --header <span class="s2">"Authorization: API-Key &lt;&lt;yourAPI-Key&gt;&gt;"</span>
  <span class="o">{</span>
  <span class="s2">"ledger_primary_use_types"</span>: <span class="o">[</span>
    <span class="s2">"ledger-primary-use-types-payments"</span>,
    <span class="s2">"ledger-primary-use-types-fees"</span>
  <span class="o">]</span>,
  <span class="s2">"ledger_who_owns_assets"</span>: <span class="s2">"ledger-assets-owned-by-me"</span>,
  <span class="s2">"holder_id"</span>: <span class="s2">"753fa673-66b4-4c94-9ddb-f9f4b5c1e9a3"</span>,
  <span class="s2">"ledger_t_and_cs_country_of_jurisdiction"</span>: <span class="s2">"US"</span>,
  <span class="s2">"partner_product"</span>: <span class="s2">"PayrNet-EUR-1"</span>,
  <span class="s2">"asset_type"</span>: <span class="s2">"eur"</span>,
  <span class="s2">"asset_class"</span>: <span class="s2">"currency"</span>,
  <span class="s2">"ledger_type"</span>: <span class="s2">"ledger-type-single-user"</span>,
  <span class="s2">"ledger_meta"</span>: <span class="o">{</span>
    <span class="s2">"foo"</span>: <span class="s2">"bar"</span>
  <span class="o">}</span>
<span class="o">}</span>
</code></pre>
<blockquote>
<p><strong>Example Response</strong></p>
</blockquote>
<pre class="highlight shell tab-shell"><code><span class="o">{</span>
  <span class="s2">"ledger_id"</span>: <span class="s2">"6630b391-c5ce-46c1-9d23-a82a9e27f82d"</span>
<span class="o">}</span>
</code></pre>
<p><code>POST &quot;https://playlive.railsbank.com/v1/customer/ledgers&quot;</code></p>

<ul>
<li>This endpoint issues a ledger, assigning it to a particular holder.</li>
<li>When GBP ledgers are issued the <code>uk_account_number</code> and <code>uk_sort_code</code> are automatically assigned, however, when EUR ledgers are issued, the <code>iban</code> and <code>bic_swift</code> are not automatically assigned – the <code>POST v1/customer/ledgers/{{LEDGER_ID}}/assign-iban</code> endpoint is required to do this.</li>
<li>Check out the <code>ledger_meta</code> field which allows you to add custom fields to the ledger, for instance, your own account number.</li>
</ul>
<h3 id='the-ledger-object'>The Ledger Object</h3>
<table><thead>
<tr>
<th style="text-align: left">Attribute</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code>holder_id</code> <br> <em>string</em>, required</td>
<td style="text-align: left">The UUID of the holder of the ledger, either an <code>enduser_id</code> or the <code>customer_id</code></td>
</tr>
<tr>
<td style="text-align: left"><code>asset_class</code> <br> <em>string</em>, required</td>
<td style="text-align: left">The class of the asset being held in the ledger, for a normal GBP or EUR ledger, use <code>currency</code> <br> <em>Allowed Values:</em> commodity, currency</td>
</tr>
<tr>
<td style="text-align: left"><code>asset_type</code> <br> <em>string</em>, required</td>
<td style="text-align: left">The type of asset being held in the ledger, for a normal ledger this means the currency <br> <em>Allowed Values:</em> gbp, eur, aud, chf, cad, sek, usd, nok, nzd, jpy</td>
</tr>
<tr>
<td style="text-align: left"><code>partner_product</code> <br> <em>string</em>, required</td>
<td style="text-align: left">The partner product of the ledger being created: this allows us to call the correct partner for issuing the chosen asset <br> <em>See below for Allowed Values</em></td>
</tr>
<tr>
<td style="text-align: left"><code>ledger_type</code> <br> <em>string</em>, required</td>
<td style="text-align: left">The type of ledger being created <br> <em>Allowed Values:</em> ledger-type-single-user, ledger-type-omnibus</td>
</tr>
<tr>
<td style="text-align: left"><code>ledger_primary_use_types</code> <br> <em>array of strings</em>, required</td>
<td style="text-align: left">What the ledger is going to be used for. <br> <em>See below for Allowed Values</em> Can have multiple purposes</td>
</tr>
<tr>
<td style="text-align: left"><code>ledger_who_owns_assets</code> <br> <em>string</em>, required</td>
<td style="text-align: left">Information regarding the owner of the assets in the ledger <br> <em>Allowed Values:</em> ledger-assets-owned-by-me, ledger-assets-owned-by-other</td>
</tr>
<tr>
<td style="text-align: left"><code>ledger_t_and_cs_country_of_jurisdiction</code> <br> <em>string</em>, required</td>
<td style="text-align: left">The code of the country in which the assets are held <br> <em>ISO 8601 format</em></td>
</tr>
<tr>
<td style="text-align: left"><code>ledger_meta</code> <br> <em>object</em>, optional</td>
<td style="text-align: left">Extra information you want to add to the ledger in the form of custom fields</td>
</tr>
</tbody></table>
<h3 id='allowed-values-partner_product'>Allowed Values: <code>partner_product</code></h3>
<table><thead>
<tr>
<th style="text-align: left">Value</th>
<th style="text-align: left">Explanation</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code>ExampleBank-GBP-1</code></td>
<td style="text-align: left">The partner product to be used in <strong>Play</strong> for GBP ledgers</td>
</tr>
<tr>
<td style="text-align: left"><code>PayrNet-GBP-1</code></td>
<td style="text-align: left">The default partner product to be used in <strong>PlayLive and Live</strong> for GBP ledgers</td>
</tr>
<tr>
<td style="text-align: left"><code>PayrNet-GBP-2</code></td>
<td style="text-align: left">A secondary partner product available to <strong>Live</strong> customers</td>
</tr>
<tr>
<td style="text-align: left"><code>ExampleBank-EUR-1</code></td>
<td style="text-align: left">The partner product to be used in <strong>Play</strong> for EUR ledgers</td>
</tr>
<tr>
<td style="text-align: left"><code>PayrNet-EUR-1</code></td>
<td style="text-align: left">The default partner product to be used in <strong>PlayLive and Live</strong> for EUR ledgers</td>
</tr>
</tbody></table>
<h3 id='allowed-values-ledger_primary_use_types'>Allowed Values: <code>ledger_primary_use_types</code></h3>
<table><thead>
<tr>
<th style="text-align: left">Value</th>
<th style="text-align: left">Explanation</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code>ledger-primary-use-types-deposit</code></td>
<td style="text-align: left">Used to deposit money: there shouldn&#39;t be many transactions to and from this type of ledger</td>
</tr>
<tr>
<td style="text-align: left"><code>ledger-primary-use-types-payments</code></td>
<td style="text-align: left">Used to make payments</td>
</tr>
<tr>
<td style="text-align: left"><code>ledger-primary-use-types-settlement</code></td>
<td style="text-align: left">Used to make settlement payments</td>
</tr>
<tr>
<td style="text-align: left"><code>ledger-primary-use-types-float</code></td>
<td style="text-align: left">Used as a float account</td>
</tr>
<tr>
<td style="text-align: left"><code>ledger-primary-use-types-fees</code></td>
<td style="text-align: left">Used to pay fees</td>
</tr>
<tr>
<td style="text-align: left"><code>ledger-primary-use-types-investment</code></td>
<td style="text-align: left">Used to make investments</td>
</tr>
<tr>
<td style="text-align: left"><code>ledger-primary-use-types-collateral</code></td>
<td style="text-align: left">Used to hold collateral funds</td>
</tr>
<tr>
<td style="text-align: left"><code>ledger-primary-use-types-escrow</code></td>
<td style="text-align: left">Used for funds held by a third party on behalf of two other parties that are in the process of completing a transaction</td>
</tr>
</tbody></table>
<h2 id='issue-a-virtual-ledger'>Issue a Virtual Ledger</h2>
<blockquote>
<p><strong>Example Request</strong></p>
</blockquote>
<pre class="highlight shell tab-shell"><code>  --request POST <span class="s2">"https://playlive.railsbank.com/v1/customer/ledgers/virtual"</span>
  --header <span class="s2">"Content-Type: application/json"</span>
    --header <span class="s2">"Accept: application/json"</span>
    --header <span class="s2">"Authorization: API-Key &lt;&lt;yourAPI-Key&gt;&gt;"</span>
  <span class="o">{</span>
  <span class="s2">"asset_class"</span>: <span class="s2">"commodity"</span>,
  <span class="s2">"asset_type"</span>: <span class="s2">"gold"</span>,
  <span class="s2">"holder_id"</span>: <span class="s2">"c91b339e-57d7-41ea-a805-8966ce8fe4ed"</span>,
  <span class="s2">"ledger_meta"</span>: <span class="o">{</span>
    <span class="s2">"foo"</span>: <span class="s2">"bar"</span>
  <span class="o">}</span>
<span class="o">}</span>
</code></pre>
<blockquote>
<p><strong>Example Response</strong></p>
</blockquote>
<pre class="highlight shell tab-shell"><code><span class="o">{</span>
  <span class="s2">"ledger_id"</span>: <span class="s2">"6630b391-c5ce-46c1-9d23-a82a9e27f82d"</span>
<span class="o">}</span>
</code></pre>
<p><code>POST &quot;https://playlive.railsbank.com/v1/customer/ledgers/virtual&quot;</code></p>

<ul>
<li>Virtual Ledgers are ledgers that hold &#39;virtual&#39; assets.</li>
<li>Assets currently supported are gold, goldbloc, and whisky.</li>
<li>They are designed to reflect an amount of the physical asset that an enduser might hold - in a vault, for instance.</li>
<li>The assets can be manually credited and debited onto the ledgers.</li>
<li>You can move the assets between virual ledgers using the inter-ledger function.</li>
<li>You cannot convert assets on virtual ledgers into real assets on real ledgers.</li>
</ul>
<h3 id='the-virtual-ledger-object'>The Virtual Ledger Object</h3>
<table><thead>
<tr>
<th style="text-align: left">Attribute</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code>holder_id</code> <br> <em>string</em>, required</td>
<td style="text-align: left">The UUID of the holder of the ledger, either an <code>enduser_id</code> or the <code>customer_id</code></td>
</tr>
<tr>
<td style="text-align: left"><code>asset_type</code> <br> <em>string</em>, required</td>
<td style="text-align: left">The type of asset being held in the ledger, in this case, the commodity <br> <em>Allowed Values:</em> gold, whisky, goldbloc</td>
</tr>
<tr>
<td style="text-align: left"><code>asset_class</code> <br> <em>string</em>, required</td>
<td style="text-align: left">The class of the asset being held in the ledger, for virtual ledgers, use <code>commodity</code> <br> <em>Allowed Values:</em> commodity, currency</td>
</tr>
<tr>
<td style="text-align: left"><code>ledger_meta</code> <br> <em>object</em>, optional</td>
<td style="text-align: left">Extra information you want to add to the ledger in the form of custom fields</td>
</tr>
</tbody></table>
<h2 id='assign-a-ledger-an-iban'>Assign a Ledger an IBAN</h2>
<blockquote>
<p><strong>Example Request</strong></p>
</blockquote>
<pre class="highlight shell tab-shell"><code> --request POST <span class="s2">"https://playlive.railsbank.com/v1/customer/ledgers/{{LEDGER_ID}}/assign-iban"</span>
 --header <span class="s2">"Content-Type: application/json"</span>
 --header <span class="s2">"Accept: application/json"</span>
 --header <span class="s2">"Authorization: API-Key &lt;&lt;yourAPI-Key&gt;&gt;"</span>
</code></pre>
<blockquote>
<p><strong>Example Response</strong></p>
</blockquote>
<pre class="highlight shell tab-shell"><code><span class="o">{</span>
 <span class="s2">"ledger_id"</span>: <span class="s2">"6630b391-c5ce-46c1-9d23-a82a9e27f82d"</span>
<span class="o">}</span>
</code></pre>
<p><code>POST &quot;https://playlive.railsbank.com/v1/customer/ledgers/{{LEDGER_ID}}/assign-iban&quot;</code></p>

<ul>
<li>EUR ledgers are not automatically assigned an <code>iban</code> or <code>bic_swift</code> code upon creation.</li>
<li>To do so, you need to save the <code>ledger_id</code> the API responded with when you created the ledger, wait a couple of seconds for the ledger to be created, before calling this endpoint.</li>
<li>Our IBAN is reachable via the SEPA Step2 Payment Scheme.</li>
<li>The assigning of the ledger may take a few seconds or it could take a few hours: it is dependent upon the partner bank. Usually, it takes seconds.</li>
</ul>
<h2 id='fetching-individual-ledgers'>Fetching Individual Ledgers</h2>
<blockquote>
<p><strong>Example Request: By UUID</strong></p>
</blockquote>
<pre class="highlight shell tab-shell"><code> --request GET <span class="s2">"https://playlive.railsbank.com/v1/customer/ledgers/{{LEDGER_ID}}"</span>
 --header <span class="s2">"Content-Type: application/json"</span>
 --header <span class="s2">"Accept: application/json"</span>
 --header <span class="s2">"Authorization: API-Key &lt;&lt;yourAPI-Key&gt;&gt;"</span>
</code></pre>
<blockquote>
<p><strong>Example Request: By IBAN</strong></p>
</blockquote>
<pre class="highlight shell tab-shell"><code> --request GET <span class="s2">"https://playlive.railsbank.com/v1/customer/ledgers/by-iban?iban={{YOUR_IBAN}}"</span>
 --header <span class="s2">"Content-Type: application/json"</span>
 --header <span class="s2">"Accept: application/json"</span>
 --header <span class="s2">"Authorization: API-Key &lt;&lt;yourAPI-Key&gt;&gt;"</span>
</code></pre>
<blockquote>
<p><strong>Example Request: By UK Account Number and Sort Code</strong></p>
</blockquote>
<pre class="highlight shell tab-shell"><code> --request GET <span class="s2">"https://playlive.railsbank.com/v1/customer/ledgers/by-uk-bank-account?uk_account_number={{YOUR_UK_ACCOUNT_NUMBER}}&amp;uk_sort_code={{YOUR_UK_SORT_CODE}}"</span>
 --header <span class="s2">"Content-Type: application/json"</span>
 --header <span class="s2">"Accept: application/json"</span>
 --header <span class="s2">"Authorization: API-Key &lt;&lt;yourAPI-Key&gt;&gt;"</span>
</code></pre>
<blockquote>
<p><strong>Example Response</strong></p>
</blockquote>
<pre class="highlight shell tab-shell"><code>  <span class="o">{</span>
     <span class="s2">"iban"</span>: <span class="s2">"GB47PAYR040052123397XX"</span>,
     <span class="s2">"last_modified_at"</span>: <span class="s2">"2019-06-03T10:26:17.646Z"</span>,
     <span class="s2">"ledger_primary_use_types"</span>: <span class="o">[</span>
         <span class="s2">"ledger-primary-use-types-payments"</span>
     <span class="o">]</span>,
     <span class="s2">"ledger_id"</span>: <span class="s2">"5cf4f5c9-4307-4e51-92c6-098e55ccb8bf"</span>,
     <span class="s2">"ledger_holder"</span>: <span class="o">{</span>
         <span class="s2">"customer_id"</span>: <span class="s2">"5b9f7e0a-634b-441f-a755-e42c0b214c69"</span>,
         <span class="s2">"company"</span>: <span class="o">{</span>
             <span class="s2">"name"</span>: <span class="s2">"Railsbank"</span>
         <span class="o">}</span>
     <span class="o">}</span>,
     <span class="s2">"ledger_who_owns_assets"</span>: <span class="s2">"ledger-assets-owned-by-me"</span>,
     <span class="s2">"uk_sort_code"</span>: <span class="s2">"0400XX"</span>,
     <span class="s2">"partner_ref"</span>: <span class="s2">"payrnet"</span>,
     <span class="s2">"holder_id"</span>: <span class="s2">"5b9f7e0a-634b-441f-a755-e42c0b214c69"</span>,
     <span class="s2">"partner_id"</span>: <span class="s2">"58fe2ce1-b90b-4868-b40d-cb3bc43395d9"</span>,
     <span class="s2">"ledger_t_and_cs_country_of_jurisdiction"</span>: <span class="s2">"GB"</span>,
     <span class="s2">"bic_swift"</span>: <span class="s2">"PAYRGB2LXXX"</span>,
     <span class="s2">"ledger_status"</span>: <span class="s2">"ledger-status-ok"</span>,
     <span class="s2">"amount"</span>: 0,
     <span class="s2">"created_at"</span>: <span class="s2">"2019-06-03T10:26:17.646Z"</span>,
     <span class="s2">"partner_product"</span>: <span class="s2">"PayrNet-GBP-1"</span>,
     <span class="s2">"partner"</span>: <span class="o">{</span>
         <span class="s2">"partner_id"</span>: <span class="s2">"58fe2ce1-b90b-4868-b40d-cb3bc43395d9"</span>,
         <span class="s2">"company"</span>: <span class="o">{</span>
             <span class="s2">"name"</span>: <span class="s2">"PayrNet"</span>
         <span class="o">}</span>,
         <span class="s2">"partner_ref"</span>: <span class="s2">"payrnet"</span>
     <span class="o">}</span>,
     <span class="s2">"ledger_iban_status"</span>: <span class="s2">"ledger-iban-status-ok"</span>,
     <span class="s2">"asset_type"</span>: <span class="s2">"gbp"</span>,
     <span class="s2">"uk_account_number"</span>: <span class="s2">"123397XX"</span>,
     <span class="s2">"asset_class"</span>: <span class="s2">"currency"</span>,
     <span class="s2">"ledger_type"</span>: <span class="s2">"ledger-type-omnibus"</span>
 <span class="o">}</span>
</code></pre>
<ul>
<li>Fetch a ledger to access the fundamental information about a ledger: the account details and balance.</li>
<li>We advise that you add the <code>/wait</code> parameter on the end of the url. This means the API will wait until the ledger is in a &#39;rest&#39; state, meaning it is usable.

<ul>
<li>This is useful because while the creation of a ledger is practically atomic, the assigning of an IBAN or an account number and sort code takes a couple of seconds. Wait allows them to be assigned before the ledger information is returned to you.</li>
</ul></li>
</ul>
<h3 id='endpoints'>Endpoints</h3>
<p><code>GET /v1/customer/ledgers/{{ledger_id}}/wait</code></p>

<p>Get a ledger based on its UUID. This will allow you to discover the account details that can be used in the following endpoints.</p>

<p><code>GET /v1/customer/ledgers/by-iban?iban={{YOUR_IBAN}}</code></p>

<p>Get a ledger based on its IBAN.</p>

<p><code>GET /v1/customer/ledgers/by-uk-bank-account?uk_account_number={{YOUR_UK_ACCOUNT_NUMBER}}&amp;uk_sort_code={{YOUR_UK_SORT_CODE}}</code></p>

<p>Get a ledger based on its uk account details.</p>
<h3 id='new-fields'>New Fields</h3>
<table><thead>
<tr>
<th style="text-align: left">Attribute</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code>amount</code> <br> <em>number</em></td>
<td style="text-align: left">The ledger balance</td>
</tr>
<tr>
<td style="text-align: left"><code>ledger_status</code> <br> <em>string</em></td>
<td style="text-align: left">The status of the ledger <br> <em>See below of Allowed Values</em></td>
</tr>
<tr>
<td style="text-align: left"><code>last_modified_at</code> <br> <em>string</em></td>
<td style="text-align: left">The timestamp of the last time the ledger was changed in some way - either a PUT was executed to update information or the ledger was credited or debited</td>
</tr>
<tr>
<td style="text-align: left"><code>created_at</code> <br> <em>string</em></td>
<td style="text-align: left">The timestamp of when the ledger was created</td>
</tr>
<tr>
<td style="text-align: left"><code>iban</code> <br> <em>string</em></td>
<td style="text-align: left">The iban assigned to the ledger</td>
</tr>
<tr>
<td style="text-align: left"><code>bic_swift</code> <br> <em>string</em></td>
<td style="text-align: left">The SWIFT Business Identifier Code e.g. PAYRGB21XXX <br> <em>4 letters (bank code), 2 letters (ISO 3166-1 country code), 2 letters or digits (location code), 3 letters or digits (branch code, optional, &#39;XXX&#39; for primary office)</em></td>
</tr>
<tr>
<td style="text-align: left"><code>ledger_iban_status</code> <br> <em>string</em></td>
<td style="text-align: left">The status of the iban <br> <em>Allowed Values:</em> ledger-iban-status-pending, entity-status-unable-to-advance, ledger-iban-status-declined, ledger-iban-status-ok</td>
</tr>
<tr>
<td style="text-align: left"><code>uk_account_number</code> <br> <em>string</em></td>
<td style="text-align: left">The UK account number <br> <em>eight integers</em></td>
</tr>
<tr>
<td style="text-align: left"><code>uk_sort_code</code> <br> <em>string</em></td>
<td style="text-align: left">The UK sort code - identifies the bank branch <br> <em>six integers</em></td>
</tr>
<tr>
<td style="text-align: left"><code>partner</code> <br> <em>object</em></td>
<td style="text-align: left">Information regarding the partner the ledger was created by</td>
</tr>
<tr>
<td style="text-align: left"><code>partner.partner_ref</code> <br> <em>string</em></td>
<td style="text-align: left">The reference of the partner</td>
</tr>
<tr>
<td style="text-align: left"><code>partner.partner_id</code> <br> <em>string</em></td>
<td style="text-align: left">The UUID of the partner</td>
</tr>
<tr>
<td style="text-align: left"><code>partner.company</code> <br> <em>object</em></td>
<td style="text-align: left">Object to hold the name of the partner</td>
</tr>
<tr>
<td style="text-align: left"><code>partner.company.name</code> <br> <em>string</em></td>
<td style="text-align: left">The name of the Partner</td>
</tr>
<tr>
<td style="text-align: left"><code>ledger_holder</code> <br> <em>object</em></td>
<td style="text-align: left">Information regarding the ledger holder</td>
</tr>
</tbody></table>
<h3 id='ledger-statuses'>Ledger Statuses</h3>
<table><thead>
<tr>
<th style="text-align: left">Message</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code>ledger-status-missing-data</code></td>
<td style="text-align: left">Extra data required to create the ledger. Often, this occurs if the holder of the ledger is missing the data required to generate a ledger.</td>
</tr>
<tr>
<td style="text-align: left"><code>ledger-status-pending</code></td>
<td style="text-align: left">The ledger is being created. To avoid fetching an ledger in this state, use our <code>/wait</code> parameter.</td>
</tr>
<tr>
<td style="text-align: left"><code>ledger-status-error</code></td>
<td style="text-align: left">The ledger has not been created properly. This occurs if the proposed holder of the ledger is in a state in which they are unable to hold the ledger, for instance, pending.</td>
</tr>
<tr>
<td style="text-align: left"><code>ledger-status-ok</code></td>
<td style="text-align: left">The ledger is ready to receive and send money to and from. You will receive a <code>type: entity-ready-to-use</code> webhook.</td>
</tr>
<tr>
<td style="text-align: left"><code>ledger-status-declined</code></td>
<td style="text-align: left">The ledger has been declined. For instance if the <code>&quot;ledger_t_and_cs_country_of_jurisdiction&quot;:</code> is not acceptable to our compliance team.</td>
</tr>
</tbody></table>
<h2 id='fetch-ledger-entries'>Fetch Ledger Entries</h2>
<blockquote>
<p><strong>Example Request</strong></p>
</blockquote>
<pre class="highlight shell tab-shell"><code> --request GET <span class="s2">"https://playlive.railsbank.com/v1/customer/ledgers/{{LEDGER_ID}}/entries"</span>
 --header <span class="s2">"Content-Type: application/json"</span>
 --header <span class="s2">"Accept: application/json"</span>
 --header <span class="s2">"Authorization: API-Key &lt;&lt;yourAPI-Key&gt;&gt;"</span>
</code></pre>
<blockquote>
<p><strong>Example Response</strong></p>
</blockquote>
<pre class="highlight shell tab-shell"><code><span class="o">[</span>
  <span class="o">{</span>
    <span class="s2">"created_at"</span>: <span class="s2">"2000-01-01T00:00:00.000Z"</span>,
    <span class="s2">"ledger_entry_id"</span>: <span class="s2">"bb8b2428-f94c-41df-8e82-a895ab4d6ac8"</span>,
    <span class="s2">"transaction_id"</span>: <span class="s2">"6630b391-c5ce-46c1-9d23-a82a9e27f82d"</span>,
    <span class="s2">"amount"</span>: <span class="s2">"0"</span>,
    <span class="s2">"ledger_entry_type"</span>: <span class="s2">"debit"</span>
  <span class="o">}</span>,
  <span class="o">{</span>
    <span class="s2">"created_at"</span>: <span class="s2">"2000-01-01T00:00:00.000Z"</span>,
    <span class="s2">"ledger_entry_id"</span>: <span class="s2">"8763b5df-a61c-4f77-9724-41ca9cde3654"</span>,
    <span class="s2">"transaction_id"</span>: <span class="s2">"8763b5df-a61c-4f77-9724-41ca9cde3654"</span>,
    <span class="s2">"amount"</span>: <span class="s2">"3"</span>,
    <span class="s2">"ledger_entry_type"</span>: <span class="s2">"credit"</span>
  <span class="o">}</span>,
  <span class="o">{</span>
    <span class="s2">"created_at"</span>: <span class="s2">"2000-01-01T00:00:00.000Z"</span>,
    <span class="s2">"ledger_entry_id"</span>: <span class="s2">"c91b339e-57d7-41ea-a805-8966ce8fe4ed"</span>,
    <span class="s2">"transaction_id"</span>: <span class="s2">"6630b391-c5ce-46c1-9d23-a82a9e27f82d"</span>,
    <span class="s2">"amount"</span>: <span class="s2">"5"</span>,
    <span class="s2">"ledger_entry_type"</span>: <span class="s2">"credit"</span>
  <span class="o">}</span>,
  <span class="o">{</span>
    <span class="s2">"created_at"</span>: <span class="s2">"2000-01-01T00:00:00.000Z"</span>,
    <span class="s2">"ledger_entry_id"</span>: <span class="s2">"bb8b2428-f94c-41df-8e82-a895ab4d6ac8"</span>,
    <span class="s2">"transaction_id"</span>: <span class="s2">"bb8b2428-f94c-41df-8e82-a895ab4d6ac8"</span>,
    <span class="s2">"amount"</span>: <span class="s2">"10"</span>,
    <span class="s2">"ledger_entry_type"</span>: <span class="s2">"credit"</span>
  <span class="o">}</span>
<span class="o">]</span>
</code></pre>
<p><code>GET /v1/customer/ledgers/{{LEDGER_ID}}/entries</code></p>

<p><code>GET /v1/customer/ledgers/{{LEDGER_ID}}/entries?starting_at_date=2018-09-09</code></p>

<p><code>GET /v1/customer/ledgers/{{LEDGER_ID}}/entries?items_per_page=25</code></p>

<ul>
<li>This endpoint returns the transactions performed on a given ledger, providing a starting point for generating a statement for a ledger.</li>
<li>It returns an array of transactions within the specified time range.</li>
<li>For optimal performance, we return limited data about the transactions.</li>
<li>Use either the date-based parameters or the id-based parameters, not both.</li>
<li>When using parameters, don&#39;t place the strings within quotes.</li>
</ul>
<h3 id='parameters'>Parameters</h3>
<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code>starting_at_date</code> <br> <em>string</em></td>
<td style="text-align: left">Any transaction before this date will not be shown in the array <br> <em>YYYY-MM-DD</em></td>
</tr>
<tr>
<td style="text-align: left"><code>to_date</code> <br> <em>string</em></td>
<td style="text-align: left">Any transactions after this date will not be shown <br> <em>YYYY-MM-DD</em></td>
</tr>
<tr>
<td style="text-align: left"><code>items_per_page</code> <br> <em>integer</em></td>
<td style="text-align: left">The number of items returned in each page. A hyperlink to the next page will be found in the response headers</td>
</tr>
<tr>
<td style="text-align: left"><code>last_seen_id</code> <br> <em>string</em></td>
<td style="text-align: left">The entries returned will have all been created after the <code>ledger_entry_id</code> whose UUID is the <code>last_seen_id</code></td>
</tr>
</tbody></table>
<h3 id='the-ledger-entry-object'>The Ledger Entry Object</h3>
<table><thead>
<tr>
<th style="text-align: left">Attribute</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code>created_at</code> <br> <em>string</em></td>
<td style="text-align: left">The timestamp of when the transaction was created</td>
</tr>
<tr>
<td style="text-align: left"><code>ledger_entry_id</code> <br> <em>string</em></td>
<td style="text-align: left">The UUID of the particular ledger entry</td>
</tr>
<tr>
<td style="text-align: left"><code>transaction_id</code> <br> <em>string</em></td>
<td style="text-align: left">The UUID of the transaction that made the entry. Can be fetched using <code>GET v1/customer/transactions/{{TRANSACTION_ID}}</code></td>
</tr>
<tr>
<td style="text-align: left"><code>amount</code> <br> <em>string</em></td>
<td style="text-align: left">The amount credited or debited</td>
</tr>
<tr>
<td style="text-align: left"><code>ledger_entry_type</code> <br> <em>string</em></td>
<td style="text-align: left">The type of entry <br> <em>debit or credit</em></td>
</tr>
</tbody></table>
<h2 id='fetch-multiple-ledgers'>Fetch Multiple Ledgers</h2>
<blockquote>
<p><strong>Example Request</strong></p>
</blockquote>
<pre class="highlight shell tab-shell"><code> --request GET <span class="s2">"https://playlive.railsbank.com/v1/customer/ledgers?holder_id={{CUSTOMER_ID}}"</span>
 --header <span class="s2">"Content-Type: application/json"</span>
 --header <span class="s2">"Accept: application/json"</span>
 --header <span class="s2">"Authorization: API-Key &lt;&lt;yourAPI-Key&gt;&gt;"</span>
</code></pre>
<blockquote>
<p><strong>Example Response</strong></p>
</blockquote>
<pre class="highlight shell tab-shell"><code><span class="o">[</span>
  <span class="o">{</span>
      <span class="s2">"iban"</span>: <span class="s2">"GB22PAYR00997700000143"</span>,
      <span class="s2">"last_modified_at"</span>: <span class="s2">"2018-10-04T09:23:27.552Z"</span>,
      <span class="s2">"ledger_primary_use_types"</span>: <span class="o">[</span>
          <span class="s2">"ledger-primary-use-types-payments"</span>
      <span class="o">]</span>,
      <span class="s2">"ledger_id"</span>: <span class="s2">"5bb5dc0f-800e-418d-8642-f3af85fb7e0c"</span>,
      <span class="s2">"ledger_holder"</span>: <span class="o">{</span>
          <span class="s2">"customer_id"</span>: <span class="s2">"5b9f7e0a-634b-441f-a755-e42c0b214c69"</span>,
          <span class="s2">"company"</span>: <span class="o">{</span>
              <span class="s2">"name"</span>: <span class="s2">"Railsbank"</span>
          <span class="o">}</span>
      <span class="o">}</span>,
      <span class="s2">"ledger_who_owns_assets"</span>: <span class="s2">"ledger-assets-owned-by-me"</span>,
      <span class="s2">"partner_ref"</span>: <span class="s2">"payrnet"</span>,
      <span class="s2">"holder_id"</span>: <span class="s2">"5b9f7e0a-634b-441f-a755-e42c0b214c69"</span>,
      <span class="s2">"partner_id"</span>: <span class="s2">"58fe2ce1-b90b-4868-b40d-cb3bc43395d9"</span>,
      <span class="s2">"ledger_t_and_cs_country_of_jurisdiction"</span>: <span class="s2">"GB"</span>,
      <span class="s2">"bic_swift"</span>: <span class="s2">"PAYRGB21"</span>,
      <span class="s2">"ledger_status"</span>: <span class="s2">"ledger-status-ok"</span>,
      <span class="s2">"amount"</span>: 0.5,
      <span class="s2">"created_at"</span>: <span class="s2">"2018-10-04T09:23:27.552Z"</span>,
      <span class="s2">"partner_product"</span>: <span class="s2">"PayrNet-EUR-1"</span>,
      <span class="s2">"partner"</span>: <span class="o">{</span>
          <span class="s2">"partner_id"</span>: <span class="s2">"58fe2ce1-b90b-4868-b40d-cb3bc43395d9"</span>,
          <span class="s2">"company"</span>: <span class="o">{</span>
              <span class="s2">"name"</span>: <span class="s2">"PayrNet"</span>
          <span class="o">}</span>,
          <span class="s2">"partner_ref"</span>: <span class="s2">"payrnet"</span>
      <span class="o">}</span>,
      <span class="s2">"ledger_iban_status"</span>: <span class="s2">"ledger-iban-status-ok"</span>,
      <span class="s2">"asset_type"</span>: <span class="s2">"eur"</span>,
      <span class="s2">"asset_class"</span>: <span class="s2">"currency"</span>,
      <span class="s2">"ledger_type"</span>: <span class="s2">"ledger-type-single-user"</span>
  <span class="o">}</span>,
  <span class="o">{</span>
      <span class="s2">"last_modified_at"</span>: <span class="s2">"2018-10-16T09:31:05.026Z"</span>,
      <span class="s2">"ledger_primary_use_types"</span>: <span class="o">[</span>
          <span class="s2">"ledger-primary-use-types-payments"</span>
      <span class="o">]</span>,
      <span class="s2">"ledger_id"</span>: <span class="s2">"5bc5afd9-bade-410d-add4-79b4ac56079f"</span>,
      <span class="s2">"ledger_holder"</span>: <span class="o">{</span>
          <span class="s2">"customer_id"</span>: <span class="s2">"5b9f7e0a-634b-441f-a755-e42c0b214c69"</span>,
          <span class="s2">"company"</span>: <span class="o">{</span>
              <span class="s2">"name"</span>: <span class="s2">"Railsbank"</span>
          <span class="o">}</span>
      <span class="o">}</span>,
      <span class="s2">"ledger_who_owns_assets"</span>: <span class="s2">"ledger-assets-owned-by-me"</span>,
      <span class="s2">"partner_ref"</span>: <span class="s2">"payrnet"</span>,
      <span class="s2">"holder_id"</span>: <span class="s2">"5b9f7e0a-634b-441f-a755-e42c0b214c69"</span>,
      <span class="s2">"partner_id"</span>: <span class="s2">"58fe2ce1-b90b-4868-b40d-cb3bc43395d9"</span>,
      <span class="s2">"ledger_t_and_cs_country_of_jurisdiction"</span>: <span class="s2">"GB"</span>,
      <span class="s2">"ledger_status"</span>: <span class="s2">"ledger-status-ok"</span>,
      <span class="s2">"amount"</span>: 0.1,
      <span class="s2">"created_at"</span>: <span class="s2">"2018-10-16T09:31:05.026Z"</span>,
      <span class="s2">"partner_product"</span>: <span class="s2">"PayrNet-EUR-1"</span>,
      <span class="s2">"partner"</span>: <span class="o">{</span>
          <span class="s2">"partner_id"</span>: <span class="s2">"58fe2ce1-b90b-4868-b40d-cb3bc43395d9"</span>,
          <span class="s2">"company"</span>: <span class="o">{</span>
              <span class="s2">"name"</span>: <span class="s2">"PayrNet"</span>
          <span class="o">}</span>,
          <span class="s2">"partner_ref"</span>: <span class="s2">"payrnet"</span>
      <span class="o">}</span>,
      <span class="s2">"asset_type"</span>: <span class="s2">"eur"</span>,
      <span class="s2">"asset_class"</span>: <span class="s2">"currency"</span>,
      <span class="s2">"ledger_type"</span>: <span class="s2">"ledger-type-single-user"</span>
  <span class="o">}</span>
<span class="o">]</span>
</code></pre>
<p><code>GET /v1/customer/ledgers</code></p>

<p><code>GET /v1/customer/ledgers?holder_id={{CUSTOMER_ID}}</code></p>

<p><code>GET /v1/customer/ledgers?partner_product=PayrNet-GBP-1</code></p>

<p><code>GET /v1/customer/ledgers?holder_id={{CUSTOMER_ID}}&amp;partner_product=PayrNet-GBP-1</code></p>

<ul>
<li>This endpoint allows you to fetch multiple normal ledgers by the holder of the ledger and/or the partner product of the ledger.</li>
<li>For instance, you might want to see all the GBP ledgers held by a particular enduser, or all the EUR ledgers held by the customer.</li>
<li>The response can also be constricted to a particular timeframe or a <code>last_seen_id</code>. It can also be paginated to shorten the response time.</li>
<li>All parameters are optional - you can simply fetch all the ledgers created using your API-Key in the given environment.</li>
<li>At the same time, all parameters can be used. To add a parameter simply use the <code>&amp;</code> symbol.

<ul>
<li>Use either the date-based parameters or the id-based parameters, not both.</li>
<li>When using parameters, don&#39;t place the strings within quotes.</li>
</ul></li>
<li>The response will be an array of ledger objects in the same format as if they had all been fetched individually.</li>
<li>The response will be in the same format no matter the number of parameters used.</li>
</ul>
<h3 id='parameters-2'>Parameters</h3>
<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code>holder_id</code> <br> <em>string</em></td>
<td style="text-align: left">The holder of the ledgers: an enduser or a customer</td>
</tr>
<tr>
<td style="text-align: left"><code>partner_product</code> <br> <em>string</em></td>
<td style="text-align: left">The partner product the ledgers call under <br> <em>Allowed Values:</em> ExampleBank-GBP-1, ExampleBank-EUR-1, PayrNet-GBP-1, PayrNet-GBP-2, PayrNet-EUR-1</td>
</tr>
<tr>
<td style="text-align: left"><code>items_per_page</code> <br> <em>integer</em></td>
<td style="text-align: left">The number of items returned in each page. A hyperlink to the next page will be found in the response headers</td>
</tr>
<tr>
<td style="text-align: left"><code>created_at</code> <br> <em>string</em></td>
<td style="text-align: left">The date that the list of ledgers will begin at: any ledger created before this date will not be returned. <br> <em>YYYY-MM-DD</em></td>
</tr>
<tr>
<td style="text-align: left"><code>last_seen_id</code> <br> <em>string</em></td>
<td style="text-align: left">The ledgers returned will have all been created after the ledger whose UUID is the <code>last_seen_id</code></td>
</tr>
</tbody></table>
<h2 id='fetch-recently-modified-ledgers'>Fetch Recently Modified Ledgers</h2>
<blockquote>
<p><strong>Example Request</strong></p>
</blockquote>
<pre class="highlight shell tab-shell"><code> --request GET <span class="s2">"https://playlive.railsbank.com/v1/customer/ledgers/changed?from_date="</span>2018-09-09<span class="s2">""</span>
 --header <span class="s2">"Content-Type: application/json"</span>
 --header <span class="s2">"Accept: application/json"</span>
 --header <span class="s2">"Authorization: API-Key &lt;&lt;yourAPI-Key&gt;&gt;"</span>
</code></pre>
<blockquote>
<p><strong>Example Response</strong></p>
</blockquote>
<pre class="highlight shell tab-shell"><code><span class="o">{</span>
  <span class="s2">"next_request_date"</span>: <span class="s2">"2020-01-01"</span>,
  <span class="s2">"ledgers"</span>: <span class="o">[</span>
    <span class="o">{</span>
      <span class="s2">"ledger_id"</span>: <span class="s2">"bb8b2428-f94c-41df-8e82-a895ab4d6ac8"</span>
    <span class="o">}</span>,
    <span class="o">{</span>
      <span class="s2">"ledger_id"</span>: <span class="s2">"8763b5df-a61c-4f77-9724-41ca9cde3654"</span>
    <span class="o">}</span>,
    <span class="o">{</span>
      <span class="s2">"ledger_id"</span>: <span class="s2">"8763b5df-a61c-4f77-9724-41ca9cde3654"</span>
    <span class="o">}</span>
  <span class="o">]</span>
<span class="o">}</span>
</code></pre>
<p><code>GET /v1/customer/ledgers/changed?from_date=&quot;2018-09-09&quot;</code></p>

<ul>
<li>This endpoint allows you to fetch all the ledgers changed after a specified date, the <code>from_date</code> (YYYY-MM-DD).</li>
<li>By changed, we mean ledgers that have been debited or credited.</li>
<li>The call is optimized to be extremely fast and as such will only respond the UUIDs of the ledgers that have been changed. Not all their details.</li>
<li>To fetch their details, iterate over each of them and call <code>GET v1/customer/ledgers/{{LEDGER_ID}}</code>.</li>
<li>In the response is a field called <code>next_request_date</code>, this signifies the timestamp of the first actual changed after the specified <code>from_date</code>.</li>
</ul>
<h2 id='fetch-unassigned-ledgers'>Fetch Unassigned Ledgers</h2>
<blockquote>
<p><strong>Example Request</strong></p>
</blockquote>
<pre class="highlight shell tab-shell"><code> --request GET <span class="s2">"https://playlive.railsbank.com/v1/customer/ledgers/unassigned"</span>
 --header <span class="s2">"Content-Type: application/json"</span>
 --header <span class="s2">"Accept: application/json"</span>
 --header <span class="s2">"Authorization: API-Key &lt;&lt;yourAPI-Key&gt;&gt;"</span>
</code></pre>
<blockquote>
<p><strong>Example Response</strong></p>
</blockquote>
<pre class="highlight shell tab-shell"><code><span class="o">[</span>
    <span class="o">{</span>
      <span class="s2">"ledger_id"</span>: <span class="s2">"bb8b2428-f94c-41df-8e82-a895ab4d6ac8"</span>
    <span class="o">}</span>,
    <span class="o">{</span>
      <span class="s2">"ledger_id"</span>: <span class="s2">"8763b5df-a61c-4f77-9724-41ca9cde3654"</span>
    <span class="o">}</span>,
    <span class="o">{</span>
      <span class="s2">"ledger_id"</span>: <span class="s2">"8763b5df-a61c-4f77-9724-41ca9cde3654"</span>
    <span class="o">}</span>
<span class="o">]</span>
</code></pre>
<p><code>GET /v1/customer/ledgers/unassigned</code></p>

<ul>
<li>This endpoint simply fetches the ledgers that do not have a holder.</li>
<li>The response will be an array of ledger UUIDs. To fetch their details you will need to iterate over each of them and call <code>GET v1/customer/ledgers/{{LEDGER_ID}}</code>.</li>
<li>To assign a ledger to a holder, call <code>POST /v1/customer/ledgers/{ledger_id}/assign</code> with the <code>holder_id</code> in the request body.</li>
</ul>
<h2 id='assign-a-ledger-to-a-holder'>Assign a Ledger to a Holder</h2>
<blockquote>
<p><strong>Example Request</strong></p>
</blockquote>
<pre class="highlight shell tab-shell"><code> --request POST <span class="s2">"https://playlive.railsbank.com/v1/customer/ledgers/{{LEDGER_ID}}/assign"</span>
 --header <span class="s2">"Content-Type: application/json"</span>
 --header <span class="s2">"Accept: application/json"</span>
 --header <span class="s2">"Authorization: API-Key &lt;&lt;yourAPI-Key&gt;&gt;"</span>

 <span class="o">{</span>
  <span class="s2">"holder_id"</span>: <span class="s2">"bb8b2428-f94c-41df-8e82-a895ab4d6ac8"</span>
<span class="o">}</span>
</code></pre>
<blockquote>
<p><strong>Example Response</strong></p>
</blockquote>
<pre class="highlight shell tab-shell"><code><span class="o">{</span>
  <span class="s2">"ledger_id"</span>: <span class="s2">"753fa673-66b4-4c94-9ddb-f9f4b5c1e9a3"</span>
<span class="o">}</span>
</code></pre>
<p><code>POST /v1/customer/ledgers/{{LEDGER_ID}}/assign</code></p>

<ul>
<li>This endpoint allows you to assign an unassigned ledger to a holder.</li>
<li>If you try and assign a ledger that already has a holder to a new holder using this endpoint you will receive <code>&quot;error&quot;: &quot;invalid-state-of-entity&quot;</code>.</li>
</ul>
<h2 id='update-a-ledger'>Update a Ledger</h2>
<blockquote>
<p><strong>Example Request</strong></p>
</blockquote>
<pre class="highlight shell tab-shell"><code> --request PUT <span class="s2">"https://playlive.railsbank.com/v1/customer/ledgers/{{LEDGER_ID}}"</span>
 --header <span class="s2">"Content-Type: application/json"</span>
 --header <span class="s2">"Accept: application/json"</span>
 --header <span class="s2">"Authorization: API-Key &lt;&lt;yourAPI-Key&gt;&gt;"</span>
 <span class="o">{</span>
   <span class="s2">"ledger_meta"</span>: <span class="o">{</span>
     <span class="s2">"custom_account_number"</span>; <span class="s2">"09867594"</span>
   <span class="o">}</span>
 <span class="o">}</span>
</code></pre>
<blockquote>
<p><strong>Example Response</strong></p>
</blockquote>
<pre class="highlight shell tab-shell"><code><span class="o">{</span>
  <span class="s2">"ledger_id"</span>: <span class="s2">"753fa673-66b4-4c94-9ddb-f9f4b5c1e9a3"</span>
<span class="o">}</span>
</code></pre>
<p><code>PUT /v1/customer/ledgers/{{LEDGER_ID}}</code></p>

<ul>
<li>This endpoint allows you to update information on a given ledger.</li>
<li>At present, we only allow you to update the metadata on a ledger.

<ul>
<li>This includes adding new metadata.</li>
</ul></li>
<li>If you want to update other fields, we recommend closing the ledger and creating a new one.</li>
</ul>
<h2 id='close-a-ledger'>Close a Ledger</h2>
<blockquote>
<p><strong>Example Request</strong></p>
</blockquote>
<pre class="highlight shell tab-shell"><code> --request POST <span class="s2">"https://playlive.railsbank.com/v1/customer/{{LEDGER_ID}}/close"</span>
 --header <span class="s2">"Content-Type: application/json"</span>
 --header <span class="s2">"Accept: application/json"</span>
 --header <span class="s2">"Authorization: API-Key &lt;&lt;yourAPI-Key&gt;&gt;"</span>
</code></pre>
<blockquote>
<p><strong>Example Response</strong></p>
</blockquote>
<pre class="highlight shell tab-shell"><code><span class="o">{</span>
  <span class="s2">"ledger_id"</span>: <span class="s2">"753fa673-66b4-4c94-9ddb-f9f4b5c1e9a3"</span>
<span class="o">}</span>
</code></pre>
<p><code>POST /v1/customer/ledgers/{{LEDGER_ID}}/close</code></p>

<ul>
<li>This endpoint allows you to permanently close a ledger.</li>
<li>We do not currently allow the disabling and then reopening of ledgers.</li>
<li>This is supported for any type of normal Railsbank ledger: you cannot close virtual ledgers.</li>
<li>There&#39;s no request body.</li>
<li>You can&#39;t close multiple ledgers at a time with a single endpoint at present.</li>
</ul>
<h1 id='onboarding-beneficiaries'>Onboarding Beneficiaries</h1>
<blockquote>
<p><strong>Endpoints</strong></p>
</blockquote>
<pre class="highlight shell tab-shell"><code>POST /v1/customer/beneficiaries
POST /v1/customer/beneficiaries/<span class="o">{{</span>BENEFICIARY_ID<span class="o">}}</span>/accounts
GET /v1/customer/beneficiaries/<span class="o">{{</span>BENEFICIARY_ID<span class="o">}}</span>
GET /v1/customer/beneficiaries/<span class="o">{{</span>BENEFICIARY_ID<span class="o">}}</span>/accounts
GET /v1/customer/beneficiaries/<span class="o">{{</span>BENEFICIARY_ID<span class="o">}}</span>/accounts/<span class="o">{{</span>ACCOUNT_ID<span class="o">}}</span>
PUT /v1/customer/beneficiaries/<span class="o">{{</span>BENEFICIARY_ID<span class="o">}}</span>
PUT /v1/customer/beneficiaries/<span class="o">{{</span>BENEFICIARY_ID<span class="o">}}</span>/accounts/<span class="o">{{</span>ACCOUNT_ID<span class="o">}}</span>
PUT /v1/customer/beneficiaries/<span class="o">{{</span>BENEFICIARY_ID<span class="o">}}</span>/accounts/<span class="o">{{</span>ACCOUNT_ID<span class="o">}}</span>/make-default
</code></pre>
<ul>
<li>A <strong>beneficiary</strong> is an entity who <em>holds</em> an account to which money is sent to from a Railsbank ledger.</li>
<li>A beneficiary can either be: a <strong>person</strong> or a <strong>company</strong></li>
<li>Beneficiaries are be held by either an <strong>enduser</strong> or the <strong>customer</strong>.</li>
<li>Once the beneiciary is made, the holder of the beneficiary can send money from their ledgers to one of their beneficiaries.</li>
<li>Just as is the case in the real world, a beneficiary can have multiple accounts - for instance a GBP account and a EUR account. The account to which you want to send money to must be set as the <code>default</code> account.</li>
<li>It is not possible to delete a beneficiary. please be mindful when creating them.</li>
<li>Rules similar to those that apply to endusers apply to creating beneficiaries: beneficiaries can either bet individuals - <code>person</code> - or corporates - <code>company</code>. Different payloads are required for each</li>
</ul>
<h2 id='create-an-individual-beneficiary'>Create an Individual Beneficiary</h2>
<blockquote>
<p><strong>Example Request - GBP Bank Account</strong></p>
</blockquote>
<pre class="highlight shell tab-shell"><code>--request POST <span class="s2">"https://playlive.railsbank.com/v1/customer/beneficiaries"</span>
--header <span class="s2">"Content-Type: application/json"</span>
--header <span class="s2">"Accept: application/json"</span>
--header <span class="s2">"Authorization: API-Key &lt;&lt;yourAPI-Key&gt;&gt;"</span>
<span class="o">{</span>
  <span class="s2">"holder_id"</span>: <span class="s2">"{{enduser_id}}"</span>,
  <span class="s2">"asset_class"</span>: <span class="s2">"currency"</span>,
  <span class="s2">"asset_type"</span>: <span class="s2">"gbp"</span>,
  <span class="s2">"default_account"</span>: <span class="o">{</span>
    <span class="s2">"account_number"</span>: <span class="s2">"45564658"</span>,
    <span class="s2">"bank_country"</span>: <span class="s2">"GB"</span>,
    <span class="s2">"bank_code"</span>: <span class="s2">"040004"</span>,
    <span class="s2">"bank_name"</span>: <span class="s2">"Monzo"</span>,
    <span class="s2">"asset_type"</span>: <span class="s2">"gbp"</span>,
    <span class="s2">"asset_class"</span>: <span class="s2">"currency"</span>,
    <span class="s2">"bank_code_type"</span>: <span class="s2">"sort-code"</span>
  <span class="o">}</span>,
  <span class="s2">"person"</span>: <span class="o">{</span>
    <span class="s2">"date_onboarded"</span>: <span class="s2">"2015-11-21"</span>,
    <span class="s2">"email"</span>: <span class="s2">"johnsmith@example.net"</span>,
    <span class="s2">"name"</span>: <span class="s2">"John Smith"</span>,
    <span class="s2">"address"</span>: <span class="o">{</span>
      <span class="s2">"address_refinement"</span>: <span class="s2">"Apartment 42"</span>,
      <span class="s2">"address_number"</span>: <span class="s2">"29"</span>,
      <span class="s2">"address_street"</span>: <span class="s2">"Acacia Road"</span>,
      <span class="s2">"address_city"</span>: <span class="s2">"London"</span>,
      <span class="s2">"address_region"</span>: <span class="s2">"Essex"</span>,
      <span class="s2">"address_postal_code"</span>: <span class="s2">"FX20 7XS"</span>,
      <span class="s2">"address_iso_country"</span>: <span class="s2">"GB"</span>
    <span class="o">}</span>,
    <span class="s2">"country_of_residence"</span>: <span class="o">[</span>
      <span class="s2">"GB"</span>
    <span class="o">]</span>,
    <span class="s2">"telephone"</span>: <span class="s2">"+44 22 626 2626"</span>,
    <span class="s2">"date_of_birth"</span>: <span class="s2">"1970-11-05"</span>,
    <span class="s2">"nationality"</span>: <span class="o">[</span>
      <span class="s2">"British"</span>
    <span class="o">]</span>
  <span class="o">}</span>,
  <span class="s2">"beneficiary_meta"</span>: <span class="o">{</span>
    <span class="s2">"foo"</span>: <span class="s2">"baa"</span>,
    <span class="s2">"our_salesforce_reference"</span>: <span class="s2">"http://na1.salesforce.com/5003000000D8cuI"</span>
  <span class="o">}</span>
<span class="o">}</span>
</code></pre>
<blockquote>
<p><strong>Example Response</strong></p>
</blockquote>
<pre class="highlight shell tab-shell"><code><span class="o">{</span>
    <span class="s2">"beneficiary_id"</span>: <span class="s2">"5b054129-9139-4300-b40a-2e1154e1edb8"</span>
<span class="o">}</span>
</code></pre>
<p><code>POST &quot;https://playlive.railsbank.com/v1/customer/beneficiaries&quot;</code></p>

<ul>
<li>To create a beneficiary you need to know either an <code>enduser_id</code> or your <code>customer_id</code>. If the customer is the holder of the beneficiary it signifies that it is the customer who will be sending the money.</li>
<li>Of course, you must also know the account details of the beneficiary.</li>
<li>The minimum data required to create an individual beneficiary is the person&#39;s <code>name</code> (first and last name) and full address, including the <code>address_iso_country</code> (we support iso-alpha-2 and alpha-3).</li>
<li>The metadata object also exists for beneficiaries, allowing you to add custom fields to your liking.</li>
<li><strong>Remember</strong> When you send money to a beneficiary, the funds will be transferred to the <code>default_account</code>. If you want to send the funds to a different beneficiary account, add an account and make that account the default using the <strong>Default an account</strong> endpoint.</li>
<li>If you are creating a beneficiary with a UK bank account, you <strong>do not</strong> need to provide the account <code>iban</code> or <code>bic_swift</code>, only the <code>account_number</code> and <code>bank_code</code>, which will be the sort-code.</li>
<li>We support creating beneficiaries for all of the G10 currencies because these are the currencies we allow you to <strong>convert-and-send</strong> money to. To add an account, use the <code>default_account</code> object which allows you to specify the type of bank code being used etc.

<ul>
<li>If you are unsure of the required account details for a <strong>convert-and-send</strong> transaction, refer to <a href="https://www.currencycloud.com/support/payment-guides/">this helpful guide</a> and note that we use the <strong>Priority Payment</strong> method.</li>
</ul></li>
</ul>
<h3 id='the-individual-beneficiary-object'>The Individual Beneficiary Object</h3>
<table><thead>
<tr>
<th style="text-align: left">Attribute</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code>holder_id</code> <br> <em>string</em>, required</td>
<td style="text-align: left">The UUID of the holder of the beneficiary, either an <code>enduser_id</code> or the <code>customer_id</code></td>
</tr>
<tr>
<td style="text-align: left"><code>asset_class</code> <br> <em>string</em>, required</td>
<td style="text-align: left">Used for GBP and EUR beneficiaries. The class of the asset being held in the account, for a normal bank account use <code>currency</code> <br> <em>Allowed Values:</em> commodity, currency</td>
</tr>
<tr>
<td style="text-align: left"><code>asset_type</code> <br> <em>string</em>, required</td>
<td style="text-align: left">Used for GBP and EUR beneficiaries. The type of asset being held in the account, for a normal account this means the currency <br> <em>Allowed Values:</em> gbp, eur, aud, chf, cad, sek, usd, nok, nzd, jpy</td>
</tr>
<tr>
<td style="text-align: left"><code>bank_country</code> <br> <em>string</em>, optional</td>
<td style="text-align: left">The country in which the beneficiary&#39;s bank account is held.</td>
</tr>
<tr>
<td style="text-align: left"><code>bank_name</code> <br> <em>string</em>, optional</td>
<td style="text-align: left">The name of the bank holding the beneficiary account.</td>
</tr>
<tr>
<td style="text-align: left"><code>default_account</code> <br> <em>object</em>, required for non-GBP/EUR beneficiaries</td>
<td style="text-align: left">The account to which funds will be sent</td>
</tr>
<tr>
<td style="text-align: left"><code>default_account.account_number</code> <br> <em>string</em>, required</td>
<td style="text-align: left">The account number of the beneficiary account.</td>
</tr>
<tr>
<td style="text-align: left"><code>default_account.asset_class</code> <br> <em>string</em>, required</td>
<td style="text-align: left">Used for GBP and EUR beneficiaries. The class of the asset being held in the account, for a normal bank account use <code>currency</code> <br> <em>Allowed Values:</em> commodity, currency</td>
</tr>
<tr>
<td style="text-align: left"><code>default_account.asset_type</code> <br> <em>string</em>, required</td>
<td style="text-align: left">Used for GBP and EUR beneficiaries. The type of asset being held in the account, for a normal account this means the currency <br> <em>Allowed Values:</em> gbp, eur, aud, chf, cad, sek, usd, nok, nzd, jpy</td>
</tr>
<tr>
<td style="text-align: left"><code>default_account.bank_code</code> <br> <em>string</em>, required if applicable</td>
<td style="text-align: left">The bank code of the beneficiary account. Allows us to identify the bank and branch</td>
</tr>
<tr>
<td style="text-align: left"><code>default_account.bank_code_type</code> <br> <em>string</em>, required if applicable</td>
<td style="text-align: left">The type of bank code of the beneficiary account. Will be sort-code for a UK account <br> <em>Allowed Values:</em> routing-number, aba, sort-code, zengin-code, bsb</td>
</tr>
<tr>
<td style="text-align: left"><code>default_account.bank_country</code> <br> <em>string</em>, required</td>
<td style="text-align: left">The country in which the beneficiary&#39;s bank account is held.</td>
</tr>
<tr>
<td style="text-align: left"><code>default_account.bank_name</code> <br> <em>string</em>, optional</td>
<td style="text-align: left">The name of the bank in which the beneficiary&#39;s bank account is held.</td>
</tr>
<tr>
<td style="text-align: left"><code>default_account.iban</code> <br> <em>string</em>, required for EUR and convert-and-send if applicable</td>
<td style="text-align: left">The IBAN of the beneficiary account</td>
</tr>
<tr>
<td style="text-align: left"><code>default_account.bic_swift</code> <br> <em>string</em>, required for EUR and convert-and-send if applicable</td>
<td style="text-align: left">The SWIFT Branch Identifier Code of the beneficiary account</td>
</tr>
<tr>
<td style="text-align: left"><code>person</code> <br> <em>object</em>, required (for individuals)</td>
<td style="text-align: left">Information about individual</td>
</tr>
<tr>
<td style="text-align: left"><code>person.name</code> <br> <em>string</em>, required</td>
<td style="text-align: left">Full Name  <br> <em>Limited to 70 chars</em></td>
</tr>
<tr>
<td style="text-align: left"><code>person.country_of_residence</code> <br> <em>string</em>, required</td>
<td style="text-align: left">Country code <br>  <em>ISO 8601 format</em></td>
</tr>
<tr>
<td style="text-align: left"><code>person.date_of_birth</code> <br> <em>string</em>, optional</td>
<td style="text-align: left">Date of birth  <br> <em>YYYY-MM-DD</em></td>
</tr>
<tr>
<td style="text-align: left"><code>person.nationality</code> <br> <em>string</em>, optional</td>
<td style="text-align: left">Nationality</td>
</tr>
<tr>
<td style="text-align: left"><code>person.pep</code> <br> <em>boolean</em>, required (if applicable)</td>
<td style="text-align: left">Politically Exposed Person <br>  <em>Does not need to be inside &quot;&quot;</em></td>
</tr>
<tr>
<td style="text-align: left"><code>person.pep_type</code> <br> <em>string</em>, optional</td>
<td style="text-align: left">Extent of exposure <br>  <em>Allowed Values: <code>direct</code>, <code>close-associate</code>, <code>former-pep</code>, <code>family-member</code></em></td>
</tr>
<tr>
<td style="text-align: left"><code>person.pep_notes</code> <br> <em>string</em>, optional</td>
<td style="text-align: left">Extra detail</td>
</tr>
<tr>
<td style="text-align: left"><code>person.social_security_number</code> <br> <em>string</em>, optional</td>
<td style="text-align: left">SSN</td>
</tr>
<tr>
<td style="text-align: left"><code>person.telephone</code> <br> <em>string</em>, optional</td>
<td style="text-align: left">Phone number</td>
</tr>
<tr>
<td style="text-align: left"><code>person.tin</code> <br> <em>string</em>, optional</td>
<td style="text-align: left">Tax Identification Number</td>
</tr>
<tr>
<td style="text-align: left"><code>person.tin_type</code> <br> <em>string</em>, optional</td>
<td style="text-align: left">Type of Tax Identification Number</td>
</tr>
<tr>
<td style="text-align: left"><code>person.address</code> <br> <em>object</em>, required</td>
<td style="text-align: left">current address information</td>
</tr>
<tr>
<td style="text-align: left"><code>person.address.address_city</code> <br> <em>string</em>, required</td>
<td style="text-align: left">City that enduser lives in</td>
</tr>
<tr>
<td style="text-align: left"><code>person.address.address_iso_country</code><br> <em>string</em>, required</td>
<td style="text-align: left">Country code <br>  <em>ISO 8601 format</em></td>
</tr>
<tr>
<td style="text-align: left"><code>person.address.address_number</code> <br> <em>string</em>, required</td>
<td style="text-align: left">House or building number on street</td>
</tr>
<tr>
<td style="text-align: left"><code>person.address.address_postal_code</code> <br> <em>string</em>, required</td>
<td style="text-align: left">Postal or zip code</td>
</tr>
<tr>
<td style="text-align: left"><code>person.address.address_refinement</code> <br> <em>string</em>, optional</td>
<td style="text-align: left">Extra detail, e.g. house name</td>
</tr>
<tr>
<td style="text-align: left"><code>person.address.address_region</code> <br> <em>string</em>, required</td>
<td style="text-align: left">Region in country</td>
</tr>
<tr>
<td style="text-align: left"><code>person.address.address_street</code> <br> <em>string</em>, required</td>
<td style="text-align: left">Street the beneficiary lives on</td>
</tr>
<tr>
<td style="text-align: left"><code>person.address_history</code> <br> <em>array of objects</em>, optional</td>
<td style="text-align: left">Previous address information. Can include multiple addresses in the array.</td>
</tr>
<tr>
<td style="text-align: left"><code>person.address_history.address_start_date</code> <br> <em>string</em>, optional</td>
<td style="text-align: left">Date at which the person began living at the address <br> <em>YYYY-MM-DD</em></td>
</tr>
<tr>
<td style="text-align: left"><code>person.address_history.address_end_date</code> <br> <em>string</em>, optional</td>
<td style="text-align: left">Date at which the person stopped living at the address <br> <em>YYYY-MM-DD</em></td>
</tr>
<tr>
<td style="text-align: left"><code>person.address_history.address_city</code> <br> <em>string</em>, optional</td>
<td style="text-align: left">City that beneficiary lived in</td>
</tr>
<tr>
<td style="text-align: left"><code>person.address_history.address_iso_country</code> <br> <em>string</em>, optional</td>
<td style="text-align: left">Country code <br>  <em>ISO 8601 format</em></td>
</tr>
<tr>
<td style="text-align: left"><code>person.address_history.address_number</code> <br> <em>string</em>, optional</td>
<td style="text-align: left">House or building number on street</td>
</tr>
<tr>
<td style="text-align: left"><code>person.address_history.address_postal_code</code> <br> <em>string</em>, optional</td>
<td style="text-align: left">Postal or zip code</td>
</tr>
<tr>
<td style="text-align: left"><code>person.address_history.address_refinement</code> <br> <em>string</em>, optional</td>
<td style="text-align: left">Extra detail, e.g. house name</td>
</tr>
<tr>
<td style="text-align: left"><code>person.address_history.address_region</code> <br> <em>string</em>, optional</td>
<td style="text-align: left">Region in country</td>
</tr>
<tr>
<td style="text-align: left"><code>person.address_history.address_street</code> <br> <em>string</em>, optional</td>
<td style="text-align: left">Street the beneficiary lived on</td>
</tr>
<tr>
<td style="text-align: left"><code>beneficiary_meta</code> <br> <em>object</em>, optional</td>
<td style="text-align: left">Any extra, custom fields that you want to include about the beneficiary</td>
</tr>
</tbody></table>
<h2 id='create-a-corporate-beneficiary'>Create a Corporate Beneficiary</h2>
<blockquote>
<p><strong>Example Request - EUR Bank Account</strong></p>
</blockquote>
<pre class="highlight shell tab-shell"><code>--request POST <span class="s2">"https://playlive.railsbank.com/v1/customer/beneficiaries"</span>
--header <span class="s2">"Content-Type: application/json"</span>
--header <span class="s2">"Accept: application/json"</span>
--header <span class="s2">"Authorization: API-Key &lt;&lt;yourAPI-Key&gt;&gt;"</span>

<span class="o">{</span>
  <span class="s2">"holder_id"</span>: <span class="s2">"{{enduser_id}}"</span>,
  <span class="s2">"asset_class"</span>: <span class="s2">"currency"</span>,
  <span class="s2">"asset_type"</span>: <span class="s2">"eur"</span>,
  <span class="s2">"default_account"</span>: <span class="o">{</span>
    <span class="s2">"iban"</span>: <span class="s2">"GB4402005678901234567890"</span>,
    <span class="s2">"bank_country"</span>: <span class="s2">"GB"</span>,
    <span class="s2">"bank_name"</span>: <span class="s2">"Barclays"</span>,
    <span class="s2">"bic_swift"</span>: <span class="s2">"SPSRSKBAXXX"</span>,
    <span class="s2">"asset_type"</span>: <span class="s2">"eur"</span>,
    <span class="s2">"asset_class"</span>: <span class="s2">"currency"</span>
  <span class="o">}</span>,
  <span class="s2">"company"</span>: <span class="o">{</span>
    <span class="s2">"name"</span>: <span class="s2">"John's Ice Creams Ltd"</span>,
    <span class="s2">"address"</span>: <span class="o">{</span>
      <span class="s2">"address_refinement"</span>: <span class="s2">"Apartment 42"</span>,
      <span class="s2">"address_number"</span>: <span class="s2">"29"</span>,
      <span class="s2">"address_street"</span>: <span class="s2">"Acacia Road"</span>,
      <span class="s2">"address_city"</span>: <span class="s2">"London"</span>,
      <span class="s2">"address_region"</span>: <span class="s2">"Essex"</span>,
      <span class="s2">"address_postal_code"</span>: <span class="s2">"FX20 7XS"</span>,
      <span class="s2">"address_iso_country"</span>: <span class="s2">"GB"</span>
    <span class="o">}</span>,
    <span class="s2">"country_of_residence"</span>: <span class="o">[</span>
      <span class="s2">"GB"</span>
    <span class="o">]</span>,
    <span class="s2">"address_history"</span>: <span class="o">[</span>
      <span class="o">{</span>
        <span class="s2">"address_refinement"</span>: <span class="s2">"Apartment 77"</span>,
        <span class="s2">"address_number"</span>: <span class="s2">"42"</span>,
        <span class="s2">"address_street"</span>: <span class="s2">"Kirschbaumstraße"</span>,
        <span class="s2">"address_city"</span>: <span class="s2">"Berlin"</span>,
        <span class="s2">"address_region"</span>: <span class="s2">"California"</span>,
        <span class="s2">"address_postal_code"</span>: <span class="s2">"12059"</span>,
        <span class="s2">"address_iso_country"</span>: <span class="s2">"DE"</span>,
        <span class="s2">"address_start_date"</span>: <span class="s2">"2000-09-02"</span>,
        <span class="s2">"address_end_date"</span>: <span class="s2">"2002-12-20"</span>
      <span class="o">}</span>
    <span class="o">]</span>,
    <span class="s2">"email"</span>: <span class="s2">"icecream@example.net"</span>,
    <span class="s2">"telephone"</span>: <span class="s2">"+44 22 626 2626"</span>
  <span class="o">}</span>,
  <span class="s2">"beneficiary_meta"</span>: <span class="o">{</span>
    <span class="s2">"foo"</span>: <span class="s2">"baa"</span>,
    <span class="s2">"our_salesforce_reference"</span>: <span class="s2">"http://na1.salesforce.com/5003000000D8cuI"</span>
  <span class="o">}</span>
<span class="o">}</span>

</code></pre>
<blockquote>
<p><strong>Example Response</strong></p>
</blockquote>
<pre class="highlight shell tab-shell"><code><span class="o">{</span>
    <span class="s2">"beneficiary_id"</span>: <span class="s2">"5b054129-9139-4300-b40a-2e1154e1edb8"</span>
<span class="o">}</span>
</code></pre>
<p><code>POST &quot;https://playlive.railsbank.com/v1/customer/beneficiaries&quot;</code></p>

<ul>
<li>To create a beneficiary you need to know either an <code>enduser_id</code> or your <code>customer_id</code>. If the customer is the holder of the beneficiary it signifies that it is the customer who will be sending the money.</li>
<li>Of course, you must also know the account details of the beneficiary.</li>
<li>The minimum data required to create an corporate beneficiary is the company&#39;s <code>trading_name</code> and full address, including the <code>address_iso_country</code> (we support iso-alpha-2 and alpha-3).

<ul>
<li>If the <code>trading_address</code> is different from <code>registered_address</code>, you need to provide both (otherwise, just include registration address)</li>
<li>If there is a director who holds 10% or more of the stakes, you must include the director&#39;s details. If the director is pep, you must state it.</li>
</ul></li>
<li>The metadata object also exists for beneficiaries, allowing you to add custom fields to your liking.</li>
<li><strong>Remember</strong> When you send money to a beneficiary, the funds will be transferred to the <code>default_account</code>. If you want to send the funds to a different beneficiary account, add an account and make that account the default using the <strong>Default an account</strong> endpoint.</li>
<li>If you are creating a beneficiary with a UK bank account, you <strong>do not</strong> need to provide the account <code>iban</code> or <code>bic_swift</code>, only the <code>account_number</code> and <code>bank_code</code>, which will be the sort-code.</li>
<li>We support creating beneficiaries for all of the G10 currencies because these are the currencies we allow you to <strong>convert-and-send</strong> money to. To add an account, use the <code>default_account</code> object which allows you to specify the type of bank code being used etc.

<ul>
<li>If you are unsure of the required account details for a <strong>convert-and-send</strong> transaction, refer to <a href="https://www.currencycloud.com/support/payment-guides/">this helpful guide</a> and note that we use the <strong>Priority Payment</strong> method.</li>
</ul></li>
</ul>
<h3 id='the-corporate-beneficiary-object'>The Corporate Beneficiary Object</h3>
<table><thead>
<tr>
<th style="text-align: left">Attribute</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code>holder_id</code> <br> <em>string</em>, required</td>
<td style="text-align: left">The UUID of the holder of the beneficiary, either an <code>enduser_id</code> or the <code>customer_id</code></td>
</tr>
<tr>
<td style="text-align: left"><code>asset_class</code> <br> <em>string</em>, required</td>
<td style="text-align: left">Used for GBP and EUR beneficiaries. The class of the asset being held in the account, for a normal bank account use <code>currency</code> <br> <em>Allowed Values:</em> commodity, currency</td>
</tr>
<tr>
<td style="text-align: left"><code>asset_type</code> <br> <em>string</em>, required</td>
<td style="text-align: left">Used for GBP and EUR beneficiaries. The type of asset being held in the account, for a normal account this means the currency <br> <em>Allowed Values:</em> gbp, eur, aud, chf, cad, sek, usd, nok, nzd, jpy</td>
</tr>
<tr>
<td style="text-align: left"><code>bank_country</code> <br> <em>string</em>, optional</td>
<td style="text-align: left">Used for GBP and EUR beneficiaries. The country in which the beneficiary&#39;s bank account is held.</td>
</tr>
<tr>
<td style="text-align: left"><code>bank_name</code> <br> <em>string</em>, optional</td>
<td style="text-align: left">Used for GBP and EUR beneficiaries. The name of the bank holding the beneficiary account.</td>
</tr>
<tr>
<td style="text-align: left"><code>default_account</code> <br> <em>object</em>, required for non-GBP/EUR beneficiaries</td>
<td style="text-align: left">The account to which funds will be sent</td>
</tr>
<tr>
<td style="text-align: left"><code>default_account.account_number</code> <br> <em>string</em>, required</td>
<td style="text-align: left">The account number of the beneficiary account</td>
</tr>
<tr>
<td style="text-align: left"><code>default_account.asset_class</code> <br> <em>string</em>, required</td>
<td style="text-align: left">The class of the asset being held in the account, for a normal bank account use <code>currency</code> <br> <em>Allowed Values:</em> commodity, currency</td>
</tr>
<tr>
<td style="text-align: left"><code>default_account.asset_type</code> <br> <em>string</em>, required</td>
<td style="text-align: left">The type of asset being held in the account, for a normal account this means the currency <br> <em>Allowed Values:</em> gbp, eur, aud, chf, cad, sek, usd, nok, nzd, jpy</td>
</tr>
<tr>
<td style="text-align: left"><code>default_account.bank_code</code> <br> <em>string</em>, required  if applicable</td>
<td style="text-align: left">The bank code of the beneficiary account. Allows us to identify the bank and branch</td>
</tr>
<tr>
<td style="text-align: left"><code>default_account.bank_code_type</code> <br> <em>string</em>, required if applicable</td>
<td style="text-align: left">The type of bank code of the beneficiary account. <br> <em>Allowed Values:</em> routing-number, aba, sort-code, zengin-code, bsb</td>
</tr>
<tr>
<td style="text-align: left"><code>default_account.bank_country</code> <br> <em>string</em>, required</td>
<td style="text-align: left">The country in which the beneficiary&#39;s bank account is held.</td>
</tr>
<tr>
<td style="text-align: left"><code>default_account.bank_name</code> <br> <em>string</em>, optional</td>
<td style="text-align: left">The name of the bank in which the beneficiary&#39;s bank account is held.</td>
</tr>
<tr>
<td style="text-align: left"><code>default_account.iban</code> <br> <em>string</em>, required for EUR and convert-and-send if applicable</td>
<td style="text-align: left">The IBAN of the beneficiary account</td>
</tr>
<tr>
<td style="text-align: left"><code>default_account.bic_swift</code> <br> <em>string</em>, required for EUR and convert-and-send if applicable</td>
<td style="text-align: left">The SWIFT Branch Identifier Code of the beneficiary account</td>
</tr>
<tr>
<td style="text-align: left"><code>company</code> <br> <em>object</em>, required (for companies)</td>
<td style="text-align: left">Information about the company</td>
</tr>
<tr>
<td style="text-align: left"><code>company.name</code> <br> <em>string</em>,  required</td>
<td style="text-align: left">The name of the company</td>
</tr>
<tr>
<td style="text-align: left"><code>company.trading_name</code> <br> <em>string</em>,  required</td>
<td style="text-align: left">The full trading name of the company</td>
</tr>
<tr>
<td style="text-align: left"><code>company.corporate_entity_type</code> <br> <em>string</em>,  optional</td>
<td style="text-align: left">The type of company, for instance, a non-profit</td>
</tr>
<tr>
<td style="text-align: left"><code>company.date_onboarded</code> <br> <em>string</em>, optional</td>
<td style="text-align: left">The date the you onboarded the company ad your customer <br> <em>YYYY-MM-DD</em></td>
</tr>
<tr>
<td style="text-align: left"><code>company.eu_vat</code> <br> <em>string</em>, optional</td>
<td style="text-align: left">The Value Added Tax number for a European company</td>
</tr>
<tr>
<td style="text-align: left"><code>company.vat</code> <br> <em>string</em>, optional</td>
<td style="text-align: left">The Value Added Tax number for a British company</td>
</tr>
<tr>
<td style="text-align: left"><code>company.incorporation_locality</code> <br> <em>string</em>, optional</td>
<td style="text-align: left">The country in which the company is incorporated <br>  <em>ISO 8601 format</em></td>
</tr>
<tr>
<td style="text-align: left"><code>company.industry</code> <br> <em>string</em>, optional</td>
<td style="text-align: left">The industry the company works within</td>
</tr>
<tr>
<td style="text-align: left"><code>company.legal_entry_number</code> <br> <em>string</em>, optional</td>
<td style="text-align: left">The legal entity number of the company <br> To be changed to <code>legal_entity_number</code></td>
</tr>
<tr>
<td style="text-align: left"><code>company.regulated_financial_service_firm</code> <br> <em>boolean</em>, optional</td>
<td style="text-align: left">Is the company regulated? <br> <em>Allowed Values:</em> true, false</td>
</tr>
<tr>
<td style="text-align: left"><code>company.web_site</code> <br> <em>string</em>, optional</td>
<td style="text-align: left">The website URL of the company</td>
</tr>
<tr>
<td style="text-align: left"><code>company.type</code> <br> <em>string</em>, optional</td>
<td style="text-align: left">The type of company</td>
</tr>
<tr>
<td style="text-align: left"><code>company.type_other</code> <br> <em>string</em>, optional</td>
<td style="text-align: left">We have a long list of valid company types. If you receive an error when generating a company due to the <code>type</code> being invalid, use this field instead.</td>
</tr>
<tr>
<td style="text-align: left"><code>company.tin</code> <br> <em>string</em>, optional</td>
<td style="text-align: left">The Tax Identification Number of the company</td>
</tr>
<tr>
<td style="text-align: left"><code>company.registration_number</code> <br> <em>string</em>, optional</td>
<td style="text-align: left">The registration number of the company</td>
</tr>
<tr>
<td style="text-align: left"><code>company.registration_address</code> <br> <em>array of objects</em>, required</td>
<td style="text-align: left">The registration address(es) of the company: we use an array incase there are multiple</td>
</tr>
<tr>
<td style="text-align: left"><code>company.registration_address.address_city</code> <br> <em>string</em>, required</td>
<td style="text-align: left">City that beneficiary is registered in</td>
</tr>
<tr>
<td style="text-align: left"><code>company.registration_address.address_iso_country</code><br> <em>string</em>, required</td>
<td style="text-align: left">Country code <br>  <em>ISO 8601 format</em></td>
</tr>
<tr>
<td style="text-align: left"><code>company.registration_address.address_number</code> <br> <em>string</em>, required</td>
<td style="text-align: left">House or building number on street</td>
</tr>
<tr>
<td style="text-align: left"><code>company.registration_address.address_postal_code</code> <br> <em>string</em>, required</td>
<td style="text-align: left">Postal or zip code</td>
</tr>
<tr>
<td style="text-align: left"><code>company.registration_address.address_refinement</code> <br> <em>string</em>, optional</td>
<td style="text-align: left">Extra detail, e.g. house name</td>
</tr>
<tr>
<td style="text-align: left"><code>company.registration_address.address_region</code> <br> <em>string</em>, required</td>
<td style="text-align: left">Region in country</td>
</tr>
<tr>
<td style="text-align: left"><code>company.registration_address.address_street</code> <br> <em>string</em>, required</td>
<td style="text-align: left">Street the beneficiary is registered on</td>
</tr>
<tr>
<td style="text-align: left"><code>company.registration_address_history</code> <br> <em>array of objects</em>, optional</td>
<td style="text-align: left">Previous registration address(es) of the company: we use an array incase there are multiple</td>
</tr>
<tr>
<td style="text-align: left"><code>company.registration_address_history.address_start_date</code> <br> <em>string</em>, optional</td>
<td style="text-align: left">Date the company began trading for the address. <br> <em>YYYY-MM-DD</em></td>
</tr>
<tr>
<td style="text-align: left"><code>company.registration_address_history.address_end_date</code> <br> <em>string</em>, optional</td>
<td style="text-align: left">Date the company stopped trading for the address. <br> <em>YYYY-MM-DD</em></td>
</tr>
<tr>
<td style="text-align: left"><code>company.registration_address_history.address_city</code> <br> <em>string</em>, optional</td>
<td style="text-align: left">City that beneficiary was registered in</td>
</tr>
<tr>
<td style="text-align: left"><code>company.registration_address_history.address_iso_country</code> <br> <em>string</em>, optional</td>
<td style="text-align: left">Country code <br>  <em>ISO 8601 format</em></td>
</tr>
<tr>
<td style="text-align: left"><code>company.registration_address_history.address_number</code> <br> <em>string</em>, optional</td>
<td style="text-align: left">House or building number on street</td>
</tr>
<tr>
<td style="text-align: left"><code>company.registration_address_history.address_postal_code</code> <br> <em>string</em>, optional</td>
<td style="text-align: left">Postal or zip code</td>
</tr>
<tr>
<td style="text-align: left"><code>company.registration_address_history.address_refinement</code> <br> <em>string</em>, optional</td>
<td style="text-align: left">Extra detail, e.g. house name</td>
</tr>
<tr>
<td style="text-align: left"><code>company.registration_address_history.address_region</code> <br> <em>string</em>, optional</td>
<td style="text-align: left">Region in country</td>
</tr>
<tr>
<td style="text-align: left"><code>company.registration_address_history.address_street</code> <br> <em>string</em>, optional</td>
<td style="text-align: left">Street the beneficiary was registered on</td>
</tr>
<tr>
<td style="text-align: left"><code>company.regulatory_licenses</code> <br> <em>array of objects</em>, optional</td>
<td style="text-align: left">The regulatory licenses the company holds</td>
</tr>
<tr>
<td style="text-align: left"><code>company.regulatory_licenses.regulatory_license_body</code> <br> <em>string</em>, optional</td>
<td style="text-align: left">The issuer of the regulatory license the company holds</td>
</tr>
<tr>
<td style="text-align: left"><code>company.regulatory_licenses.regulatory_license_reference_number</code> <br> <em>string</em>, optional</td>
<td style="text-align: left">The reference number of the regulatory license the company holds</td>
</tr>
<tr>
<td style="text-align: left"><code>company.regulatory_licenses.regulatory_license_type</code> <br> <em>string</em>, optional</td>
<td style="text-align: left">The type of regulatory license the company holds <br> <em>Allowed Values:</em> GB-EMI, GB-API, Other</td>
</tr>
<tr>
<td style="text-align: left"><code>company.listed_on_stock_exchange</code> <br> <em>boolean</em>, optional</td>
<td style="text-align: left">Is the company listed on an exchange?</td>
</tr>
<tr>
<td style="text-align: left"><code>company.stock_exchanges</code> <br> <em>array of objects</em>, optional</td>
<td style="text-align: left">The stock_exchange(s) the company is listed on</td>
</tr>
<tr>
<td style="text-align: left"><code>company.stock_exchanges.stock_exchange_name</code> <br> <em>string</em>, optional</td>
<td style="text-align: left">The name of the stock_exchange</td>
</tr>
<tr>
<td style="text-align: left"><code>company.stock_exchanges.stock_exchange_ticker</code> <br> <em>string</em>, optional</td>
<td style="text-align: left">The ticker of the company on the stock_exchange: an abbreviation used to uniquely identify publicly traded shares of a particular stock on a particular stock market</td>
</tr>
<tr>
<td style="text-align: left"><code>company.trading_address</code> <br> <em>array of objects</em>, required</td>
<td style="text-align: left">The trading address(es) of the company: we use an array incase there are multiple</td>
</tr>
<tr>
<td style="text-align: left"><code>company.trading_address.address_city</code> <br> <em>string</em>, required</td>
<td style="text-align: left">City that beneficiary trades in</td>
</tr>
<tr>
<td style="text-align: left"><code>company.trading_address.address_iso_country</code><br> <em>string</em>, required</td>
<td style="text-align: left">Country code <br>  <em>ISO 8601 format</em></td>
</tr>
<tr>
<td style="text-align: left"><code>company.trading_address.address_number</code> <br> <em>string</em>, required</td>
<td style="text-align: left">House or building number on street</td>
</tr>
<tr>
<td style="text-align: left"><code>company.trading_address.address_postal_code</code> <br> <em>string</em>, required</td>
<td style="text-align: left">Postal or zip code</td>
</tr>
<tr>
<td style="text-align: left"><code>company.trading_address.address_refinement</code> <br> <em>string</em>, optional</td>
<td style="text-align: left">Extra detail, e.g. house name</td>
</tr>
<tr>
<td style="text-align: left"><code>company.trading_address.address_region</code> <br> <em>string</em>, required</td>
<td style="text-align: left">Region in country</td>
</tr>
<tr>
<td style="text-align: left"><code>company.trading_address.address_street</code> <br> <em>string</em>, required</td>
<td style="text-align: left">Street the beneficiary trades on</td>
</tr>
<tr>
<td style="text-align: left"><code>company.trading_address_history</code> <br> <em>array of objects</em>, optional</td>
<td style="text-align: left">Previous registration address(es) of the company: we use an array incase there are multiple</td>
</tr>
<tr>
<td style="text-align: left"><code>company.trading_address_history.address_start_date</code> <br> <em>string</em>, optional</td>
<td style="text-align: left">Date the company began trading for the address. <br> <em>YYYY-MM-DD</em></td>
</tr>
<tr>
<td style="text-align: left"><code>company.trading_address_history.address_end_date</code> <br> <em>string</em>, optional</td>
<td style="text-align: left">Date the company stopped trading for the address. <br> <em>YYYY-MM-DD</em></td>
</tr>
<tr>
<td style="text-align: left"><code>company.trading_address_history.address_city</code> <br> <em>string</em>, optional</td>
<td style="text-align: left">City that enduser was trading in</td>
</tr>
<tr>
<td style="text-align: left"><code>company.trading_address_history.address_iso_country</code> <br> <em>string</em>, optional</td>
<td style="text-align: left">Country code <br>  <em>ISO 8601 format</em></td>
</tr>
<tr>
<td style="text-align: left"><code>company.trading_address_history.address_number</code> <br> <em>string</em>, optional</td>
<td style="text-align: left">House or building number on street</td>
</tr>
<tr>
<td style="text-align: left"><code>company.trading_address_history.address_postal_code</code> <br> <em>string</em>, optional</td>
<td style="text-align: left">Postal or zip code</td>
</tr>
<tr>
<td style="text-align: left"><code>company.trading_address_history.address_refinement</code> <br> <em>string</em>, optional</td>
<td style="text-align: left">Extra detail, e.g. house name</td>
</tr>
<tr>
<td style="text-align: left"><code>company.trading_address_history.address_region</code> <br> <em>string</em>, optional</td>
<td style="text-align: left">Region in country</td>
</tr>
<tr>
<td style="text-align: left"><code>company.trading_address_history.address_street</code> <br> <em>string</em>, optional</td>
<td style="text-align: left">Street the beneficiary was trading on</td>
</tr>
<tr>
<td style="text-align: left"><code>company.directors</code> <br> <em>array of objects</em>, required if director exists</td>
<td style="text-align: left">Information regarding the directors of the company</td>
</tr>
<tr>
<td style="text-align: left"><code>company.directors.company</code> <br> <em>object</em>, required if director is a company</td>
<td style="text-align: left">Information about a different company who is a director of the enduser (company) <br> The fields are the same as for a corporate enduser</td>
</tr>
<tr>
<td style="text-align: left"><code>company.directors.person</code> <br> <em>object</em>, required if director is a person</td>
<td style="text-align: left">Information about a person who is a director of the company <br> The fields are the same as for an individual enduser (detailed above)</td>
</tr>
<tr>
<td style="text-align: left"><code>company.directors.date_appointed</code> <br> <em>string</em>, required</td>
<td style="text-align: left">Date the director was appointed <br> <em>YYYY-MM-DD</em></td>
</tr>
<tr>
<td style="text-align: left"><code>company.directors.is_also_ubo</code> <br> <em>boolean</em>, required</td>
<td style="text-align: left">Is the director an Ultimate Beneficiary Owner <br> <em>Allowed Values:</em> true, false</td>
</tr>
<tr>
<td style="text-align: left"><code>company.directors.job_title</code> <br> <em>string</em>, optional</td>
<td style="text-align: left">The job title of the director</td>
</tr>
<tr>
<td style="text-align: left"><code>company.ultimate_beneficial_owners</code> <br> <em>array of objects</em>, optional</td>
<td style="text-align: left">Information regarding the UBOs of the company</td>
</tr>
<tr>
<td style="text-align: left"><code>company.ultimate_beneficial_owners.company</code> <br> <em>object</em>, optional</td>
<td style="text-align: left">Information about a different company who is a UBO of the enduser (company) <br> The fields are the same as for a corporate enduser</td>
</tr>
<tr>
<td style="text-align: left"><code>company.ultimate_beneficial_owners.person</code> <br> <em>object</em>, optional</td>
<td style="text-align: left">Information about a person who is a UBO of the company <br> The fields are the same as for an individual enduser (detailed above)</td>
</tr>
<tr>
<td style="text-align: left"><code>company.ultimate_beneficial_owners.percentage_holding</code> <br> <em>number</em>, optional</td>
<td style="text-align: left">The percentage of the company that the UBO owns</td>
</tr>
<tr>
<td style="text-align: left"><code>enduser_meta</code> <br> <em>object</em>, optional</td>
<td style="text-align: left">Any extra, custom fields that you want to include about the enduser</td>
</tr>
</tbody></table>
<h2 id='fetch-a-beneficiary'>Fetch a Beneficiary</h2>
<blockquote>
<p><strong>Example Request</strong></p>
</blockquote>
<pre class="highlight shell tab-shell"><code>  --request GET <span class="s2">"https://playlive.railsbank.com/v1/customer/beneficiaries/{{BENEFICIARY_ID}}"</span>
  --header <span class="s2">"Content-Type: application/json"</span>
  --header <span class="s2">"Accept: application/json"</span>
  --header <span class="s2">"Authorization: API-Key &lt;&lt;yourapikey&gt;&gt;"</span>
</code></pre>
<blockquote>
<p><strong>Example Response</strong></p>
</blockquote>
<pre class="highlight shell tab-shell"><code><span class="o">{</span>
    <span class="s2">"iban"</span>: <span class="s2">"GB69TRWI231470134598XX"</span>,
    <span class="s2">"last_modified_at"</span>: <span class="s2">"2019-06-03T14:24:04.347Z"</span>,
    <span class="s2">"beneficiary_status"</span>: <span class="s2">"beneficiary-status-ok"</span>,
    <span class="s2">"uk_sort_code"</span>: <span class="s2">"2314XX"</span>,
    <span class="s2">"company"</span>: <span class="o">{</span>
        <span class="s2">"name"</span>: <span class="s2">"Railsbank Technology Limited"</span>,
        <span class="s2">"registration_address"</span>: <span class="o">{</span>
            <span class="s2">"address_refinement"</span>: <span class="s2">"Transferwise"</span>,
            <span class="s2">"address_number"</span>: <span class="s2">"56"</span>,
            <span class="s2">"address_street"</span>: <span class="s2">"Shoreditch High Street"</span>,
            <span class="s2">"address_city"</span>: <span class="s2">"London"</span>,
            <span class="s2">"address_postal_code"</span>: <span class="s2">"E1 6JJ"</span>,
            <span class="s2">"address_iso_country"</span>: <span class="s2">"GB"</span>
        <span class="o">}</span>
    <span class="o">}</span>,
    <span class="s2">"screening_monitored_search"</span>: <span class="nb">false</span>,
    <span class="s2">"holder_id"</span>: <span class="s2">"5b9f7e0a-634b-441f-a755-e42c0b214c69"</span>,
    <span class="s2">"beneficiary_holder"</span>: <span class="o">{</span>
        <span class="s2">"customer_id"</span>: <span class="s2">"5b9f7e0a-634b-441f-a755-e42c0b214c69"</span>,
        <span class="s2">"company"</span>: <span class="o">{</span>
            <span class="s2">"name"</span>: <span class="s2">"Railsbank"</span>
        <span class="o">}</span>
    <span class="o">}</span>,
    <span class="s2">"bic_swift"</span>: <span class="s2">"TRWIGB22XXX"</span>,
    <span class="s2">"created_at"</span>: <span class="s2">"2019-06-03T14:24:04.347Z"</span>,
    <span class="s2">"beneficiary_id"</span>: <span class="s2">"5cf52d84-04ce-4de6-8f35-bc11295afd3b"</span>,
    <span class="s2">"asset_type"</span>: <span class="s2">"gbp"</span>,
    <span class="s2">"uk_account_number"</span>: <span class="s2">"134598XX"</span>,
    <span class="s2">"asset_class"</span>: <span class="s2">"currency"</span>,
    <span class="s2">"default_account"</span>: <span class="o">{</span>
        <span class="s2">"iban"</span>: <span class="s2">"GB69TRWI231470134598XX"</span>,
        <span class="s2">"last_modified_at"</span>: <span class="s2">"2019-06-03T14:24:04.347Z"</span>,
        <span class="s2">"account_number"</span>: <span class="s2">"134598XX"</span>,
        <span class="s2">"bank_code"</span>: <span class="s2">"2314XX"</span>,
        <span class="s2">"bic_swift"</span>: <span class="s2">"TRWIGB22XXX"</span>,
        <span class="s2">"created_at"</span>: <span class="s2">"2019-06-03T14:24:04.347Z"</span>,
        <span class="s2">"asset_type"</span>: <span class="s2">"gbp"</span>,
        <span class="s2">"asset_class"</span>: <span class="s2">"currency"</span>,
        <span class="s2">"account_id"</span>: <span class="s2">"5cf52d84-0faa-4104-bf6c-395896f3b04b"</span>,
        <span class="s2">"bank_code_type"</span>: <span class="s2">"sort-code"</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre>
<p><code>GET &quot;https://playlive.railsbank.com/v1/customer/beneficiaries/{{BENEFICIARY_ID}}&quot;</code></p>

<ul>
<li>Fetching a beneficiary is much like fetching anything else in the API.</li>
<li>We use a data-enhancing service to add extra detail to accounts: for instance, you will see that GBP accounts have an <code>iban</code> which we have determined using the data you provided when creating the beneficiary.</li>
<li>If extra data is required for the beneficiary to be created successfully, you will see it in the <code>missing_data</code> object.</li>
<li>We recommend using the <code>/wait</code> parameter to get the API to respond with the beneficiary in a REST state - to wait until the beneficiary is not in <code>status-pending</code> due to being processed by the API.</li>
</ul>
<h3 id='new-fields'>New Fields</h3>
<table><thead>
<tr>
<th style="text-align: left">Attribute</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code>beneficiary_holder</code> <br> <em>object</em></td>
<td style="text-align: left">Information about the holder of the beneficiary</td>
</tr>
<tr>
<td style="text-align: left"><code>beneficiary_id</code> <br> <em>string</em></td>
<td style="text-align: left">The UUID of the beneficiary</td>
</tr>
<tr>
<td style="text-align: left"><code>beneficiary_status</code> <br> <em>string</em></td>
<td style="text-align: left">The state of the beneficiary</td>
</tr>
<tr>
<td style="text-align: left"><code>created_at</code> <br> <em>string</em></td>
<td style="text-align: left">The timestamp of when the beneficiary was created</td>
</tr>
<tr>
<td style="text-align: left"><code>entity_type</code> <br> <em>string</em></td>
<td style="text-align: left">The type of beneficiary <br> <em>Allowed Values:</em> person, company</td>
</tr>
<tr>
<td style="text-align: left"><code>last_modified_at</code> <br> <em>string</em></td>
<td style="text-align: left">The timestamp of when the beneficiary was last modified</td>
</tr>
<tr>
<td style="text-align: left"><code>missing_data</code> <br> <em>array of strings</em></td>
<td style="text-align: left">Information regarding fields required for the beneficiary to be usable</td>
</tr>
</tbody></table>
<h3 id='beneficiary-statuses'>Beneficiary Statuses</h3>
<table><thead>
<tr>
<th style="text-align: left">Message</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code>beneficiary-status-missing-data</code></td>
<td style="text-align: left">Extra data is required for the beneficiary to be created, for instance, the <code>uk_sort_code</code> of the beneficiary account.</td>
</tr>
<tr>
<td style="text-align: left"><code>beneficiary-status-pending</code></td>
<td style="text-align: left">The beneficiary is being processed. To avoid fetching an beneficiary in this state, use our <code>/wait</code> parameter.</td>
</tr>
<tr>
<td style="text-align: left"><code>beneficiary-status-quarantine</code></td>
<td style="text-align: left">The beneficiary has broken a customer firewall rule and fallen into the customer quarantine queue. You will receive a <code>type: entity-fw-quarantine</code> webhook and a <code>type: beneficiary-firewall-finished</code> webhook.</td>
</tr>
<tr>
<td style="text-align: left"><code>beneficiary-status-ok</code></td>
<td style="text-align: left">The beneficiary is ready to receive transactions. You will receive a <code>type: entity-ready-to-use</code> webhook and a <code>type: beneficiary-firewall-finished</code> webhook if you have set and firewall rules up.</td>
</tr>
<tr>
<td style="text-align: left"><code>beneficiary-status-declined</code></td>
<td style="text-align: left">The beneficiary has been declined by our system. This is usually because the beneficiary has broken a partner firewall rule and been rejected by our compliance team, for instance, if they are from a country we don&#39;t deal with, like North Korea.</td>
</tr>
</tbody></table>
<h2 id='fetch-multiple-beneficiaries'>Fetch Multiple Beneficiaries</h2>
<blockquote>
<p><strong>Example Request</strong></p>
</blockquote>
<pre class="highlight shell tab-shell"><code>--request GET <span class="s2">"https://playlive.railsbank.com/v1/customer/beneficiaries?holder_id={{ENDUSER_ID}}"</span>
--header <span class="s2">"Content-Type: application/json"</span>
--header <span class="s2">"Accept: application/json"</span>
--header <span class="s2">"Authorization: API-Key &lt;&lt;yourapikey&gt;&gt;"</span>
</code></pre>
<p>. <strong>Example Response</strong></p>
<pre class="highlight shell tab-shell"><code><span class="o">[</span>
    <span class="o">{</span>
        <span class="s2">"iban"</span>: <span class="s2">"GB91SRLG04005205393196"</span>,
        <span class="s2">"last_modified_at"</span>: <span class="s2">"2018-10-01T12:39:31.713Z"</span>,
        <span class="s2">"beneficiary_status"</span>: <span class="s2">"beneficiary-status-ok"</span>,
        <span class="s2">"uk_sort_code"</span>: <span class="s2">"040052"</span>,
        <span class="s2">"screening_monitored_search"</span>: <span class="nb">false</span>,
        <span class="s2">"holder_id"</span>: <span class="s2">"5bb20baa-4f4d-4914-b16b-d4346bda8fea"</span>,
        <span class="s2">"beneficiary_holder"</span>: <span class="o">{</span>
            <span class="s2">"enduser_id"</span>: <span class="s2">"5bb20baa-4f4d-4914-b16b-d4346bda8fea"</span>,
            <span class="s2">"person"</span>: <span class="o">{</span>
                <span class="s2">"name"</span>: <span class="s2">"Sarah Jane Smith"</span>
            <span class="o">}</span>
        <span class="o">}</span>,
        <span class="s2">"person"</span>: <span class="o">{</span>
            <span class="s2">"country_of_residence"</span>: <span class="o">[</span>
                <span class="s2">"GB"</span>
            <span class="o">]</span>,
            <span class="s2">"address_history"</span>: <span class="o">[</span>
                <span class="o">{</span>
                    <span class="s2">"address_start_date"</span>: <span class="s2">"2000-09-02"</span>,
                    <span class="s2">"address_postal_code"</span>: <span class="s2">"12059"</span>,
                    <span class="s2">"address_iso_country"</span>: <span class="s2">"FR"</span>,
                    <span class="s2">"address_region"</span>: <span class="s2">"Lile"</span>,
                    <span class="s2">"address_refinement"</span>: <span class="s2">"Apartment 77"</span>,
                    <span class="s2">"address_street"</span>: <span class="s2">"Kirschbaumstraße"</span>,
                    <span class="s2">"address_end_date"</span>: <span class="s2">"2002-12-20"</span>,
                    <span class="s2">"address_city"</span>: <span class="s2">"Paris"</span>,
                    <span class="s2">"address_number"</span>: <span class="s2">"42"</span>
                <span class="o">}</span>
            <span class="o">]</span>,
            <span class="s2">"date_onboarded"</span>: <span class="s2">"2015-11-21"</span>,
            <span class="s2">"email"</span>: <span class="s2">"blackhole@railsbank.com"</span>,
            <span class="s2">"name"</span>: <span class="s2">"TEST-oct1-18"</span>,
            <span class="s2">"address"</span>: <span class="o">{</span>
                <span class="s2">"address_refinement"</span>: <span class="s2">"Apartment 8"</span>,
                <span class="s2">"address_number"</span>: <span class="s2">"6"</span>,
                <span class="s2">"address_street"</span>: <span class="s2">"Harold Road"</span>,
                <span class="s2">"address_city"</span>: <span class="s2">"London"</span>,
                <span class="s2">"address_postal_code"</span>: <span class="s2">"SE19 3PU"</span>,
                <span class="s2">"address_region"</span>: <span class="s2">"London"</span>,
                <span class="s2">"address_iso_country"</span>: <span class="s2">"FR"</span>
            <span class="o">}</span>,
            <span class="s2">"telephone"</span>: <span class="s2">"+44 22 626 2626"</span>,
            <span class="s2">"date_of_birth"</span>: <span class="s2">"1970-11-05"</span>,
            <span class="s2">"nationality"</span>: <span class="o">[</span>
                <span class="s2">"British"</span>
            <span class="o">]</span>
        <span class="o">}</span>,
        <span class="s2">"bic_swift"</span>: <span class="s2">"SRLGGB2LXXX"</span>,
        <span class="s2">"created_at"</span>: <span class="s2">"2018-10-01T12:39:31.713Z"</span>,
        <span class="s2">"beneficiary_meta"</span>: <span class="o">{</span>
            <span class="s2">"foo"</span>: <span class="s2">"baa"</span>,
            <span class="s2">"our_salesforce_reference"</span>: <span class="s2">"http://na1.salesforce.com/5003000000D8cuI"</span>
        <span class="o">}</span>,
        <span class="s2">"beneficiary_id"</span>: <span class="s2">"5bb21583-94a6-451b-af62-9f7187dc8723"</span>,
        <span class="s2">"asset_type"</span>: <span class="s2">"gbp"</span>,
        <span class="s2">"uk_account_number"</span>: <span class="s2">"05393196"</span>,
        <span class="s2">"asset_class"</span>: <span class="s2">"currency"</span>,
        <span class="s2">"default_account"</span>: <span class="o">{</span>
            <span class="s2">"iban"</span>: <span class="s2">"GB91SRLG04005205393196"</span>,
            <span class="s2">"last_modified_at"</span>: <span class="s2">"2018-10-01T12:39:31.713Z"</span>,
            <span class="s2">"account_number"</span>: <span class="s2">"05393196"</span>,
            <span class="s2">"bank_code"</span>: <span class="s2">"040052"</span>,
            <span class="s2">"bic_swift"</span>: <span class="s2">"SRLGGB2LXXX"</span>,
            <span class="s2">"created_at"</span>: <span class="s2">"2018-10-01T12:39:31.713Z"</span>,
            <span class="s2">"asset_type"</span>: <span class="s2">"gbp"</span>,
            <span class="s2">"asset_class"</span>: <span class="s2">"currency"</span>,
            <span class="s2">"account_id"</span>: <span class="s2">"5bb21583-b094-4ee9-8573-fdfa4e113a2b"</span>,
            <span class="s2">"bank_code_type"</span>: <span class="s2">"sort-code"</span>
        <span class="o">}</span>
    <span class="o">}</span>,
    <span class="o">{</span>
        <span class="s2">"iban"</span>: <span class="s2">"GB91SRLG04005205393196"</span>,
        <span class="s2">"last_modified_at"</span>: <span class="s2">"2018-10-01T12:44:18.354Z"</span>,
        <span class="s2">"beneficiary_status"</span>: <span class="s2">"beneficiary-status-ok"</span>,
        <span class="s2">"uk_sort_code"</span>: <span class="s2">"040052"</span>,
        <span class="s2">"screening_monitored_search"</span>: <span class="nb">false</span>,
        <span class="s2">"holder_id"</span>: <span class="s2">"5bb20baa-4f4d-4914-b16b-d4346bda8fea"</span>,
        <span class="s2">"beneficiary_holder"</span>: <span class="o">{</span>
            <span class="s2">"enduser_id"</span>: <span class="s2">"5bb20baa-4f4d-4914-b16b-d4346bda8fea"</span>,
            <span class="s2">"person"</span>: <span class="o">{</span>
                <span class="s2">"name"</span>: <span class="s2">"Sarah Jane Smith"</span>
            <span class="o">}</span>
        <span class="o">}</span>,
        <span class="s2">"person"</span>: <span class="o">{</span>
            <span class="s2">"country_of_residence"</span>: <span class="o">[</span>
                <span class="s2">"GB"</span>
            <span class="o">]</span>,
            <span class="s2">"address_history"</span>: <span class="o">[</span>
                <span class="o">{</span>
                    <span class="s2">"address_start_date"</span>: <span class="s2">"2000-09-02"</span>,
                    <span class="s2">"address_postal_code"</span>: <span class="s2">"12059"</span>,
                    <span class="s2">"address_iso_country"</span>: <span class="s2">"GB"</span>,
                    <span class="s2">"address_region"</span>: <span class="s2">"Lile"</span>,
                    <span class="s2">"address_refinement"</span>: <span class="s2">"Apartment 77"</span>,
                    <span class="s2">"address_street"</span>: <span class="s2">"Kirschbaumstraße"</span>,
                    <span class="s2">"address_end_date"</span>: <span class="s2">"2002-12-20"</span>,
                    <span class="s2">"address_city"</span>: <span class="s2">"Paris"</span>,
                    <span class="s2">"address_number"</span>: <span class="s2">"42"</span>
                <span class="o">}</span>
            <span class="o">]</span>,
            <span class="s2">"date_onboarded"</span>: <span class="s2">"2015-11-21"</span>,
            <span class="s2">"email"</span>: <span class="s2">"blackhole@railsbank.com"</span>,
            <span class="s2">"name"</span>: <span class="s2">"TEST-oct1-18"</span>,
            <span class="s2">"address"</span>: <span class="o">{</span>
                <span class="s2">"address_refinement"</span>: <span class="s2">"Apartment 8"</span>,
                <span class="s2">"address_number"</span>: <span class="s2">"6"</span>,
                <span class="s2">"address_street"</span>: <span class="s2">"Harold Road"</span>,
                <span class="s2">"address_city"</span>: <span class="s2">"London"</span>,
                <span class="s2">"address_postal_code"</span>: <span class="s2">"SE19 3PU"</span>,
                <span class="s2">"address_region"</span>: <span class="s2">"London"</span>,
                <span class="s2">"address_iso_country"</span>: <span class="s2">"GB"</span>
            <span class="o">}</span>,
            <span class="s2">"telephone"</span>: <span class="s2">"+44 22 626 2626"</span>,
            <span class="s2">"date_of_birth"</span>: <span class="s2">"1970-11-05"</span>,
            <span class="s2">"nationality"</span>: <span class="o">[</span>
                <span class="s2">"British"</span>
            <span class="o">]</span>
        <span class="o">}</span>,
        <span class="s2">"bic_swift"</span>: <span class="s2">"SRLGGB2LXXX"</span>,
        <span class="s2">"created_at"</span>: <span class="s2">"2018-10-01T12:44:18.354Z"</span>,
        <span class="s2">"beneficiary_meta"</span>: <span class="o">{</span>
            <span class="s2">"foo"</span>: <span class="s2">"baa"</span>,
            <span class="s2">"our_salesforce_reference"</span>: <span class="s2">"http://na1.salesforce.com/5003000000D8cuI"</span>
        <span class="o">}</span>,
        <span class="s2">"beneficiary_id"</span>: <span class="s2">"5bb216a2-6bd7-4c83-aef3-62b988089a3c"</span>,
        <span class="s2">"asset_type"</span>: <span class="s2">"gbp"</span>,
        <span class="s2">"uk_account_number"</span>: <span class="s2">"05393196"</span>,
        <span class="s2">"asset_class"</span>: <span class="s2">"currency"</span>,
        <span class="s2">"default_account"</span>: <span class="o">{</span>
            <span class="s2">"iban"</span>: <span class="s2">"GB91SRLG04005205393196"</span>,
            <span class="s2">"last_modified_at"</span>: <span class="s2">"2018-10-01T12:44:18.354Z"</span>,
            <span class="s2">"account_number"</span>: <span class="s2">"05393196"</span>,
            <span class="s2">"bank_code"</span>: <span class="s2">"040052"</span>,
            <span class="s2">"bic_swift"</span>: <span class="s2">"SRLGGB2LXXX"</span>,
            <span class="s2">"created_at"</span>: <span class="s2">"2018-10-01T12:44:18.354Z"</span>,
            <span class="s2">"asset_type"</span>: <span class="s2">"gbp"</span>,
            <span class="s2">"asset_class"</span>: <span class="s2">"currency"</span>,
            <span class="s2">"account_id"</span>: <span class="s2">"5bb216a2-935a-46e9-a246-5568ca883774"</span>,
            <span class="s2">"bank_code_type"</span>: <span class="s2">"sort-code"</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">]</span>
</code></pre>
<p><code>GET &quot;https://playlive.railsbank.com/v1/customer/beneficiaries&quot;</code></p>

<ul>
<li>You can fetch multiple beneficiaries.

<ul>
<li>You can filter the response from this endpoint by <code>holder_id</code>, allowing you to retrieve the beneficiaries held by you as the customer or by a particular enduser.</li>
<li>Use either the date-based parameters or the id-based parameters, not both.</li>
<li>When using parameters, don&#39;t place the strings within quotes.</li>
<li>To add a parameter simply use the <code>&amp;</code> symbol.</li>
</ul></li>
<li>The response will be an array of beneficiaries containing all the information about each beneficiary.</li>
</ul>
<h3 id='parameters'>Parameters</h3>
<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code>holder_id</code> <br> <em>string</em></td>
<td style="text-align: left">The holder of the beneficiary: an enduser or a customer</td>
</tr>
<tr>
<td style="text-align: left"><code>starting_at_date</code> <br> <em>string</em></td>
<td style="text-align: left">Any beneficiary created before this date will not be shown in the array <br> <em>YYYY-MM-DD</em></td>
</tr>
<tr>
<td style="text-align: left"><code>items_per_page</code> <br> <em>integer</em></td>
<td style="text-align: left">The number of items returned in each page. A hyperlink to the next page will be found in the response headers</td>
</tr>
<tr>
<td style="text-align: left"><code>created_at</code> <br> <em>string</em></td>
<td style="text-align: left">The date that the list of beneficiaries will begin at: any beneficiary created before this date will not be returned. <br> <em>YYYY-MM-DD</em></td>
</tr>
<tr>
<td style="text-align: left"><code>last_seen_id</code> <br> <em>string</em></td>
<td style="text-align: left">The beneficiaries returned will have all been created after the beneficiary whose UUID is the <code>last_seen_id</code></td>
</tr>
<tr>
<td style="text-align: left"><code>from_date</code> <br> <em>string</em></td>
<td style="text-align: left">The date that the list of beneficiaries will start from</td>
</tr>
<tr>
<td style="text-align: left"><code>end_date</code> <br> <em>string</em></td>
<td style="text-align: left">The date that the list of beneficiaries will end at</td>
</tr>
</tbody></table>
<h2 id='add-an-beneficiary-account'>Add an Beneficiary Account</h2>
<blockquote>
<p><strong>Example Request - EUR Bank Account</strong></p>
</blockquote>
<pre class="highlight shell tab-shell"><code>
--request POST <span class="s2">"https://playlive.railsbank.com/v1/customer/beneficiaries/{{BENEFICIARY_ID}}/accounts"</span>
--header <span class="s2">"Content-Type: application/json"</span>
--header <span class="s2">"Accept: application/json"</span>
--header <span class="s2">"Authorization: API-Key &lt;&lt;yourapikey&gt;&gt;"</span>

<span class="o">{</span>
  <span class="s2">"iban"</span>: <span class="s2">"GB44020056789012345678XX"</span>,
  <span class="s2">"account_number"</span>: <span class="s2">"45564658"</span>,
  <span class="s2">"bank_country"</span>: <span class="s2">"GB"</span>,
  <span class="s2">"bank_code"</span>: <span class="s2">"040004"</span>,
  <span class="s2">"bank_name"</span>: <span class="s2">"Monzo"</span>,
  <span class="s2">"bic_swift"</span>: <span class="s2">"SPSRSKBAXXX"</span>,
  <span class="s2">"asset_type"</span>: <span class="s2">"gbp"</span>,
  <span class="s2">"asset_class"</span>: <span class="s2">"currency"</span>,
  <span class="s2">"bank_code_type"</span>: <span class="s2">"sort-code"</span>
<span class="o">}</span>
</code></pre>
<blockquote>
<p><strong>Example Response</strong></p>
</blockquote>
<pre class="highlight shell tab-shell"><code><span class="o">{</span>
  <span class="s2">"account_id"</span>: <span class="s2">"bb8b2428-f94c-41df-8e82-a895ab4d6ac8"</span>
<span class="o">}</span>
</code></pre>
<p><code>POST &quot;https://playlive.railsbank.com/v1/customer/beneficiaries/{{BENEFICIARY_ID}}/accounts&quot;</code></p>

<ul>
<li>We understand that often, your beneficiaries will have multiple bank accounts, perhaps even in multiple currencies.
Use this endpoint to add an account to a beneficiary.</li>
<li>You don&#39;t need to specify that this will be the default account – if it will be – because there is a separate endpoint for that.

<ul>
<li>If you are unsure of the required account details for a <strong>convert-and-send</strong> transaction, refer to <a href="https://www.currencycloud.com/support/payment-guides/">this helpful guide</a> and note that we use the <strong>Priority Payment</strong> method.</li>
</ul></li>
</ul>
<h3 id='the-account-object'>The Account Object</h3>
<table><thead>
<tr>
<th style="text-align: left">Attribute</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code>account_number</code> <br> <em>string</em>, required</td>
<td style="text-align: left">The account number of the beneficiary account</td>
</tr>
<tr>
<td style="text-align: left"><code>asset_class</code> <br> <em>string</em>, required</td>
<td style="text-align: left">The class of the asset being held in the account, for a normal bank account use <code>currency</code> <br> <em>Allowed Values:</em> commodity, currency</td>
</tr>
<tr>
<td style="text-align: left"><code>asset_type</code> <br> <em>string</em>, required</td>
<td style="text-align: left">The type of asset being held in the account, for a normal account this means the currency <br> <em>Allowed Values:</em> gbp, eur, aud, chf, cad, sek, usd, nok, nzd, jpy</td>
</tr>
<tr>
<td style="text-align: left"><code>bank_code</code> <br> <em>string</em>, required if applicable</td>
<td style="text-align: left">The bank code of the beneficiary account. Allows us to identify the bank and branch</td>
</tr>
<tr>
<td style="text-align: left"><code>bank_code_type</code> <br> <em>string</em>, required if applicable</td>
<td style="text-align: left">The type of bank code of the beneficiary account. <br> <em>Allowed Values:</em> routing-number, aba, sort-code, zengin-code, bsb</td>
</tr>
<tr>
<td style="text-align: left"><code>bank_country</code> <br> <em>string</em>, required</td>
<td style="text-align: left">The country in which the beneficiary&#39;s bank account is held.</td>
</tr>
<tr>
<td style="text-align: left"><code>bank_name</code> <br> <em>string</em>, optional</td>
<td style="text-align: left">The name of the bank in which the beneficiary&#39;s bank account is held.</td>
</tr>
<tr>
<td style="text-align: left"><code>iban</code> <br> <em>string</em>, required for EUR and convert-and-send if applicable</td>
<td style="text-align: left">The IBAN of the beneficiary account</td>
</tr>
<tr>
<td style="text-align: left"><code>bic_swift</code> <br> <em>string</em>, required for EUR and convert-and-send if applicable</td>
<td style="text-align: left">The SWIFT Branch Identifier Code of the beneficiary account</td>
</tr>
</tbody></table>
<h2 id='fetch-beneficiary-accounts'>Fetch Beneficiary Accounts</h2>
<blockquote>
<p><strong>Example Request - Multiple Accounts</strong></p>
</blockquote>
<pre class="highlight shell tab-shell"><code>  --request GET <span class="s2">"https://playlive.railsbank.com/v1/customer/beneficiaries/{{BENEFICIARY_ID}}/accounts"</span>
  --header <span class="s2">"Content-Type: application/json"</span>
  --header <span class="s2">"Accept: application/json"</span>
  --header <span class="s2">"Authorization: API-Key &lt;&lt;yourapikey&gt;&gt;"</span>
</code></pre>
<blockquote>
<p><strong>Example Response</strong></p>
</blockquote>
<pre class="highlight shell tab-shell"><code><span class="o">[</span>
  <span class="o">{</span>
    <span class="s2">"account_id"</span>: <span class="s2">"8763b5df-a61c-4f77-9724-41ca9cde3654"</span>
  <span class="o">}</span>,
  <span class="o">{</span>
    <span class="s2">"account_id"</span>: <span class="s2">"bb8b2428-f94c-41df-8e82-a895ab4d6ac8"</span>
  <span class="o">}</span>,
  <span class="o">{</span>
    <span class="s2">"account_id"</span>: <span class="s2">"8763b5df-a61c-4f77-9724-41ca9cde3654"</span>
  <span class="o">}</span>,
  <span class="o">{</span>
    <span class="s2">"account_id"</span>: <span class="s2">"c91b339e-57d7-41ea-a805-8966ce8fe4ed"</span>
  <span class="o">}</span>
<span class="o">]</span>
</code></pre>
<blockquote>
<p><strong>Example Request - Individual Account</strong></p>
</blockquote>
<pre class="highlight shell tab-shell"><code>  --request GET <span class="s2">"https://playlive.railsbank.com/v1/customer/beneficiaries/{{BENEFICIARY_ID}}/accounts/{{ACCOUNT_ID}}"</span>
  --header <span class="s2">"Content-Type: application/json"</span>
  --header <span class="s2">"Accept: application/json"</span>
  --header <span class="s2">"Authorization: API-Key &lt;&lt;yourapikey&gt;&gt;"</span>
</code></pre>
<blockquote>
<p><strong>Example Response</strong></p>
</blockquote>
<pre class="highlight shell tab-shell"><code><span class="o">{</span>
  <span class="s2">"iban"</span>: <span class="s2">"GB44020056789012345678XX"</span>,
  <span class="s2">"last_modified_at"</span>: <span class="s2">"1970-01-01T00:00:00.000Z"</span>,
  <span class="s2">"account_number"</span>: <span class="s2">"455646XX"</span>,
  <span class="s2">"bank_country"</span>: <span class="s2">"GB"</span>,
  <span class="s2">"bank_name"</span>: <span class="s2">"Barclays"</span>,
  <span class="s2">"bic_swift"</span>: <span class="s2">"SPSRSKBAXXX"</span>,
  <span class="s2">"created_at"</span>: <span class="s2">"2000-01-01T00:00:00.000Z"</span>,
  <span class="s2">"beneficiary_id"</span>: <span class="s2">"bb8b2428-f94c-41df-8e82-a895ab4d6ac8"</span>,
  <span class="s2">"asset_type"</span>: <span class="s2">"eur"</span>,
  <span class="s2">"asset_class"</span>: <span class="s2">"currency"</span>,
  <span class="s2">"account_id"</span>: <span class="s2">"8763b5df-a61c-4f77-9724-41ca9cde3654"</span>
<span class="o">}</span>
</code></pre>
<p><code>GET &quot;https://playlive.railsbank.com/v1/customer/beneficiaries/{{BENEFICIARY_ID}}/accounts&quot;</code></p>

<p><code>GET &quot;https://playlive.railsbank.com/v1/customer/beneficiaries/{{BENEFICIARY_ID}}/accounts/{{ACCOUNT_ID}}&quot;</code></p>

<ul>
<li>With the Railsbank Api you can fetch all the accounts attached to a beneficiary or just a particular account.</li>
<li>To fetch an individual account you need the <code>account_id</code></li>
<li>When you fetch multiple accounts they will be returned as an array of accounts. To access their information, you will have to iterate over them and call each individually.</li>
</ul>
<h2 id='update-a-beneficiary'>Update a Beneficiary</h2>
<blockquote>
<p><strong>Example Request</strong></p>
</blockquote>
<pre class="highlight shell tab-shell"><code>--request PUT <span class="s2">"https://playlive.railsbank.com/v1/customer/beneficiaries/{{BENEFICIARY_ID}}"</span>
--header <span class="s2">"Content-Type: application/json"</span>
--header <span class="s2">"Accept: application/json"</span>
--header <span class="s2">"Authorization: API-Key &lt;&lt;yourapikey&gt;&gt;"</span>

<span class="o">{</span>
  <span class="s2">"person"</span>: <span class="o">{</span>
    <span class="s2">"name"</span>: <span class="s2">"James Smith"</span>
  <span class="o">}</span>
<span class="o">}</span>

</code></pre>
<blockquote>
<p><strong>Example Response</strong></p>
</blockquote>
<pre class="highlight shell tab-shell"><code><span class="o">{</span>
  <span class="s2">"beneficiary_id"</span>: <span class="s2">"bb8b2428-f94c-41df-8e82-a895ab4d6ac8"</span>
<span class="o">}</span>
</code></pre>
<p><code>PUT &quot;https://playlive.railsbank.com/v1/customer/beneficiaries/{{BENEFICIARY_ID}}&quot;</code></p>

<ul>
<li>This endpoint allows you to update a beneficiary.</li>
<li>You can update:

<ul>
<li>Any field in the <code>person</code> object if the beneficiary is a person, or the <code>company</code> object if they are a company.</li>
<li>The <code>default_account</code> details. This means updating the account details of the account which is the beneficiary account rather hat changing which particular beneficiary account is the default account.</li>
<li>The <code>beneficiary_meta</code> object.</li>
</ul></li>
<li>In the payload, you only need to supply the field you want to change. If that field is within an object, you must include the parent object too, as in the example.</li>
<li>You cannot change the type of beneficiary: individual beneficiaries cannot become corporate beneficiaries and vise-versa.</li>
</ul>
<h2 id='update-a-beneficiary-account'>Update a Beneficiary Account</h2>
<blockquote>
<p><strong>Example Request</strong></p>
</blockquote>
<pre class="highlight shell tab-shell"><code>--request PUT <span class="s2">"https://playlive.railsbank.com/v1/customer/beneficiaries/{{BENEFICIARY_ID}}/accounts/{{ACCOUNT_ID}}"</span>
--header <span class="s2">"Content-Type: application/json"</span>
--header <span class="s2">"Accept: application/json"</span>
--header <span class="s2">"Authorization: API-Key &lt;&lt;yourapikey&gt;&gt;"</span>
<span class="o">{</span>
  <span class="s2">"bank_code_type"</span>: <span class="s2">"sort-code"</span>,
  <span class="s2">"bank_country"</span>: <span class="s2">"GB"</span>,
  <span class="s2">"bank_code"</span>: <span class="s2">"040004"</span>,
  <span class="s2">"account_number"</span>: <span class="s2">"09878768"</span>,
  <span class="s2">"bank_name"</span>: <span class="s2">"HSBC"</span>
<span class="o">}</span>
</code></pre>
<blockquote>
<p><strong>Example Response</strong></p>
</blockquote>
<pre class="highlight shell tab-shell"><code><span class="o">{</span>
  <span class="s2">"beneficiary_id"</span>: <span class="s2">"bb8b2428-f94c-41df-8e82-a895ab4d6ac8"</span>
<span class="o">}</span>
</code></pre>
<p><code>PUT &quot;https://playlive.railsbank.com/v1/customer/beneficiaries/{{BENEFICIARY_ID}}/accounts/{{ACCOUNT_ID}}&quot;</code></p>

<ul>
<li>This endpoint allows you to update the account information of a particular beneficiary account, specified by the <code>account_id</code> in the endpoint url.</li>
<li>All the fields can be updated except for the <code>asset_type</code>: an account cannot change from holding currency to holding commodity.</li>
</ul>
<h3 id='the-account-object-2'>The Account Object</h3>
<table><thead>
<tr>
<th style="text-align: left">Attribute</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code>account_number</code> <br> <em>string</em>, required</td>
<td style="text-align: left">The account number of the beneficiary account</td>
</tr>
<tr>
<td style="text-align: left"><code>asset_class</code> <br> <em>string</em>, required</td>
<td style="text-align: left">The class of the asset being held in the account, for a normal bank account use <code>currency</code> <br> <em>Allowed Values:</em> commodity, currency</td>
</tr>
<tr>
<td style="text-align: left"><code>asset_type</code> <br> <em>string</em>, required</td>
<td style="text-align: left">The type of asset being held in the account, for a normal account this means the currency <br> <em>Allowed Values:</em> gbp, eur, aud, chf, cad, sek, usd, nok, nzd, jpy</td>
</tr>
<tr>
<td style="text-align: left"><code>bank_code</code> <br> <em>string</em>, required if applicable</td>
<td style="text-align: left">The bank code of the beneficiary account. Allows us to identify the bank and branch</td>
</tr>
<tr>
<td style="text-align: left"><code>bank_code_type</code> <br> <em>string</em>, required if applicable</td>
<td style="text-align: left">The type of bank code of the beneficiary account. <br> <em>Allowed Values:</em> routing-number, aba, sort-code, zengin-code, bsb</td>
</tr>
<tr>
<td style="text-align: left"><code>bank_country</code> <br> <em>string</em>, required</td>
<td style="text-align: left">The country in which the beneficiary&#39;s bank account is held.</td>
</tr>
<tr>
<td style="text-align: left"><code>bank_name</code> <br> <em>string</em>, optional</td>
<td style="text-align: left">The name of the bank in which the beneficiary&#39;s bank account is held.</td>
</tr>
<tr>
<td style="text-align: left"><code>iban</code> <br> <em>string</em>, required for EUR and convert-and-send if applicable</td>
<td style="text-align: left">The IBAN of the beneficiary account</td>
</tr>
<tr>
<td style="text-align: left"><code>bic_swift</code> <br> <em>string</em>, required for EUR and convert-and-send if applicable</td>
<td style="text-align: left">The SWIFT Branch Identifier Code of the beneficiary account</td>
</tr>
</tbody></table>
<h2 id='change-default-account'>Change Default Account</h2>
<blockquote>
<p><strong>Example Request</strong></p>
</blockquote>
<pre class="highlight shell tab-shell"><code>--request PUT <span class="s2">"https://playlive.railsbank.com/v1/customer/beneficiaries/{{BENEFICIARY_ID}}/accounts/{{ACCOUNT_ID}}/make-default"</span>
--header <span class="s2">"Content-Type: application/json"</span>
--header <span class="s2">"Accept: application/json"</span>
--header <span class="s2">"Authorization: API-Key &lt;&lt;yourapikey&gt;&gt;"</span>
</code></pre>
<blockquote>
<p><strong>Example Response</strong></p>
</blockquote>
<pre class="highlight shell tab-shell"><code><span class="o">{</span>
  <span class="s2">"beneficiary_id"</span>: <span class="s2">"bb8b2428-f94c-41df-8e82-a895ab4d6ac8"</span>
<span class="o">}</span>
</code></pre>
<p><code>PUT &quot;https://playlive.railsbank.com/v1/customer/beneficiaries/{{BENEFICIARY_ID}}/accounts/{{ACCOUNT_ID}}/make-default&quot;</code></p>

<ul>
<li>This simple endpoint allows you to change the account to which funds are transferred to when money is sent to the beneficiary.</li>
<li>There is no payload.</li>
</ul>
<h1 id='sending-money'>Sending Money</h1>
<blockquote>
<p><strong>Endpoints</strong></p>
</blockquote>
<pre class="highlight shell tab-shell"><code><span class="sb">`</span>POST /v1/customer/transactions<span class="sb">`</span>
<span class="sb">`</span>POST /v1/customer/transactions/inter-ledger<span class="sb">`</span>
<span class="sb">`</span>POST /v1/customer/transactions/<span class="o">{{</span>TRANSACTION_ID<span class="o">}}</span>/invoices<span class="sb">`</span>
<span class="sb">`</span>POST /v1/customer/transactions/bulk<span class="sb">`</span>
<span class="sb">`</span>POST /v1/customer/transactions/manual-debit<span class="sb">`</span>
<span class="sb">`</span>POST /v1/customer/transactions/manual-credit<span class="sb">`</span>
<span class="sb">`</span>GET /v1/customer/transactions<span class="sb">`</span>
<span class="sb">`</span>GET /v1/customer/transactions/<span class="o">{{</span>TRANSACTION_ID<span class="o">}}</span><span class="sb">`</span>
<span class="sb">`</span>PUT /v1/customer/transactions/<span class="o">{{</span>TRANSACTION_ID<span class="o">}}</span><span class="sb">`</span>

</code></pre>
<ul>
<li>It is incredibly simple to send money using the Railsbank API.</li>
<li>There are two ways that money can be sent (without being converted):

<ol>
<li>Between ledgers: an inter-ledger transaction.</li>
<li>To a beneficiary: a standard transaction.</li>
</ol></li>
<li>To send money, you will require:

<ul>
<li>An enduser or a customer holding a ledger with funds on it.</li>
<li>Another ledger or a beneficiary to send the money to.</li>
</ul></li>
</ul>
<h2 id='send-to-a-beneficiary'>Send to a Beneficiary</h2>
<blockquote>
<p><strong>Example Request - EUR</strong></p>
</blockquote>
<pre class="highlight shell tab-shell"><code>--request POST <span class="s2">"https://playlive.railsbank.com/v1/customer/transactions"</span>
--header <span class="s2">"Content-Type: application/json"</span>
--header <span class="s2">"Accept: application/json"</span>
--header <span class="s2">"Authorization: API-Key &lt;&lt;yourAPI-Key&gt;&gt;"</span>
<span class="o">{</span>
    <span class="s2">"payment_type"</span>: <span class="s2">"payment-type-EU-SEPA-Step2"</span>,
    <span class="s2">"reference"</span>: <span class="s2">"this is a test payment"</span>,
    <span class="s2">"amount"</span>: <span class="s2">"3"</span>,
    <span class="s2">"ledger_from_id"</span>: <span class="s2">"6630b391-c5ce-46c1-9d23-a82a9e27f82d"</span>,
    <span class="s2">"beneficiary_id"</span>: <span class="s2">"8763b5df-a61c-4f77-9724-41ca9cde3654"</span>
<span class="o">}</span>
</code></pre>
<blockquote>
<p><strong>Example Request - GBP</strong></p>
</blockquote>
<pre class="highlight shell tab-shell"><code>--request POST <span class="s2">"https://playlive.railsbank.com/v1/customer/transactions"</span>
--header <span class="s2">"Content-Type: application/json"</span>
--header <span class="s2">"Accept: application/json"</span>
--header <span class="s2">"Authorization: API-Key &lt;&lt;yourAPI-Key&gt;&gt;"</span>
<span class="o">{</span>
    <span class="s2">"payment_type"</span>: <span class="s2">"payment-type-UK-FasterPayments"</span>,
    <span class="s2">"reference"</span>: <span class="s2">"this is a test payment"</span>,
    <span class="s2">"amount"</span>: <span class="s2">"3"</span>,
    <span class="s2">"ledger_from_id"</span>: <span class="s2">"6630b391-c5ce-46c1-9d23-a82a9e27f82d"</span>,
    <span class="s2">"beneficiary_id"</span>: <span class="s2">"8763b5df-a61c-4f77-9724-41ca9cde3654"</span>
<span class="o">}</span>
</code></pre>
<blockquote>
<p><strong>Example Response</strong></p>
</blockquote>
<pre class="highlight shell tab-shell"><code><span class="o">{</span>
  <span class="s2">"transaction_id"</span>: <span class="s2">"8763b5df-a61c-4f77-9724-41ca9cde3654"</span>
<span class="o">}</span>
</code></pre>
<p><code>POST &quot;https://playlive.railsbank.com/v1/customer/transactions&quot;</code></p>

<ul>
<li>Once you have funded a ledger and you have a beneficiary, the first thing to do is send some money to them.</li>
<li>Currently, we support sending money in both GBP, via the UK Faster Payments Scheme, and EUR, via the Sepa Step2 Scheme.</li>
<li>When sending GBP:

<ul>
<li>The funds will be transferred immediately. They are usually processed by the receiving bank within minutes, but the scheme rules allow up to 3 hours fo rthis process to take place.</li>
<li>The reference field is <strong>mandatory</strong>. The reference can be 1-18 characters, including all upper and lowercase letters in the latin alphabet plus some special characters: (<code>[a-zA-Z0-9/?:().+#=!%&amp;*&lt;&gt;;{@]{1,18}</code>).</li>
</ul></li>
<li>When sending EUR:

<ul>
<li>If you send the money before <strong>10 AM GMT</strong>, it will have arrived by <strong>3 PM</strong>.</li>
<li>If you send the money after, the funds will be processed and received at midnight.</li>
<li>The reference field can be 35 characters.</li>
</ul></li>
<li><strong>Note:</strong>

<ul>
<li>When sending money in <strong>PlayLive</strong> you can only make transactions under £5.</li>
<li>When sending money to a beneficiary in <strong>Play</strong>, the money will not be received in the beneficiary account. This is because beneficiaries are envisioned to be entities holding accounts outside of Railsbank and it is impossible to send the virtual funds of Play to the outside world.</li>
</ul></li>
</ul>
<h3 id='the-standard-transaction-object'>The Standard Transaction Object</h3>
<table><thead>
<tr>
<th style="text-align: left">Attribute</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code>amount</code> <br> <em>number</em>, required</td>
<td style="text-align: left">The amount to be sent</td>
</tr>
<tr>
<td style="text-align: left"><code>beneiciary_account_id</code> <br>  <em>string</em>, optional</td>
<td style="text-align: left">The <code>account_id</code> of the beneficiary account to which you want the funds to be transferred. <br> <em>Use if you want to send funds to a non-default beneficiary account</em></td>
</tr>
<tr>
<td style="text-align: left"><code>beneiciary_id</code> <br> <em>string</em>, required (unless <code>beneiciary_account_id</code> is specified)</td>
<td style="text-align: left">The UUID of the beneficiary to which you want the funds to be sent. <br> <em>Funds will be sent to the beneficiary&#39;s default account</em></td>
</tr>
<tr>
<td style="text-align: left"><code>ledger_from_id</code> <br>  <em>string</em>, required</td>
<td style="text-align: left">The UUID of the ledger to be debited</td>
</tr>
<tr>
<td style="text-align: left"><code>payment_credit_date</code> <br> <em>string</em>, optional</td>
<td style="text-align: left">Allows you to specify the date that you want the payment to be credited on <br> <em>YYYY-MM-DD</em></td>
</tr>
<tr>
<td style="text-align: left"><code>payment_type</code> <br> <em>string</em> , required</td>
<td style="text-align: left">The type of payment i.e. the scheme by which the payment will be sent (see below)</td>
</tr>
<tr>
<td style="text-align: left"><code>reference</code> <br> <em>string</em> , required</td>
<td style="text-align: left">The payment reference</td>
</tr>
<tr>
<td style="text-align: left"><code>who_pays_charges</code> <br>  <em>string</em>, optional</td>
<td style="text-align: left">Information about the payer of any charges <br> <em>Allowed Values:</em> receiver-pays, sender-pays, shared</td>
</tr>
<tr>
<td style="text-align: left"><code>cut_off_time_implementation</code> <br> <em>string</em>, optional</td>
<td style="text-align: left">Extra detail about the need for the transaction to be processed <br> <em>Allowed Values:</em> strict, loose</td>
</tr>
<tr>
<td style="text-align: left"><code>transaction_meta</code> <br>  <em>object</em>, optional</td>
<td style="text-align: left">Extra information you want to input in the form of custom fields</td>
</tr>
</tbody></table>
<h3 id='payment-types'>Payment Types</h3>
<table><thead>
<tr>
<th style="text-align: left">Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code>payment-type-inter-ledger</code></td>
<td style="text-align: left">A payment between two ledgers</td>
</tr>
<tr>
<td style="text-align: left"><code>payment-type-UK-FasterPayments</code></td>
<td style="text-align: left">A GBP payment via UK Faster Payments</td>
</tr>
<tr>
<td style="text-align: left"><code>payment-type-EU-SEPA-Step2</code></td>
<td style="text-align: left">A EUR payment via SEPA Step2</td>
</tr>
<tr>
<td style="text-align: left"><code>payment-type-fx</code></td>
<td style="text-align: left">A convert-and-send payment via Currency Cloud</td>
</tr>
<tr>
<td style="text-align: left"><code>payment-type-Global-SWIFT</code></td>
<td style="text-align: left">A payment via SWIFT</td>
</tr>
<tr>
<td style="text-align: left"><code>payment-type-UK-BACS</code></td>
<td style="text-align: left">A GBP BACS Payment</td>
</tr>
<tr>
<td style="text-align: left"><code>payment-type-EU-SEPA-Target2</code></td>
<td style="text-align: left">A EUR payment via SEPA Target 2</td>
</tr>
<tr>
<td style="text-align: left"><code>payment-type-virtual-debit-card-debit</code></td>
<td style="text-align: left">A debit card payment</td>
</tr>
</tbody></table>
<h2 id='send-to-another-ledger'>Send to another Ledger</h2>
<blockquote>
<p><strong>Example Request</strong></p>
</blockquote>
<pre class="highlight shell tab-shell"><code>--request POST <span class="s2">"https://playlive.railsbank.com/v1/customer/transactions"</span>
--header <span class="s2">"Content-Type: application/json"</span>
--header <span class="s2">"Accept: application/json"</span>
--header <span class="s2">"Authorization: API-Key &lt;&lt;yourAPI-Key&gt;&gt;"</span>
<span class="o">{</span>
    <span class="s2">"amount"</span>: <span class="s2">"3"</span>,
    <span class="s2">"ledger_from_id"</span>: <span class="s2">"6630b391-c5ce-46c1-9d23-a82a9e27f82d"</span>,
    <span class="s2">"ledger_to_id"</span>: <span class="s2">"8763b5df-a61c-4f77-9724-41ca9cde3654"</span>,
    <span class="s2">"transaction_meta"</span>: <span class="o">{</span>
      <span class="s2">"my_transaction_id"</span>: <span class="s2">"08575937"</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre>
<blockquote>
<p><strong>Example Response</strong></p>
</blockquote>
<pre class="highlight shell tab-shell"><code><span class="o">{</span>
  <span class="s2">"transaction_id"</span>: <span class="s2">"8763b5df-a61c-4f77-9724-41ca9cde3654"</span>
<span class="o">}</span>
</code></pre>
<p><code>POST &quot;https://playlive.railsbank.com/v1/customer/transactions/inter-ledger&quot;</code></p>

<ul>
<li>Often you will want to send money between your ledgers. For instance, you might want to &#39;sweep&#39; fees to a particular fees ledger, or loan customers money from a loan ledger.</li>
<li>You cannot move money between ledgers with different assets: money can&#39;t move from a GBP ledger to a EUR ledger.</li>
<li>Inter-ledger transactions have to be between ledgers created using the same API-Key.</li>
<li>If they are in <strong>PlayLive</strong> they still need to be under £5.</li>
<li>To make an interledger transfer you need a ledger with funds on it, and a ledger to send the funds to.</li>
<li>The funds will be transferred instantaneously. If they don&#39;t arrive in the ledger and the transaction status is <code>accepted</code>, the funds are almost certainly in the Partner Quarantine queue.</li>
</ul>
<h3 id='the-inter-ledger-transaction-object'>The Inter-ledger Transaction Object</h3>
<table><thead>
<tr>
<th style="text-align: left">Attribute</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code>amount</code> <br> <em>number</em>, required</td>
<td style="text-align: left">The amount to be sent</td>
</tr>
<tr>
<td style="text-align: left"><code>ledger_from_id</code> <br> <em>string</em>, required</td>
<td style="text-align: left">The ledger from which funds will be sent</td>
</tr>
<tr>
<td style="text-align: left"><code>ledger_to_id</code> <br> <em>string</em>, required</td>
<td style="text-align: left">The ledger to which funds will be sent</td>
</tr>
<tr>
<td style="text-align: left"><code>transaction_meta</code> <br>  <em>object</em>, optional</td>
<td style="text-align: left">Extra information you want to input in the form of custom fields</td>
</tr>
</tbody></table>
<h2 id='send-multiple-transactions'>Send Multiple Transactions</h2>
<blockquote>
<p><strong>Example Request</strong></p>
</blockquote>
<pre class="highlight shell tab-shell"><code>--request POST <span class="s2">"https://playlive.railsbank.com/v1/customer/transactions/bulk"</span>
--header <span class="s2">"Content-Type: application/json"</span>
--header <span class="s2">"Accept: application/json"</span>
--header <span class="s2">"Authorization: API-Key &lt;&lt;yourAPI-Key&gt;&gt;"</span>
<span class="o">[</span>
  <span class="o">{</span>
    <span class="s2">"payment_credit_date"</span>: <span class="s2">"2000-11-05"</span>,
    <span class="s2">"payment_type"</span>: <span class="s2">"payment-type-EU-SEPA-Step2"</span>,
    <span class="s2">"ledger_id"</span>: <span class="s2">"753fa673-66b4-4c94-9ddb-f9f4b5c1e9a3"</span>,
    <span class="s2">"who_pays_charges"</span>: <span class="s2">"shared"</span>,
    <span class="s2">"reference"</span>: <span class="s2">"this is a test payment"</span>,
    <span class="s2">"amount"</span>: <span class="s2">"0"</span>,
    <span class="s2">"ledger_from_id"</span>: <span class="s2">"753fa673-66b4-4c94-9ddb-f9f4b5c1e9a3"</span>,
    <span class="s2">"beneficiary_id"</span>: <span class="s2">"6630b391-c5ce-46c1-9d23-a82a9e27f82d"</span>,
    <span class="s2">"transaction_meta"</span>: <span class="o">{</span>
      <span class="s2">"foo"</span>: <span class="s2">"bar"</span>
    <span class="o">}</span>,
    <span class="s2">"beneficiary_account_id"</span>: <span class="s2">"c91b339e-57d7-41ea-a805-8966ce8fe4ed"</span>,
    <span class="s2">"cut_off_time_implementation"</span>: <span class="s2">"loose"</span>
  <span class="o">}</span>,
  <span class="o">{</span>
    <span class="s2">"payment_credit_date"</span>: <span class="s2">"2000-11-05"</span>,
    <span class="s2">"payment_type"</span>: <span class="s2">"payment-type-EU-SEPA-Step2"</span>,
    <span class="s2">"ledger_id"</span>: <span class="s2">"8763b5df-a61c-4f77-9724-41ca9cde3654"</span>,
    <span class="s2">"who_pays_charges"</span>: <span class="s2">"shared"</span>,
    <span class="s2">"reference"</span>: <span class="s2">"this is a test payment"</span>,
    <span class="s2">"amount"</span>: <span class="s2">"0"</span>,
    <span class="s2">"ledger_from_id"</span>: <span class="s2">"c91b339e-57d7-41ea-a805-8966ce8fe4ed"</span>,
    <span class="s2">"beneficiary_id"</span>: <span class="s2">"8763b5df-a61c-4f77-9724-41ca9cde3654"</span>,
    <span class="s2">"transaction_meta"</span>: <span class="o">{</span>
      <span class="s2">"foo"</span>: <span class="s2">"bar"</span>
    <span class="o">}</span>,
    <span class="s2">"beneficiary_account_id"</span>: <span class="s2">"6630b391-c5ce-46c1-9d23-a82a9e27f82d"</span>,
    <span class="s2">"cut_off_time_implementation"</span>: <span class="s2">"loose"</span>
  <span class="o">}</span>,
  <span class="o">{</span>
    <span class="s2">"payment_credit_date"</span>: <span class="s2">"2000-11-05"</span>,
    <span class="s2">"payment_type"</span>: <span class="s2">"payment-type-EU-SEPA-Step2"</span>,
    <span class="s2">"ledger_id"</span>: <span class="s2">"753fa673-66b4-4c94-9ddb-f9f4b5c1e9a3"</span>,
    <span class="s2">"who_pays_charges"</span>: <span class="s2">"shared"</span>,
    <span class="s2">"reference"</span>: <span class="s2">"this is a test payment"</span>,
    <span class="s2">"amount"</span>: <span class="s2">"0"</span>,
    <span class="s2">"ledger_from_id"</span>: <span class="s2">"c91b339e-57d7-41ea-a805-8966ce8fe4ed"</span>,
    <span class="s2">"beneficiary_id"</span>: <span class="s2">"8763b5df-a61c-4f77-9724-41ca9cde3654"</span>,
    <span class="s2">"transaction_meta"</span>: <span class="o">{</span>
      <span class="s2">"foo"</span>: <span class="s2">"bar"</span>
    <span class="o">}</span>,
    <span class="s2">"beneficiary_account_id"</span>: <span class="s2">"c91b339e-57d7-41ea-a805-8966ce8fe4ed"</span>,
    <span class="s2">"cut_off_time_implementation"</span>: <span class="s2">"loose"</span>
  <span class="o">}</span>
<span class="o">]</span>
</code></pre>
<blockquote>
<p><strong>Example Response</strong></p>
</blockquote>
<pre class="highlight shell tab-shell"><code><span class="o">[</span>
  <span class="o">{</span>
    <span class="s2">"transaction_id"</span>: <span class="s2">"6630b391-c5ce-46c1-9d23-a82a9e27f82d"</span>
  <span class="o">}</span>,
  <span class="o">{</span>
    <span class="s2">"transaction_id"</span>: <span class="s2">"753fa673-66b4-4c94-9ddb-f9f4b5c1e9a3"</span>
  <span class="o">}</span>,
  <span class="o">{</span>
    <span class="s2">"transaction_id"</span>: <span class="s2">"8763b5df-a61c-4f77-9724-41ca9cde3654"</span>
  <span class="o">}</span>,
  <span class="o">{</span>
    <span class="s2">"transaction_id"</span>: <span class="s2">"753fa673-66b4-4c94-9ddb-f9f4b5c1e9a3"</span>
  <span class="o">}</span>
<span class="o">]</span>
</code></pre>
<p><code>POST &quot;https://playlive.railsbank.com/v1/customer/transactions/bulk&quot;</code></p>

<ul>
<li>This endpoint allows you to send multiple transactions to multiple beneficiaries with one request.</li>
<li>Each transaction in the array has the same object as a standard transaction.</li>
<li>You can send different types of payment in the same request. For instance, you can send both EUR and GBP payments.</li>
<li>The API will respond with an array of transaction ids in the order of the transactions POSTed.</li>
</ul>
<h2 id='fetch-a-transaction'>Fetch a Transaction</h2>
<blockquote>
<p><strong>Example Request</strong></p>
</blockquote>
<pre class="highlight shell tab-shell"><code>--request GET <span class="s2">"https://playlive.railsbank.com/v1/customer/transactions/{{TRANSACTION_ID}}"</span>
--header <span class="s2">"Content-Type: application/json"</span>
--header <span class="s2">"Accept: application/json"</span>
--header <span class="s2">"Authorization: API-Key &lt;&lt;yourAPI-Key&gt;&gt;"</span>
</code></pre>
<blockquote>
<p><strong>Example Response - GBP</strong></p>
</blockquote>
<pre class="highlight shell tab-shell"><code><span class="o">{</span>
        <span class="s2">"payment_type"</span>: <span class="s2">"payment-type-UK-FasterPayments"</span>,
        <span class="s2">"transaction_type"</span>: <span class="s2">"transaction-type-send"</span>,
        <span class="s2">"transaction_status"</span>: <span class="s2">"transaction-status-accepted"</span>,
        <span class="s2">"transaction_info"</span>: <span class="o">{}</span>,
        <span class="s2">"reference"</span>: <span class="s2">"xyz"</span>,
        <span class="s2">"amount"</span>: 8.08,
        <span class="s2">"ledger_from_id"</span>: <span class="s2">"5bed3df1-9fb6-4c23-8d61-814a0e61113c"</span>,
        <span class="s2">"transaction_id"</span>: <span class="s2">"5cff65c2-71aa-42c0-b620-0211c7a891c2"</span>,
        <span class="s2">"created_at"</span>: <span class="s2">"2019-06-11T08:26:42.607Z"</span>,
        <span class="s2">"partner_product"</span>: <span class="s2">"PayrNet-GBP-1"</span>,
        <span class="s2">"beneficiary_id"</span>: <span class="s2">"5cf52d84-04ce-4de6-8f35-bc11295afd3b"</span>,
        <span class="s2">"transaction_printout"</span>: <span class="o">{</span>
            <span class="s2">"ultimatesenderaddress"</span>: <span class="o">{</span>
                <span class="s2">"address_iso_country"</span>: <span class="s2">"GB"</span>
            <span class="o">}</span>,
            <span class="s2">"beneficiaryiban"</span>: <span class="s2">"sort-code - 2314XX/134598XX"</span>,
            <span class="s2">"pspofsendername"</span>: <span class="s2">"PayrNet"</span>,
            <span class="s2">"pspaccountlocation"</span>: <span class="s2">"PAYRGB2LXXX"</span>,
            <span class="s2">"pspofsenderphysicallocation"</span>: <span class="s2">"GB"</span>,
            <span class="s2">"pspaccounttandcscountryofjurisdiction"</span>: <span class="s2">"GB"</span>,
            <span class="s2">"ultimatesendername"</span>: <span class="s2">"Railsbank"</span>,
            <span class="s2">"pspofsenderaddress"</span>: <span class="o">{</span>
                <span class="s2">"address_refinement"</span>: <span class="s2">"Kemp House"</span>,
                <span class="s2">"address_number"</span>: <span class="s2">"152"</span>,
                <span class="s2">"address_street"</span>: <span class="s2">"City Road"</span>,
                <span class="s2">"address_city"</span>: <span class="s2">"London"</span>,
                <span class="s2">"address_postal_code"</span>: <span class="s2">"EC1V 2NX"</span>,
                <span class="s2">"address_iso_country"</span>: <span class="s2">"GB"</span>
            <span class="o">}</span>,
            <span class="s2">"paymentonbehalfoftype"</span>: <span class="s2">"POO"</span>,
            <span class="s2">"pspofultimatebenename"</span>: <span class="s2">"Starling"</span>,
            <span class="s2">"ultimatesenderaccountnumber"</span>: <span class="s2">"GB24PAYR04005213694938"</span>,
            <span class="s2">"beneficiaryname"</span>: <span class="s2">"Railsbank Technology Limited"</span>,
            <span class="s2">"paymentpartytype"</span>: <span class="s2">"third_party"</span>
        <span class="o">}</span>,
        <span class="s2">"asset_type"</span>: <span class="s2">"gbp"</span>,
        <span class="s2">"asset_class"</span>: <span class="s2">"currency"</span>,
        <span class="s2">"transaction_meta"</span>: <span class="o">{</span>
            <span class="s2">"info"</span>: <span class="s2">"2018-02-21T16:05:13.016Z | 0.19"</span>
        <span class="o">}</span>,
        <span class="s2">"invoices"</span>: <span class="o">[]</span>,
        <span class="s2">"beneficiary_account_id"</span>: <span class="s2">"5cf52d84-0faa-4104-bf6c-395896f3b04b"</span>
    <span class="o">}</span>,
    <span class="o">{</span>
        <span class="s2">"payment_type"</span>: <span class="s2">"payment-type-UK-FasterPayments"</span>,
        <span class="s2">"transaction_type"</span>: <span class="s2">"transaction-type-send"</span>,
        <span class="s2">"payment_info"</span>: <span class="o">{</span>
            <span class="s2">"domesticInstructionAccount"</span>: <span class="o">{</span>
                <span class="s2">"sortCode"</span>: <span class="s2">"2314XX"</span>,
                <span class="s2">"accountNumber"</span>: <span class="s2">"134598XX"</span>,
                <span class="s2">"accountName"</span>: <span class="s2">"Railsbank Technology Limited"</span>
            <span class="o">}</span>,
            <span class="s2">"reference"</span>: <span class="s2">"xyz"</span>,
            <span class="s2">"currencyAndAmount"</span>: <span class="o">{</span>
                <span class="s2">"currency"</span>: <span class="s2">"GBP"</span>,
                <span class="s2">"minorUnits"</span>: 79
            <span class="o">}</span>,
            <span class="s2">"type"</span>: <span class="s2">"SIP"</span>
        <span class="o">}</span>,
        <span class="s2">"transaction_status"</span>: <span class="s2">"transaction-status-accepted"</span>,
        <span class="s2">"transaction_info"</span>: <span class="o">{}</span>,
        <span class="s2">"reference"</span>: <span class="s2">"xyz"</span>,
        <span class="s2">"amount"</span>: 0.79,
        <span class="s2">"ledger_from_id"</span>: <span class="s2">"5bed4559-a448-43ba-a826-5900d6766457"</span>,
        <span class="s2">"transaction_id"</span>: <span class="s2">"5cff660e-037c-4371-a2ef-a0c42bf5c1d9"</span>,
        <span class="s2">"created_at"</span>: <span class="s2">"2019-06-11T08:27:58.143Z"</span>,
        <span class="s2">"partner_product"</span>: <span class="s2">"PayrNet-GBP-1"</span>,
        <span class="s2">"beneficiary_id"</span>: <span class="s2">"5cf52d84-04ce-4de6-8f35-bc11295afd3b"</span>,
        <span class="s2">"transaction_printout"</span>: <span class="o">{</span>
            <span class="s2">"ultimatesenderaddress"</span>: <span class="o">{</span>
                <span class="s2">"address_iso_country"</span>: <span class="s2">"GB"</span>
            <span class="o">}</span>,
            <span class="s2">"beneficiaryiban"</span>: <span class="s2">"sort-code - 231470/13459843"</span>,
            <span class="s2">"pspofsendername"</span>: <span class="s2">"PayrNet"</span>,
            <span class="s2">"pspaccountlocation"</span>: <span class="s2">"PAYRGB2LXXX"</span>,
            <span class="s2">"pspofsenderphysicallocation"</span>: <span class="s2">"GB"</span>,
            <span class="s2">"pspaccounttandcscountryofjurisdiction"</span>: <span class="s2">"GB"</span>,
            <span class="s2">"ultimatesendername"</span>: <span class="s2">"Railsbank"</span>,
            <span class="s2">"pspofsenderaddress"</span>: <span class="o">{</span>
                <span class="s2">"address_refinement"</span>: <span class="s2">"Kemp House"</span>,
                <span class="s2">"address_number"</span>: <span class="s2">"152"</span>,
                <span class="s2">"address_street"</span>: <span class="s2">"City Road"</span>,
                <span class="s2">"address_city"</span>: <span class="s2">"London"</span>,
                <span class="s2">"address_postal_code"</span>: <span class="s2">"EC1V 2NX"</span>,
                <span class="s2">"address_iso_country"</span>: <span class="s2">"GB"</span>
            <span class="o">}</span>,
            <span class="s2">"paymentonbehalfoftype"</span>: <span class="s2">"POO"</span>,
            <span class="s2">"pspofultimatebenename"</span>: <span class="s2">"Starling"</span>,
            <span class="s2">"ultimatesenderaccountnumber"</span>: <span class="s2">"GB62PAYR04005218848640"</span>,
            <span class="s2">"beneficiaryname"</span>: <span class="s2">"Railsbank Technology Limited"</span>,
            <span class="s2">"paymentpartytype"</span>: <span class="s2">"third_party"</span>
        <span class="o">}</span>,
        <span class="s2">"asset_type"</span>: <span class="s2">"gbp"</span>,
        <span class="s2">"asset_class"</span>: <span class="s2">"currency"</span>,
        <span class="s2">"transaction_meta"</span>: <span class="o">{</span>
            <span class="s2">"info"</span>: <span class="s2">"2018-02-21T16:05:13.016Z | 0.19"</span>
        <span class="o">}</span>,
        <span class="s2">"invoices"</span>: <span class="o">[]</span>,
        <span class="s2">"beneficiary_account_id"</span>: <span class="s2">"5cf52d84-0faa-4104-bf6c-395896f3b04b"</span>
    <span class="o">}</span>
</code></pre>
<blockquote>
<p><strong>Example Response - EUR</strong></p>
</blockquote>
<pre class="highlight shell tab-shell"><code><span class="o">{</span>
    <span class="s2">"payment_type"</span>: <span class="s2">"payment-type-EU-SEPA-Step2"</span>,
    <span class="s2">"transaction_type"</span>: <span class="s2">"transaction-type-send"</span>,
    <span class="s2">"payment_info"</span>: <span class="o">{</span>
        <span class="s2">"credit-transfer-transaction-information*"</span>: <span class="o">[</span>
            <span class="o">{</span>
                <span class="s2">"debtor-account"</span>: <span class="o">{</span>
                    <span class="s2">"identification"</span>: <span class="o">{</span>
                        <span class="s2">"iban"</span>: <span class="s2">"GB65PAYR00997700000339"</span>
                    <span class="o">}</span>
                <span class="o">}</span>,
                <span class="s2">"debtor-agent"</span>: <span class="o">{</span>
                    <span class="s2">"financial-institution-identification"</span>: <span class="o">{</span>
                        <span class="s2">"bic"</span>: <span class="s2">"PAYRGB21"</span>
                    <span class="o">}</span>
                <span class="o">}</span>,
                <span class="s2">"creditor-account"</span>: <span class="o">{</span>
                    <span class="s2">"identification"</span>: <span class="o">{</span>
                        <span class="s2">"iban"</span>: <span class="s2">"DE75700111106050110069"</span>
                    <span class="o">}</span>
                <span class="o">}</span>,
                <span class="s2">"creditor"</span>: <span class="o">{</span>
                    <span class="s2">"name"</span>: <span class="s2">"Railsbank Technology Limited"</span>,
                    <span class="s2">"postal-address"</span>: <span class="o">{</span>
                        <span class="s2">"country"</span>: <span class="s2">"DE"</span>
                    <span class="o">}</span>
                <span class="o">}</span>,
                <span class="s2">"payment-type-information"</span>: <span class="o">{</span>
                    <span class="s2">"service-level"</span>: <span class="o">{</span>
                        <span class="s2">"code"</span>: <span class="s2">"SEPA"</span>
                    <span class="o">}</span>
                <span class="o">}</span>,
                <span class="s2">"remittance-information"</span>: <span class="o">{</span>
                    <span class="s2">"unstructured*"</span>: <span class="o">[</span>
                        <span class="s2">"xyz"</span>
                    <span class="o">]</span>
                <span class="o">}</span>,
                <span class="s2">"creditor-agent"</span>: <span class="o">{</span>
                    <span class="s2">"financial-institution-identification"</span>: <span class="o">{</span>
                        <span class="s2">"bic"</span>: <span class="s2">"DEKTDE7GXXX"</span>
                    <span class="o">}</span>
                <span class="o">}</span>,
                <span class="s2">"interbank-settlement-amount"</span>: <span class="o">{</span>
                    <span class="s2">"value"</span>: 1.1,
                    <span class="s2">"currency"</span>: <span class="s2">"EUR"</span>
                <span class="o">}</span>,
                <span class="s2">"payment-identification"</span>: <span class="o">{</span>
                    <span class="s2">"end-to-end-identification"</span>: <span class="s2">"NOTPROVIDED"</span>,
                    <span class="s2">"transaction-identification"</span>: <span class="s2">"174682e83ae04fa5a8fb2b099cdcbe9b"</span>
                <span class="o">}</span>,
                <span class="s2">"charge-bearer"</span>: <span class="s2">"SLEV"</span>,
                <span class="s2">"debtor"</span>: <span class="o">{</span>
                    <span class="s2">"name"</span>: <span class="s2">"Railsbank"</span>,
                    <span class="s2">"postal-address"</span>: <span class="o">{</span>
                        <span class="s2">"country"</span>: <span class="s2">"GB"</span>
                    <span class="o">}</span>
                <span class="o">}</span>
            <span class="o">}</span>
        <span class="o">]</span>,
        <span class="s2">"group-header"</span>: <span class="o">{</span>
            <span class="s2">"message-identification"</span>: <span class="s2">"174682e83ae04fa5a8fb2b099cdcbe9b"</span>,
            <span class="s2">"creation-date-time"</span>: <span class="s2">"2019-06-11T08:40:38.163Z"</span>,
            <span class="s2">"settlement-information"</span>: <span class="o">{</span>
                <span class="s2">"settlement-method"</span>: <span class="s2">"CLRG"</span>
            <span class="o">}</span>,
            <span class="s2">"total-interbank-settlement-amount"</span>: <span class="o">{</span>
                <span class="s2">"value"</span>: 1.1,
                <span class="s2">"currency"</span>: <span class="s2">"EUR"</span>
            <span class="o">}</span>,
            <span class="s2">"interbank-settlement-date"</span>: <span class="s2">"2019-06-11"</span>,
            <span class="s2">"instructing-agent"</span>: <span class="o">{</span>
                <span class="s2">"financial-institution-identification"</span>: <span class="o">{</span>
                    <span class="s2">"bic"</span>: <span class="s2">"PAYRGB21"</span>
                <span class="o">}</span>
            <span class="o">}</span>,
            <span class="s2">"instructed-agent"</span>: <span class="o">{</span>
                <span class="s2">"financial-institution-identification"</span>: <span class="o">{</span>
                    <span class="s2">"bic"</span>: <span class="s2">"CMBRFR2B"</span>
                <span class="o">}</span>
            <span class="o">}</span>
        <span class="o">}</span>
    <span class="o">}</span>,
    <span class="s2">"transaction_status"</span>: <span class="s2">"transaction-status-accepted"</span>,
    <span class="s2">"transaction_info"</span>: <span class="o">{}</span>,
    <span class="s2">"reference"</span>: <span class="s2">"xyz"</span>,
    <span class="s2">"amount"</span>: 1.1,
    <span class="s2">"ledger_from_id"</span>: <span class="s2">"5c9e28c4-8db2-4a9e-b73d-45dabe2f41d3"</span>,
    <span class="s2">"transaction_id"</span>: <span class="s2">"5cff6659-bbc5-4923-adc5-3e0e7b6404b2"</span>,
    <span class="s2">"created_at"</span>: <span class="s2">"2019-06-11T08:29:13.060Z"</span>,
    <span class="s2">"partner_product"</span>: <span class="s2">"PayrNet-EUR-1"</span>,
    <span class="s2">"beneficiary_id"</span>: <span class="s2">"5cf52ed8-7879-4adc-a9a6-476f0aa5fdf8"</span>,
    <span class="s2">"transaction_printout"</span>: <span class="o">{</span>
        <span class="s2">"ultimatesenderaddress"</span>: <span class="o">{</span>
            <span class="s2">"address_iso_country"</span>: <span class="s2">"GB"</span>
        <span class="o">}</span>,
        <span class="s2">"beneficiaryiban"</span>: <span class="s2">"DE757001111060501100XX"</span>,
        <span class="s2">"pspofsendername"</span>: <span class="s2">"PayrNet"</span>,
        <span class="s2">"pspaccountlocation"</span>: <span class="s2">"PAYRGB21"</span>,
        <span class="s2">"pspofsenderphysicallocation"</span>: <span class="s2">"GB"</span>,
        <span class="s2">"pspaccounttandcscountryofjurisdiction"</span>: <span class="s2">"GB"</span>,
        <span class="s2">"ultimatesendername"</span>: <span class="s2">"Railsbank"</span>,
        <span class="s2">"pspofsenderaddress"</span>: <span class="o">{</span>
            <span class="s2">"address_refinement"</span>: <span class="s2">"Kemp House"</span>,
            <span class="s2">"address_number"</span>: <span class="s2">"152"</span>,
            <span class="s2">"address_street"</span>: <span class="s2">"City Road"</span>,
            <span class="s2">"address_city"</span>: <span class="s2">"London"</span>,
            <span class="s2">"address_postal_code"</span>: <span class="s2">"EC1V 2NX"</span>,
            <span class="s2">"address_iso_country"</span>: <span class="s2">"GB"</span>
        <span class="o">}</span>,
        <span class="s2">"paymentonbehalfoftype"</span>: <span class="s2">"POO"</span>,
        <span class="s2">"pspofultimatebenename"</span>: <span class="s2">"Arkea"</span>,
        <span class="s2">"ultimatesenderaccountnumber"</span>: <span class="s2">"GB65PAYR009977000003XX"</span>,
        <span class="s2">"beneficiaryname"</span>: <span class="s2">"Railsbank Technology Limited"</span>,
        <span class="s2">"paymentpartytype"</span>: <span class="s2">"third_party"</span>
    <span class="o">}</span>,
    <span class="s2">"asset_type"</span>: <span class="s2">"eur"</span>,
    <span class="s2">"asset_class"</span>: <span class="s2">"currency"</span>,
    <span class="s2">"transaction_meta"</span>: <span class="o">{</span>
        <span class="s2">"info"</span>: <span class="s2">"2018-02-21T16:05:13.016Z | 0.19"</span>
    <span class="o">}</span>,
    <span class="s2">"invoices"</span>: <span class="o">[]</span>,
    <span class="s2">"beneficiary_account_id"</span>: <span class="s2">"5cf52ed8-7e87-4cb4-aa88-702a0b1c19e4"</span>
<span class="o">}</span>
</code></pre>
<blockquote>
<p><strong>Example Response - INTER-LEDGER</strong></p>
</blockquote>
<pre class="highlight shell tab-shell"><code><span class="o">{</span>
        <span class="s2">"payment_type"</span>: <span class="s2">"payment-type-inter-ledger"</span>,
        <span class="s2">"transaction_type"</span>: <span class="s2">"transaction-type-inter-ledger-omnibus"</span>,
        <span class="s2">"transaction_status"</span>: <span class="s2">"transaction-status-accepted"</span>,
        <span class="s2">"ledger_to_id"</span>: <span class="s2">"5cf4f5c9-4307-4e51-92c6-098e55ccb8bf"</span>,
        <span class="s2">"transaction_info"</span>: <span class="o">{}</span>,
        <span class="s2">"amount"</span>: 0.1,
        <span class="s2">"ledger_from_id"</span>: <span class="s2">"5cf4f5b7-5943-4c87-b597-cd330110ecff"</span>,
        <span class="s2">"transaction_id"</span>: <span class="s2">"5cfe73b5-4148-4b04-af06-e6c6a5053c89"</span>,
        <span class="s2">"created_at"</span>: <span class="s2">"2019-06-10T15:13:57.782Z"</span>,
        <span class="s2">"partner_product"</span>: <span class="s2">"PayrNet-GBP-1"</span>,
        <span class="s2">"transaction_printout"</span>: <span class="o">{</span>
            <span class="s2">"ultimatesenderaddress"</span>: <span class="o">{</span>
                <span class="s2">"address_iso_country"</span>: <span class="s2">"GB"</span>
            <span class="o">}</span>,
            <span class="s2">"beneficiaryiban"</span>: <span class="s2">"GB47PAYR040052123397XX"</span>,
            <span class="s2">"pspofsendername"</span>: <span class="s2">"Railsbank"</span>,
            <span class="s2">"pspaccountlocation"</span>: <span class="s2">"PAYRGB2LXXX"</span>,
            <span class="s2">"pspofsenderphysicallocation"</span>: <span class="s2">"GB"</span>,
            <span class="s2">"pspaccounttandcscountryofjurisdiction"</span>: <span class="s2">"GB"</span>,
            <span class="s2">"ultimatesendername"</span>: <span class="s2">"Railsbank"</span>,
            <span class="s2">"pspofsenderaddress"</span>: <span class="o">{</span>
                <span class="s2">"address_iso_country"</span>: <span class="s2">"GB"</span>
            <span class="o">}</span>,
            <span class="s2">"pspofultimatebenephysicallocation"</span>: <span class="s2">"GB"</span>,
            <span class="s2">"pspofultimatebeneaddress"</span>: <span class="o">{</span>
                <span class="s2">"address_iso_country"</span>: <span class="s2">"GB"</span>
            <span class="o">}</span>,
            <span class="s2">"paymentonbehalfoftype"</span>: <span class="s2">"POO"</span>,
            <span class="s2">"pspofultimatebenename"</span>: <span class="s2">"Railsbank"</span>,
            <span class="s2">"ultimatesenderaccountnumber"</span>: <span class="s2">"GB69PAYR040052071860XX"</span>,
            <span class="s2">"beneficiaryname"</span>: <span class="s2">"Railsbank"</span>,
            <span class="s2">"paymentpartytype"</span>: <span class="s2">"interledger"</span>
        <span class="o">}</span>,
        <span class="s2">"asset_type"</span>: <span class="s2">"gbp"</span>,
        <span class="s2">"asset_class"</span>: <span class="s2">"currency"</span>,
        <span class="s2">"invoices"</span>: <span class="o">[]</span>
    <span class="o">}</span>
</code></pre>
<p><code>GET &quot;https://playlive.railsbank.com/v1/customer/transactions/{{TRANSACTION_ID}}&quot;</code></p>

<ul>
<li>This endpoint allows you to fetch a transaction.</li>
<li>Please note:

<ul>
<li>When you see <code>transaction-status-accepted</code>, this does not necessarily mean that the funds will be transferred to the beneficiary or the ledger. The reason for this is that the transaction could have fallen into our Partner Quarantine Queue if it has broken a firewall rule. We are not allowed to notify customers when this happens due to regulation, and it is possible that the transaction can change from <code>status-accepted</code> to <code>status-declined</code> if our Compliance Team rejects the transaction. If this occurs you will receive a webhook notification of <code>type: transaction-declined</code>.</li>
<li>Not all of the fields below will be returned in every fetch transaction call! They are all the possible fields (not including fields that could be sent to us via the payment scheme. Many are dependent on the type of transaction. See the examples to the right for responses for different types of transaction. For an example of our card transactions, see the cards endpoints.</li>
</ul></li>
</ul>
<h3 id='the-fetched-transaction-object'>The Fetched Transaction Object</h3>
<table><thead>
<tr>
<th style="text-align: left">Attribute</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code>amount</code> <br> <em>number</em></td>
<td style="text-align: left">The transaction amount</td>
</tr>
<tr>
<td style="text-align: left"><code>amount_beneficiary_account</code> <br> <em>number</em></td>
<td style="text-align: left">The amount credited in the receiver&#39;s account in the target currency (for convert-and-send money transactions).</td>
</tr>
<tr>
<td style="text-align: left"><code>amount_ledger_from</code> <br> <em>number</em></td>
<td style="text-align: left">The amount debited from the sender&#39;s ledger in the original currency (for convert-and-send money transactions).</td>
</tr>
<tr>
<td style="text-align: left"><code>amount_local_currency</code> <br> <em>number</em></td>
<td style="text-align: left">The amount of the local currency transferred (for convert-and-send money transactions).</td>
</tr>
<tr>
<td style="text-align: left"><code>additional_info</code> <br> <em>string</em></td>
<td style="text-align: left">Any additional information about the transaction.</td>
</tr>
<tr>
<td style="text-align: left"><code>asset_class</code> <br> <em>string</em></td>
<td style="text-align: left">The class of the asset being sent or received. <br> <em>Allowed Values:</em> commodity, currency</td>
</tr>
<tr>
<td style="text-align: left"><code>asset_type</code> <br> <em>string</em></td>
<td style="text-align: left">The type of asset being sent or received. <br> <em>Allowed Values:</em> gbp, eur, aud, chf, cad, sek, usd, nok, nzd, jpy</td>
</tr>
<tr>
<td style="text-align: left"><code>beneficiary_account_id</code> <br> <em>string</em></td>
<td style="text-align: left">The Railsbank Beneficiary account ID to be credited.</td>
</tr>
<tr>
<td style="text-align: left"><code>beneficiary_id</code> <br> <em>string</em></td>
<td style="text-align: left">The receiving Railsbank Beneficiary ID.</td>
</tr>
<tr>
<td style="text-align: left"><code>card_currency</code> <br> <em>string</em></td>
<td style="text-align: left">The currency on the debit card, if it is a card transaction.</td>
</tr>
<tr>
<td style="text-align: left"><code>card_entry_method</code> <br> <em>string</em></td>
<td style="text-align: left">The way the card was used, for instance ATM, ecommerce etc.</td>
</tr>
<tr>
<td style="text-align: left"><code>card_expiry_date</code> <br> <em>string</em></td>
<td style="text-align: left">The card expiry date, if it is a card transaction.</td>
</tr>
<tr>
<td style="text-align: left"><code>card_rules_breached</code> <br> <em>array of strings</em></td>
<td style="text-align: left">The card rules breached, if any, if it is a card transaction.</td>
</tr>
<tr>
<td style="text-align: left"><code>card_transaction_type</code> <br> <em>string</em></td>
<td style="text-align: left">The type of card transaction.</td>
</tr>
<tr>
<td style="text-align: left"><code>card_used</code> <br> <em>string</em></td>
<td style="text-align: left">The token number of the card used.</td>
</tr>
<tr>
<td style="text-align: left"><code>conversion_date</code> <br> <em>string</em></td>
<td style="text-align: left">The date that the convert-and-send funds were converted</td>
</tr>
<tr>
<td style="text-align: left"><code>conversion_rate</code> <br> <em>number</em></td>
<td style="text-align: left">The rate at which the convert-and-send funds were converted.</td>
</tr>
<tr>
<td style="text-align: left"><code>created_at</code> <br> <em>string</em></td>
<td style="text-align: left">The date the transaction was created</td>
</tr>
<tr>
<td style="text-align: left"><code>daily_unique_refence</code> <br> <em>string</em></td>
<td style="text-align: left">A unique daily reference attached to the transaction.</td>
</tr>
<tr>
<td style="text-align: left"><code>failure_reasons</code> <br> <em>array of strings</em></td>
<td style="text-align: left">The failure reasons, if any. <br> <em>Allowed Values:</em> declined-by-compliance-firewall, card-not-active, insufficient-funds, partner-error, card-rules-breached, contact-support, fx-issue.</td>
</tr>
<tr>
<td style="text-align: left"><code>fixed_side</code> <br> <em>string</em></td>
<td style="text-align: left">Sets the base currency for pair rate direction, which determines how much the base currency is worth as measured against the second currency. It assures if the amount specified will either be debited from the sending ledger or credited in the receiving account. <br> <em>Allowed Values:</em> beneficiary, sender.</td>
</tr>
<tr>
<td style="text-align: left"><code>invoices</code> <br> <em>array of objects</em></td>
<td style="text-align: left">Attached invoice documents.</td>
</tr>
<tr>
<td style="text-align: left"><code>invoices.created_at</code> <br> <em>string</em></td>
<td style="text-align: left">The date the invoice was created.</td>
</tr>
<tr>
<td style="text-align: left"><code>invoices.description</code> <br> <em>string</em></td>
<td style="text-align: left">A description of the invoice.</td>
</tr>
<tr>
<td style="text-align: left"><code>invoices.document_id</code> <br> <em>string</em></td>
<td style="text-align: left">The id of the invoice document.</td>
</tr>
<tr>
<td style="text-align: left"><code>ledger_from_id</code> <br> <em>string</em></td>
<td style="text-align: left">The Railsbank Ledger ID to be debited.</td>
</tr>
<tr>
<td style="text-align: left"><code>ledger_to_id</code> <br> <em>string</em></td>
<td style="text-align: left">The Railsbank ledger ID to be credited.</td>
</tr>
<tr>
<td style="text-align: left"><code>mcc_description</code> <br> <em>string</em></td>
<td style="text-align: left">The merchant category code description (for card transactions).</td>
</tr>
<tr>
<td style="text-align: left"><code>merchant_category_code</code> <br> <em>string</em></td>
<td style="text-align: left">The merchant category code (for card transactions).</td>
</tr>
<tr>
<td style="text-align: left"><code>merchant_details</code> <br> <em>string</em></td>
<td style="text-align: left">Extra details about the merchant (for card transactions).</td>
</tr>
<tr>
<td style="text-align: left"><code>merchant_id</code> <br> <em>string</em></td>
<td style="text-align: left">The merchant&#39;s UUID (for card transactions).</td>
</tr>
<tr>
<td style="text-align: left"><code>merchantbank_id</code> <br> <em>string</em></td>
<td style="text-align: left">The merchant&#39;s bank UUID.</td>
</tr>
<tr>
<td style="text-align: left"><code>missing_data</code> <br> <em>array of strings</em></td>
<td style="text-align: left">Any data required for the transaction to be accepted .</td>
</tr>
<tr>
<td style="text-align: left"><code>partner_product</code> <br> <em>string</em></td>
<td style="text-align: left">The partner product of the sending or receiving ledger.</td>
</tr>
<tr>
<td style="text-align: left"><code>partner_product_fx</code> <br> <em>string</em></td>
<td style="text-align: left">The convert-and-send partner product, if it is an FX transaction. <br> <em>Allowed Values:</em> PayrNet-FX-1</td>
</tr>
<tr>
<td style="text-align: left"><code>payment_info</code> <br> <em>object</em></td>
<td style="text-align: left">Transaction information that will be populated by the payment scheme. See example.</td>
</tr>
<tr>
<td style="text-align: left"><code>payment_method</code> <br> <em>string</em></td>
<td style="text-align: left">Shows whether the transaction was be sent/received via local (e.g. UKFP) or international (e.g. Swift) payment schemes.</td>
</tr>
<tr>
<td style="text-align: left"><code>payment_type</code> <br> <em>string</em></td>
<td style="text-align: left">The type of payment: the scheme via which it was transferred .</td>
</tr>
<tr>
<td style="text-align: left"><code>point_of_sale_country_code</code> <br> <em>string</em></td>
<td style="text-align: left">The country code of the country in which the transaction occurred.</td>
</tr>
<tr>
<td style="text-align: left"><code>point_of_sale_info</code> <br> <em>string</em></td>
<td style="text-align: left">Extra information regarding the point of sale.</td>
</tr>
<tr>
<td style="text-align: left"><code>point_of_sale_reference</code> <br> <em>string</em></td>
<td style="text-align: left">The reference from the point of sale.</td>
</tr>
<tr>
<td style="text-align: left"><code>reason</code> <br> <em>string</em></td>
<td style="text-align: left">Text the enduser can add to the transaction for the beneficiary.</td>
</tr>
<tr>
<td style="text-align: left"><code>receipt_id</code> <br> <em>string</em></td>
<td style="text-align: left">The UUID of the transaction receipt, if any.</td>
</tr>
<tr>
<td style="text-align: left"><code>reference</code> <br> <em>string</em></td>
<td style="text-align: left">The transaction reference.</td>
</tr>
<tr>
<td style="text-align: left"><code>rejection_reasons</code> <br> <em>array of strings</em></td>
<td style="text-align: left">The reason the transaction was rejected, if it was. See below for possible reasons.</td>
</tr>
<tr>
<td style="text-align: left"><code>return_info</code> <br> <em>object</em></td>
<td style="text-align: left">Information populated by the scheme if the transaction is a return</td>
</tr>
<tr>
<td style="text-align: left"><code>settlement_date</code> <br> <em>string</em></td>
<td style="text-align: left">The date the transaction was/will be settled.</td>
</tr>
<tr>
<td style="text-align: left"><code>swift_charge_bearer</code> <br> <em>string</em></td>
<td style="text-align: left">The charge bearer if the transaction is a SWIFT transfer</td>
</tr>
<tr>
<td style="text-align: left"><code>swift_service_level</code> <br> <em>string</em></td>
<td style="text-align: left">The service level of the SWIFT transaction.</td>
</tr>
<tr>
<td style="text-align: left"><code>transaction_audit_number</code> <br> <em>string</em></td>
<td style="text-align: left">The audit number, if any, of the transaction</td>
</tr>
<tr>
<td style="text-align: left"><code>transaction_currency</code> <br> <em>string</em></td>
<td style="text-align: left">The currency of the transaction.</td>
</tr>
<tr>
<td style="text-align: left"><code>transaction_fee</code> <br> <em>number</em></td>
<td style="text-align: left">The fee attached to the transaction, if any.</td>
</tr>
<tr>
<td style="text-align: left"><code>transaction_id</code> <br> <em>string</em></td>
<td style="text-align: left">The Railsbank UUID of the transaction.</td>
</tr>
<tr>
<td style="text-align: left"><code>transaction_info</code> <br> <em>object</em></td>
<td style="text-align: left">Extra detail about the transaction.</td>
</tr>
<tr>
<td style="text-align: left"><code>transaction_info.amount</code> <br> <em>number</em></td>
<td style="text-align: left">The amount transferred.</td>
</tr>
<tr>
<td style="text-align: left"><code>transaction_info.charge_bearer</code> <br> <em>string</em></td>
<td style="text-align: left">The bearer, if any, of any charges</td>
</tr>
<tr>
<td style="text-align: left"><code>transaction_info.clearing_system</code> <br> <em>string</em></td>
<td style="text-align: left">The type of clearing system, if any, of the transaction.</td>
</tr>
<tr>
<td style="text-align: left"><code>transaction_info.clearing_system_proprietary</code> <br> <em>string</em></td>
<td style="text-align: left">The owner of the clearing system, if any.</td>
</tr>
<tr>
<td style="text-align: left"><code>transaction_info.created_at</code> <br> <em>string</em></td>
<td style="text-align: left">The timestamp of when the transaction was created.</td>
</tr>
<tr>
<td style="text-align: left"><code>transaction_info.currency</code> <br> <em>string</em></td>
<td style="text-align: left">The currency of the transaction.</td>
</tr>
<tr>
<td style="text-align: left"><code>transaction_info.end_to_end_id</code> <br> <em>string</em></td>
<td style="text-align: left">The end to end UUID of the transaction.</td>
</tr>
<tr>
<td style="text-align: left"><code>transaction_info.instructed_agent</code> <br> <em>object</em></td>
<td style="text-align: left">The instructed agent of the transaction.</td>
</tr>
<tr>
<td style="text-align: left"><code>transaction_info.instructed_agent.bic</code> <br> <em>string</em></td>
<td style="text-align: left">The Branch Identifier Code of the instructed agent.</td>
</tr>
<tr>
<td style="text-align: left"><code>transaction_info.instructing_agent</code> <br> <em>object</em></td>
<td style="text-align: left">The instructing agent of the transaction.</td>
</tr>
<tr>
<td style="text-align: left"><code>transaction_info.instructing_agent.bic</code> <br> <em>string</em></td>
<td style="text-align: left">The Branch Identifier Code of the instructing agent.</td>
</tr>
<tr>
<td style="text-align: left"><code>transaction_info.instruction_id</code> <br> <em>string</em></td>
<td style="text-align: left">The UUID of the transaction instruction.</td>
</tr>
<tr>
<td style="text-align: left"><code>transaction_info.local_instrument</code> <br> <em>string</em></td>
<td style="text-align: left">The instrument used to perform the transaction. For instance, a debit card.</td>
</tr>
<tr>
<td style="text-align: left"><code>transaction_info.local_instrument_proprietary</code> <br> <em>string</em></td>
<td style="text-align: left">The owner of the instrument.</td>
</tr>
<tr>
<td style="text-align: left"><code>transaction_info.message_id</code> <br> <em>string</em></td>
<td style="text-align: left">The UUID of the message.</td>
</tr>
<tr>
<td style="text-align: left"><code>transaction_info.message_schema</code> <br> <em>string</em></td>
<td style="text-align: left">The schema of the message.</td>
</tr>
<tr>
<td style="text-align: left"><code>transaction_info.purpose</code> <br> <em>string</em></td>
<td style="text-align: left">The purpose of the transaction.</td>
</tr>
<tr>
<td style="text-align: left"><code>transaction_info.purpose_category</code> <br> <em>string</em></td>
<td style="text-align: left">The category of the purpose</td>
</tr>
<tr>
<td style="text-align: left"><code>transaction_info.purpose_category_proprietary</code> <br> <em>string</em></td>
<td style="text-align: left">The owner of the category.</td>
</tr>
<tr>
<td style="text-align: left"><code>transaction_info.receiver</code> <br> <em>object</em></td>
<td style="text-align: left">Information regarding the receiver of the transaction.</td>
</tr>
<tr>
<td style="text-align: left"><code>transaction_info.receiver.address</code> <br> <em>object</em></td>
<td style="text-align: left">Receiver&#39;s address information.</td>
</tr>
<tr>
<td style="text-align: left"><code>transaction_info.receiver.address.country</code> <br> <em>string</em></td>
<td style="text-align: left">The country the receiver is based in.</td>
</tr>
<tr>
<td style="text-align: left"><code>transaction_info.receiver.address.lines</code> <br> <em>string</em></td>
<td style="text-align: left"></td>
</tr>
<tr>
<td style="text-align: left"><code>transaction_info.receiver.bic</code> <br> <em>string</em></td>
<td style="text-align: left">The Branch Identifier Code of the receiver.</td>
</tr>
<tr>
<td style="text-align: left"><code>transaction_info.receiver.birth_city</code> <br> <em>string</em></td>
<td style="text-align: left">The birth city.</td>
</tr>
<tr>
<td style="text-align: left"><code>transaction_info.receiver.birth_country</code> <br> <em>string</em></td>
<td style="text-align: left">The birth country.</td>
</tr>
<tr>
<td style="text-align: left"><code>transaction_info.receiver.birth_date</code> <br> <em>string</em></td>
<td style="text-align: left">The date of birth.</td>
</tr>
<tr>
<td style="text-align: left"><code>transaction_info.receiver.birth_province</code> <br> <em>string</em></td>
<td style="text-align: left">The province of birth.</td>
</tr>
<tr>
<td style="text-align: left"><code>transaction_info.receiver.id</code> <br> <em>string</em></td>
<td style="text-align: left">The UUID of the receiver.</td>
</tr>
<tr>
<td style="text-align: left"><code>transaction_info.receiver.issuer</code> <br> <em>string</em></td>
<td style="text-align: left">The issuing bank of the receiver.</td>
</tr>
<tr>
<td style="text-align: left"><code>transaction_info.receiver.name</code> <br> <em>string</em></td>
<td style="text-align: left">The receiver&#39;s name</td>
</tr>
<tr>
<td style="text-align: left"><code>transaction_info.receiver.scheme</code> <br> <em>string</em></td>
<td style="text-align: left">The scheme by which the money was received.</td>
</tr>
<tr>
<td style="text-align: left"><code>transaction_info.receiver.scheme_proprietary</code> <br> <em>string</em></td>
<td style="text-align: left">The owner of the scheme.</td>
</tr>
<tr>
<td style="text-align: left"><code>transaction_info.receiver_account</code> <br> <em>object</em></td>
<td style="text-align: left">The account details of the receiver.</td>
</tr>
<tr>
<td style="text-align: left"><code>transaction_info.receiver_account.iban</code> <br> <em>string</em></td>
<td style="text-align: left">The IBAN of the receiver.</td>
</tr>
<tr>
<td style="text-align: left"><code>transaction_info.receiver_agent</code> <br> <em>object</em></td>
<td style="text-align: left">The receiving agent, if any.</td>
</tr>
<tr>
<td style="text-align: left"><code>transaction_info.receiver_agent.bic</code> <br> <em>string</em></td>
<td style="text-align: left">The BIC of the receiving agent.</td>
</tr>
<tr>
<td style="text-align: left"><code>transaction_info.remittance_information_unstructured</code> <br> <em>string</em></td>
<td style="text-align: left">Information for remittance, if any.</td>
</tr>
<tr>
<td style="text-align: left"><code>transaction_info.sender</code> <br> <em>object</em></td>
<td style="text-align: left">Information about the sender.</td>
</tr>
<tr>
<td style="text-align: left"><code>transaction_info.sender.address</code> <br> <em>object</em></td>
<td style="text-align: left">Sender&#39;s address information.</td>
</tr>
<tr>
<td style="text-align: left"><code>transaction_info.sender.address.country</code> <br> <em>string</em></td>
<td style="text-align: left">The country the sender is based in.</td>
</tr>
<tr>
<td style="text-align: left"><code>transaction_info.sender.address.lines</code> <br> <em>string</em></td>
<td style="text-align: left"></td>
</tr>
<tr>
<td style="text-align: left"><code>transaction_info.sender.bic</code> <br> <em>string</em></td>
<td style="text-align: left">The Branch Identifier Code of the sender.</td>
</tr>
<tr>
<td style="text-align: left"><code>transaction_info.sender.birth_city</code> <br> <em>string</em></td>
<td style="text-align: left">The birth city.</td>
</tr>
<tr>
<td style="text-align: left"><code>transaction_info.sender.birth_country</code> <br> <em>string</em></td>
<td style="text-align: left">The birth country.</td>
</tr>
<tr>
<td style="text-align: left"><code>transaction_info.sender.birth_date</code> <br> <em>string</em></td>
<td style="text-align: left">The date of birth.</td>
</tr>
<tr>
<td style="text-align: left"><code>transaction_info.sender.birth_province</code> <br> <em>string</em></td>
<td style="text-align: left">The province of birth.</td>
</tr>
<tr>
<td style="text-align: left"><code>transaction_info.sender.id</code> <br> <em>string</em></td>
<td style="text-align: left">The UUID of the sender.</td>
</tr>
<tr>
<td style="text-align: left"><code>transaction_info.sender.issuer</code> <br> <em>string</em></td>
<td style="text-align: left">The issuing bank of the sender.</td>
</tr>
<tr>
<td style="text-align: left"><code>transaction_info.sender.name</code> <br> <em>string</em></td>
<td style="text-align: left">The sender&#39;s name</td>
</tr>
<tr>
<td style="text-align: left"><code>transaction_info.sender.scheme</code> <br> <em>string</em></td>
<td style="text-align: left">The scheme by which the money was sent.</td>
</tr>
<tr>
<td style="text-align: left"><code>transaction_info.sender.scheme_proprietary</code> <br> <em>string</em></td>
<td style="text-align: left">The owner of the scheme.</td>
</tr>
<tr>
<td style="text-align: left"><code>transaction_info.sender_account</code> <br> <em>object</em></td>
<td style="text-align: left">The account details of the sender.</td>
</tr>
<tr>
<td style="text-align: left"><code>transaction_info.sender_account.iban</code> <br> <em>string</em></td>
<td style="text-align: left">The IBAN of the sender.</td>
</tr>
<tr>
<td style="text-align: left"><code>transaction_info.sender_agent</code> <br> <em>object</em></td>
<td style="text-align: left">The sending agent, if any.</td>
</tr>
<tr>
<td style="text-align: left"><code>transaction_info.sender_agent.bic</code> <br> <em>string</em></td>
<td style="text-align: left">The BIC of the sending agent.</td>
</tr>
<tr>
<td style="text-align: left"><code>transaction_info.service_level</code> <br> <em>string</em></td>
<td style="text-align: left">The service level of the sender.</td>
</tr>
<tr>
<td style="text-align: left"><code>transaction_info.settlement_account</code> <br> <em>object</em></td>
<td style="text-align: left">The settlement account details, if any.</td>
</tr>
<tr>
<td style="text-align: left"><code>transaction_info.settlement_account.iban</code> <br> <em>string</em></td>
<td style="text-align: left">The IBAN of the settlement account.</td>
</tr>
<tr>
<td style="text-align: left"><code>transaction_info.settlement_date</code> <br> <em>string</em></td>
<td style="text-align: left">The date the transaction was/will be settled.</td>
</tr>
<tr>
<td style="text-align: left"><code>transaction_info.settlement_method</code> <br> <em>string</em></td>
<td style="text-align: left">The method of settlement.</td>
</tr>
<tr>
<td style="text-align: left"><code>transaction_info.transaction_id</code> <br> <em>string</em></td>
<td style="text-align: left">The transaction UUID.</td>
</tr>
<tr>
<td style="text-align: left"><code>transaction_info.ultimate_receiver</code> <br> <em>object</em></td>
<td style="text-align: left">Information regarding the ultimate receiver of the transaction.</td>
</tr>
<tr>
<td style="text-align: left"><code>transaction_info.ultimate_receiver.address</code> <br> <em>object</em></td>
<td style="text-align: left">Ultimate receiver&#39;s address information.</td>
</tr>
<tr>
<td style="text-align: left"><code>transaction_info.ultimate_receiver.address.country</code> <br> <em>string</em></td>
<td style="text-align: left">The country the ultimate receiver is based in.</td>
</tr>
<tr>
<td style="text-align: left"><code>transaction_info.ultimate_receiver.address.lines</code> <br> <em>string</em></td>
<td style="text-align: left"></td>
</tr>
<tr>
<td style="text-align: left"><code>transaction_info.ultimate_receiver.bic</code> <br> <em>string</em></td>
<td style="text-align: left">The Branch Identifier Code of the ultimate receiver.</td>
</tr>
<tr>
<td style="text-align: left"><code>transaction_info.ultimate_receiver.birth_city</code> <br> <em>string</em></td>
<td style="text-align: left">The birth city.</td>
</tr>
<tr>
<td style="text-align: left"><code>transaction_info.ultimate_receiver.birth_country</code> <br> <em>string</em></td>
<td style="text-align: left">The birth country.</td>
</tr>
<tr>
<td style="text-align: left"><code>transaction_info.ultimate_receiver.birth_date</code> <br> <em>string</em></td>
<td style="text-align: left">The date of birth.</td>
</tr>
<tr>
<td style="text-align: left"><code>transaction_info.ultimate_receiver.birth_province</code> <br> <em>string</em></td>
<td style="text-align: left">The province of birth.</td>
</tr>
<tr>
<td style="text-align: left"><code>transaction_info.ultimate_receiver.id</code> <br> <em>string</em></td>
<td style="text-align: left">The UUID of the ultimate receiver.</td>
</tr>
<tr>
<td style="text-align: left"><code>transaction_info.ultimate_receiver.issuer</code> <br> <em>string</em></td>
<td style="text-align: left">The issuing bank of the ultimate receiver.</td>
</tr>
<tr>
<td style="text-align: left"><code>transaction_info.ultimate_receiver.name</code> <br> <em>string</em></td>
<td style="text-align: left">The ultimate receiver&#39;s name</td>
</tr>
<tr>
<td style="text-align: left"><code>transaction_info.ultimate_receiver.scheme</code> <br> <em>string</em></td>
<td style="text-align: left">The scheme by which the money was received.</td>
</tr>
<tr>
<td style="text-align: left"><code>transaction_info.ultimate_receiver.scheme_proprietary</code> <br> <em>string</em></td>
<td style="text-align: left">The owner of the scheme.</td>
</tr>
<tr>
<td style="text-align: left"><code>transaction_info.ultimate_sender</code> <br> <em>object</em></td>
<td style="text-align: left">Information regarding the ultimate sender of the transaction.</td>
</tr>
<tr>
<td style="text-align: left"><code>transaction_info.ultimate_sender.address</code> <br> <em>object</em></td>
<td style="text-align: left">Ultimate sender&#39;s address information.</td>
</tr>
<tr>
<td style="text-align: left"><code>transaction_info.ultimate_sender.address.country</code> <br> <em>string</em></td>
<td style="text-align: left">The country the ultimate sender is based in.</td>
</tr>
<tr>
<td style="text-align: left"><code>transaction_info.ultimate_sender.address.lines</code> <br> <em>string</em></td>
<td style="text-align: left"></td>
</tr>
<tr>
<td style="text-align: left"><code>transaction_info.ultimate_sender.bic</code> <br> <em>string</em></td>
<td style="text-align: left">The Branch Identifier Code of the ultimate sender.</td>
</tr>
<tr>
<td style="text-align: left"><code>transaction_info.ultimate_sender.birth_city</code> <br> <em>string</em></td>
<td style="text-align: left">The birth city.</td>
</tr>
<tr>
<td style="text-align: left"><code>transaction_info.ultimate_sender.birth_country</code> <br> <em>string</em></td>
<td style="text-align: left">The birth country.</td>
</tr>
<tr>
<td style="text-align: left"><code>transaction_info.ultimate_sender.birth_date</code> <br> <em>string</em></td>
<td style="text-align: left">The date of birth.</td>
</tr>
<tr>
<td style="text-align: left"><code>transaction_info.ultimate_sender.birth_province</code> <br> <em>string</em></td>
<td style="text-align: left">The province of birth.</td>
</tr>
<tr>
<td style="text-align: left"><code>transaction_info.ultimate_sender.id</code> <br> <em>string</em></td>
<td style="text-align: left">The UUID of the ultimate sender.</td>
</tr>
<tr>
<td style="text-align: left"><code>transaction_info.ultimate_sender.issuer</code> <br> <em>string</em></td>
<td style="text-align: left">The issuing bank of the ultimate sender.</td>
</tr>
<tr>
<td style="text-align: left"><code>transaction_info.ultimate_sender.name</code> <br> <em>string</em></td>
<td style="text-align: left">The ultimate sender&#39;s name</td>
</tr>
<tr>
<td style="text-align: left"><code>transaction_info.ultimate_sender.scheme</code> <br> <em>string</em></td>
<td style="text-align: left">The scheme by which the money was sent.</td>
</tr>
<tr>
<td style="text-align: left"><code>transaction_info.ultimate_sender.scheme_proprietary</code> <br> <em>string</em></td>
<td style="text-align: left">The owner of the scheme.</td>
</tr>
<tr>
<td style="text-align: left"><code>transaction_meta</code> <br> <em>object</em></td>
<td style="text-align: left">An object allowing custom fields that can be created and stored against the transaction.</td>
</tr>
<tr>
<td style="text-align: left"><code>transaction_printout</code> <br> <em>object</em></td>
<td style="text-align: left">More information about the transaction. Will be populated by the scheme.</td>
</tr>
<tr>
<td style="text-align: left"><code>transaction_status</code> <br> <em>string</em></td>
<td style="text-align: left">The status of the transaction. See below.</td>
</tr>
<tr>
<td style="text-align: left"><code>transaction_type</code> <br> <em>string</em></td>
<td style="text-align: left">The type of transaction.</td>
</tr>
</tbody></table>
<h3 id='transaction-statuses'>Transaction Statuses</h3>
<table><thead>
<tr>
<th style="text-align: left">Message</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code>transaction-status-accepted</code></td>
<td style="text-align: left">The transaction has been accepted by the Railsbank platform and the funds have left the ledger. YOu will receive a <code>type: ledger-changed</code> webhook. Please note that this doesn&#39;t mean they have arrived at the beneficiary account: due to regulation, we cannot inform customers when a transaction lands in the partner quarantine queue, so if a transaction is <code>accepted</code>, it may be in the partner quarantine and it can be <code>declined</code>. If it is declined you will receive a <code>type: transaction-declined</code> webhook.</td>
</tr>
<tr>
<td style="text-align: left"><code>transaction-status-pending</code></td>
<td style="text-align: left">Transaction is being processed. We do not have a <code>/wait</code> parameter for transactions as they can be processed for a longer period of time. We advise using a webhook to notify you when processing has been completed.</td>
</tr>
<tr>
<td style="text-align: left"><code>transaction-status-quarantine</code></td>
<td style="text-align: left">The transaction has fallen into your customer quarantine queue. You will receive a <code>type: entity-fw-quarantine</code> webhook and a <code>type: transaction-firewall-finished</code> webhook. <strong>We recommend setting your own firewall rules to prevent any of your transactions falling into the partner quarantine queue and therefore out of your control.</strong></td>
</tr>
<tr>
<td style="text-align: left"><code>transaction-status-declined</code></td>
<td style="text-align: left">Transaction has ben declined. When you fetch the transaction you will see the <code>failure_reasons</code>, for instance: <code>insufficient-funds</code>. You will receive a <code>type: transaction-declined</code> webhook.</td>
</tr>
<tr>
<td style="text-align: left"><code>transaction-status-missing-data</code></td>
<td style="text-align: left">Extra data required to complete the transaction. For instance, if the beneficiary does not have enough account information for the transaction to be completed.</td>
</tr>
</tbody></table>
<h3 id='rejection-reasons'>Rejection Reasons</h3>
<table><thead>
<tr>
<th style="text-align: left">Reason</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code>account-transferred</code></td>
</tr>
<tr>
<td style="text-align: left"><code>beneficiary-sort-code-not-enabled-for-faster-payments</code></td>
</tr>
<tr>
<td style="text-align: left"><code>transaction-currency-different-to-receiver-account</code></td>
</tr>
<tr>
<td style="text-align: left"><code>beneficiary-sort-code-and-account-number-unknown</code></td>
</tr>
<tr>
<td style="text-align: left"><code>beneficiary-account-number-invalid</code></td>
</tr>
<tr>
<td style="text-align: left"><code>beneficiary-name-does-not-match-beneficiary-account</code></td>
</tr>
<tr>
<td style="text-align: left"><code>currency-and-amount-invalid</code></td>
</tr>
<tr>
<td style="text-align: left"><code>sending-agency-account-stopped</code></td>
</tr>
<tr>
<td style="text-align: left"><code>sending-account-transferred</code></td>
</tr>
<tr>
<td style="text-align: left"><code>beneficiary-sort-code-invalid</code></td>
</tr>
<tr>
<td style="text-align: left"><code>amount-invalid</code></td>
</tr>
<tr>
<td style="text-align: left"><code>rejected-by-receiving-bank-with-unspecified-reason</code></td>
</tr>
<tr>
<td style="text-align: left"><code>sending-agency-account-closed</code></td>
</tr>
<tr>
<td style="text-align: left"><code>insufficient-funds</code></td>
</tr>
<tr>
<td style="text-align: left"><code>transaction-failed-contact-beneficiary</code></td>
</tr>
<tr>
<td style="text-align: left"><code>currency-invalid</code></td>
</tr>
<tr>
<td style="text-align: left"><code>beneficiary-account-stopped</code></td>
</tr>
<tr>
<td style="text-align: left"><code>receiving-agency-account-stopped</code></td>
</tr>
<tr>
<td style="text-align: left"><code>account-overdrawn</code></td>
</tr>
<tr>
<td style="text-align: left"><code>syntax-error</code></td>
</tr>
<tr>
<td style="text-align: left"><code>receiving-agency-account-close</code></td>
</tr>
<tr>
<td style="text-align: left"><code>additional-remittance-info-invalid</code></td>
</tr>
<tr>
<td style="text-align: left"><code>beneficiary-name-missing</code></td>
</tr>
<tr>
<td style="text-align: left"><code>account-number-invalid</code></td>
</tr>
<tr>
<td style="text-align: left"><code>receiving-account-transferred</code></td>
</tr>
<tr>
<td style="text-align: left"><code>receiving-agency-sort-code-and-account-number-unknown</code></td>
</tr>
<tr>
<td style="text-align: left"><code>reference-invalid</code></td>
</tr>
<tr>
<td style="text-align: left"><code>transaction-failed-please-retry</code></td>
</tr>
<tr>
<td style="text-align: left"><code>duplicate-fpid2</code></td>
</tr>
<tr>
<td style="text-align: left"><code>terms-and-conditions-limit</code></td>
</tr>
<tr>
<td style="text-align: left"><code>sending-agency-sort-code-and-account-number-unknown</code></td>
</tr>
<tr>
<td style="text-align: left"><code>transaction-failed</code></td>
</tr>
<tr>
<td style="text-align: left"><code>sending-fps-institution-action-required</code></td>
</tr>
<tr>
<td style="text-align: left"><code>amount-exceeds-account-limit</code></td>
</tr>
<tr>
<td style="text-align: left"><code>beneficiary-account-closed</code></td>
</tr>
</tbody></table>
<h2 id='fetch-multiple-transactions'>Fetch Multiple Transactions</h2>
<blockquote>
<p><strong>Example Request</strong></p>
</blockquote>
<pre class="highlight shell tab-shell"><code>--request GET <span class="s2">"https://playlive.railsbank.com/v1/customer/transactions?starting_at_date=2019-06-10"</span>
--header <span class="s2">"Content-Type: application/json"</span>
--header <span class="s2">"Accept: application/json"</span>
--header <span class="s2">"Authorization: API-Key &lt;&lt;yourAPI-Key&gt;&gt;"</span>
</code></pre>
<blockquote>
<p><strong>Example Response</strong></p>
</blockquote>
<pre class="highlight shell tab-shell"><code><span class="o">[</span>
    <span class="o">{</span>
        <span class="s2">"payment_type"</span>: <span class="s2">"payment-type-UK-FasterPayments"</span>,
        <span class="s2">"transaction_type"</span>: <span class="s2">"transaction-type-receive"</span>,
        <span class="s2">"payment_info"</span>: <span class="o">{</span>
            <span class="s2">"fpsSettlementDate"</span>: <span class="s2">"2019-06-10"</span>,
            <span class="s2">"settlementCycleUid"</span>: <span class="s2">"f2c59b80-32b9-4d69-94c7-251c6075c5a1"</span>,
            <span class="s2">"destinationAccount"</span>: <span class="o">{</span>
                <span class="s2">"sortCode"</span>: <span class="s2">"0400XX"</span>,
                <span class="s2">"accountNumber"</span>: <span class="s2">"0718601XX"</span>,
                <span class="s2">"accountName"</span>: <span class="s2">"GBP Daily Checks"</span>
            <span class="o">}</span>,
            <span class="s2">"instructedAmount"</span>: <span class="o">{</span>
                <span class="s2">"currency"</span>: <span class="s2">"GBP"</span>,
                <span class="s2">"minorUnits"</span>: 100
            <span class="o">}</span>,
            <span class="s2">"settlementAmount"</span>: <span class="o">{</span>
                <span class="s2">"currency"</span>: <span class="s2">"GBP"</span>,
                <span class="s2">"minorUnits"</span>: 100
            <span class="o">}</span>,
            <span class="s2">"receivedAt"</span>: <span class="s2">"2019-06-10T14:59:00.000Z"</span>,
            <span class="s2">"paymentAccountUid"</span>: <span class="s2">"5b9f7e0a-634b-441f-a755-e42c0b214c69"</span>,
            <span class="s2">"paymentBusinessUid"</span>: <span class="s2">"818a221c-8dca-43c5-9f3c-49d605a97d6d"</span>,
            <span class="s2">"fpsSettlementCycleId"</span>: <span class="s2">"CYCLE_002"</span>,
            <span class="s2">"type"</span>: <span class="s2">"SIP"</span>,
            <span class="s2">"sourceAccount"</span>: <span class="o">{</span>
                <span class="s2">"sortCode"</span>: <span class="s2">"2314XX"</span>,
                <span class="s2">"accountNumber"</span>: <span class="s2">"134598XX"</span>,
                <span class="s2">"accountName"</span>: <span class="s2">"railsbank technology limited"</span>
            <span class="o">}</span>,
            <span class="s2">"returnDetails"</span>: <span class="o">{}</span>,
            <span class="s2">"reference"</span>: <span class="s2">"Daily-GBP-Checks"</span>,
            <span class="s2">"fpid"</span>: <span class="s2">"TW00000000662939301020190610826231470     "</span>,
            <span class="s2">"addressUid"</span>: <span class="s2">"5cf4f5b7-5943-4c87-b597-cd330110ecff"</span>,
            <span class="s2">"paymentUid"</span>: <span class="s2">"25080177-dd3c-4da3-9564-2978ae76dfe2"</span>
        <span class="o">}</span>,
        <span class="s2">"transaction_status"</span>: <span class="s2">"transaction-status-accepted"</span>,
        <span class="s2">"ledger_to_id"</span>: <span class="s2">"5cf4f5b7-5943-4c87-b597-cd330110ecff"</span>,
        <span class="s2">"transaction_info"</span>: <span class="o">{}</span>,
        <span class="s2">"reference"</span>: <span class="s2">"Daily-GBP-Checks"</span>,
        <span class="s2">"amount"</span>: 1,
        <span class="s2">"transaction_id"</span>: <span class="s2">"5cfe7035-6035-449c-b6b6-8e52ab3e8b84"</span>,
        <span class="s2">"created_at"</span>: <span class="s2">"2019-06-10T14:59:01.186Z"</span>,
        <span class="s2">"partner_product"</span>: <span class="s2">"PayrNet-GBP-1"</span>,
        <span class="s2">"transaction_printout"</span>: <span class="o">{</span>
            <span class="s2">"beneficiaryiban"</span>: <span class="s2">"GB69PAYR04005207186010"</span>,
            <span class="s2">"pspofsendername"</span>: <span class="s2">"PayrNet"</span>,
            <span class="s2">"pspofsenderphysicallocation"</span>: <span class="s2">"GB"</span>,
            <span class="s2">"ultimatesendername"</span>: <span class="s2">"railsbank technology limited"</span>,
            <span class="s2">"pspofsenderaddress"</span>: <span class="o">{</span>
                <span class="s2">"address_refinement"</span>: <span class="s2">"Kemp House"</span>,
                <span class="s2">"address_number"</span>: <span class="s2">"152"</span>,
                <span class="s2">"address_street"</span>: <span class="s2">"City Road"</span>,
                <span class="s2">"address_city"</span>: <span class="s2">"London"</span>,
                <span class="s2">"address_postal_code"</span>: <span class="s2">"EC1V 2NX"</span>,
                <span class="s2">"address_iso_country"</span>: <span class="s2">"GB"</span>
            <span class="o">}</span>,
            <span class="s2">"paymentonbehalfoftype"</span>: <span class="s2">"POO"</span>,
            <span class="s2">"pspofultimatebenename"</span>: <span class="s2">"Starling"</span>,
            <span class="s2">"ultimatesenderaccountnumber"</span>: <span class="s2">"2314XX/13459XX"</span>,
            <span class="s2">"beneficiaryname"</span>: <span class="s2">"Railsbank"</span>,
            <span class="s2">"paymentpartytype"</span>: <span class="s2">"receive third_party"</span>
        <span class="o">}</span>,
        <span class="s2">"asset_type"</span>: <span class="s2">"gbp"</span>,
        <span class="s2">"asset_class"</span>: <span class="s2">"currency"</span>,
        <span class="s2">"invoices"</span>: <span class="o">[]</span>
    <span class="o">}</span>,
    <span class="o">{</span>
        <span class="s2">"payment_type"</span>: <span class="s2">"payment-type-inter-ledger"</span>,
        <span class="s2">"transaction_type"</span>: <span class="s2">"transaction-type-inter-ledger-omnibus"</span>,
        <span class="s2">"transaction_status"</span>: <span class="s2">"transaction-status-accepted"</span>,
        <span class="s2">"ledger_to_id"</span>: <span class="s2">"5cf4f5c9-4307-4e51-92c6-098e55ccb8bf"</span>,
        <span class="s2">"transaction_info"</span>: <span class="o">{}</span>,
        <span class="s2">"amount"</span>: 1,
        <span class="s2">"ledger_from_id"</span>: <span class="s2">"5cf4f5b7-5943-4c87-b597-cd330110ecff"</span>,
        <span class="s2">"transaction_id"</span>: <span class="s2">"5cfe707b-fb2b-4a86-bc7e-21ef55c817b3"</span>,
        <span class="s2">"created_at"</span>: <span class="s2">"2019-06-10T15:00:11.759Z"</span>,
        <span class="s2">"partner_product"</span>: <span class="s2">"PayrNet-GBP-1"</span>,
        <span class="s2">"transaction_printout"</span>: <span class="o">{</span>
            <span class="s2">"ultimatesenderaddress"</span>: <span class="o">{</span>
                <span class="s2">"address_iso_country"</span>: <span class="s2">"GB"</span>
            <span class="o">}</span>,
            <span class="s2">"beneficiaryiban"</span>: <span class="s2">"GB47PAYR040052123397XX"</span>,
            <span class="s2">"pspofsendername"</span>: <span class="s2">"Railsbank"</span>,
            <span class="s2">"pspaccountlocation"</span>: <span class="s2">"PAYRGB2LXXX"</span>,
            <span class="s2">"pspofsenderphysicallocation"</span>: <span class="s2">"GB"</span>,
            <span class="s2">"pspaccounttandcscountryofjurisdiction"</span>: <span class="s2">"GB"</span>,
            <span class="s2">"ultimatesendername"</span>: <span class="s2">"Railsbank"</span>,
            <span class="s2">"pspofsenderaddress"</span>: <span class="o">{</span>
                <span class="s2">"address_iso_country"</span>: <span class="s2">"GB"</span>
            <span class="o">}</span>,
            <span class="s2">"pspofultimatebenephysicallocation"</span>: <span class="s2">"GB"</span>,
            <span class="s2">"pspofultimatebeneaddress"</span>: <span class="o">{</span>
                <span class="s2">"address_iso_country"</span>: <span class="s2">"GB"</span>
            <span class="o">}</span>,
            <span class="s2">"paymentonbehalfoftype"</span>: <span class="s2">"POO"</span>,
            <span class="s2">"pspofultimatebenename"</span>: <span class="s2">"Railsbank"</span>,
            <span class="s2">"ultimatesenderaccountnumber"</span>: <span class="s2">"GB69PAYR040052071860XX"</span>,
            <span class="s2">"beneficiaryname"</span>: <span class="s2">"Railsbank"</span>,
            <span class="s2">"paymentpartytype"</span>: <span class="s2">"interledger"</span>
        <span class="o">}</span>,
        <span class="s2">"asset_type"</span>: <span class="s2">"gbp"</span>,
        <span class="s2">"asset_class"</span>: <span class="s2">"currency"</span>,
        <span class="s2">"invoices"</span>: <span class="o">[]</span>
    <span class="o">}</span>,
<span class="o">]</span>
</code></pre>
<p><code>GET &quot;https://playlive.railsbank.com/v1/customer/transactions</code></p>

<ul>
<li>This endpoint returns multiple transactions in an array.</li>
<li>The transactions returned will be in the same format as when you fetch a single transaction.</li>
<li>You cannot fetch transactions for a particular enduser or ledger: you cannot call <code>transactions/{{LEDGER_ID}}</code> or <code>transactions/{{ENDUSER_ID}}</code>. To fetch the transactions to a ledger, you need to call <code>ledgers/{{LEDGER_ID}}/entries</code> and iterate through the transaction_id&#39;s it returns, fetch each transaction sequentially.</li>
</ul>
<h3 id='parameters'>Parameters</h3>
<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code>starting_at_date</code> <br> <em>string</em></td>
<td style="text-align: left">Any transactions created before this date will not be shown in the array <br> <em>YYYY-MM-DD</em></td>
</tr>
<tr>
<td style="text-align: left"><code>items_per_page</code> <br> <em>integer</em></td>
<td style="text-align: left">The number of items returned in each page. A hyperlink to the next page will be found in the response headers</td>
</tr>
<tr>
<td style="text-align: left"><code>last_seen_id</code> <br> <em>string</em></td>
<td style="text-align: left">The transactions returned will have all been created after the transaction whose UUID is the <code>last_seen_id</code></td>
</tr>
<tr>
<td style="text-align: left"><code>from_date</code> <br> <em>string</em></td>
<td style="text-align: left">The date that the list of transactions will start from</td>
</tr>
<tr>
<td style="text-align: left"><code>end_date</code> <br> <em>string</em></td>
<td style="text-align: left">The date that the list of transactions will end at</td>
</tr>
</tbody></table>
<h2 id='update-transactions'>Update Transactions</h2>
<blockquote>
<p><strong>Example Request</strong></p>
</blockquote>
<pre class="highlight shell tab-shell"><code>--request PUT <span class="s2">"https://playlive.railsbank.com/v1/customer/transactions/{{{TRANSACTION_ID}}}"</span>
--header <span class="s2">"Content-Type: application/json"</span>
--header <span class="s2">"Accept: application/json"</span>
--header <span class="s2">"Authorization: API-Key &lt;&lt;yourAPI-Key&gt;&gt;"</span>

<span class="o">{</span>
  <span class="s2">"transaction_meta"</span>: <span class="o">{</span>
    <span class="s2">"foo"</span>: <span class="s2">"bar"</span>
  <span class="o">}</span>
<span class="o">}</span>
</code></pre>
<blockquote>
<p><strong>Example Response</strong></p>
</blockquote>
<pre class="highlight shell tab-shell"><code><span class="o">{</span>
  <span class="s2">"transaction_id"</span>: <span class="s2">"8763b5df-a61c-4f77-9724-41ca9cde3654"</span>
<span class="o">}</span>
</code></pre>
<p><code>PUT &quot;https://playlive.railsbank.com/v1/customer/transactions/{{TRANSACTION_ID}}</code></p>

<ul>
<li>This endpoint allows you to update a transaction.</li>
<li>Currently, the only thing you can update is the <code>transaction_meta</code> field.</li>
<li>This allows you to add custom information to the transaction after it has been sent.</li>
</ul>
<h2 id='upload-a-transaction-invoice'>Upload a Transaction Invoice</h2>
<blockquote>
<p><strong>Example Request</strong></p>
</blockquote>
<pre class="highlight shell tab-shell"><code>--request POST <span class="s2">"https://playlive.railsbank.com/v1/customer/transactions/{{TRANSACTION_ID}}/invoices"</span>
--header <span class="s2">"Content-Type: application/json"</span>
--header <span class="s2">"Accept: application/json"</span>
--header <span class="s2">"Authorization: API-Key &lt;&lt;yourAPI-Key&gt;&gt;"</span>
<span class="o">{</span>
  <span class="s2">"file"</span>: <span class="s2">"{{some_file}}"</span>,
  <span class="s2">"description"</span>: <span class="s2">"John's March Invoice"</span>
<span class="o">}</span>
</code></pre>
<blockquote>
<p><strong>Example Response</strong></p>
</blockquote>
<pre class="highlight shell tab-shell"><code><span class="o">{</span>
  <span class="s2">"transaction_id"</span>: <span class="s2">"8763b5df-a61c-4f77-9724-41ca9cde3654"</span>
<span class="o">}</span>
</code></pre>
<p><code>POST &quot;https://playlive.railsbank.com/v1/customer/transactions/{{TRANSACTION_ID}}/invoices</code></p>

<ul>
<li>This endpoint allows you to add an invoice to a transaction in the form of a file.</li>
<li>You should also add a description, however this field is optional.</li>
<li>We will generate a <code>document_id</code> corresponding to the invoice.</li>
</ul>
<h2 id='credit-and-debit-virtual-ledgers'>Credit and Debit Virtual Ledgers</h2>
<blockquote>
<p><strong>Example Request - Credit</strong></p>
</blockquote>
<pre class="highlight shell tab-shell"><code>--request POST <span class="s2">"https://playlive.railsbank.com/v1/customer/transactions/manual-credit"</span>
--header <span class="s2">"Content-Type: application/json"</span>
--header <span class="s2">"Accept: application/json"</span>
--header <span class="s2">"Authorization: API-Key &lt;&lt;yourAPI-Key&gt;&gt;"</span>
<span class="o">{</span>
    <span class="s2">"amount"</span>: <span class="s2">"3"</span>,
    <span class="s2">"ledger_id"</span>: <span class="s2">"8763b5df-a61c-4f77-9724-41ca9cde3654"</span>,
    <span class="s2">"transaction_meta"</span>: <span class="o">{</span>
      <span class="s2">"my_transaction_id"</span>: <span class="s2">"08575937"</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre>
<blockquote>
<p><strong>Example Request - Debit</strong></p>
</blockquote>
<pre class="highlight shell tab-shell"><code>--request POST <span class="s2">"https://playlive.railsbank.com/v1/customer/transactions/manual-debit"</span>
--header <span class="s2">"Content-Type: application/json"</span>
--header <span class="s2">"Accept: application/json"</span>
--header <span class="s2">"Authorization: API-Key &lt;&lt;yourAPI-Key&gt;&gt;"</span>
<span class="o">{</span>
    <span class="s2">"amount"</span>: <span class="s2">"3"</span>,
    <span class="s2">"ledger_id"</span>: <span class="s2">"8763b5df-a61c-4f77-9724-41ca9cde3654"</span>,
    <span class="s2">"transaction_meta"</span>: <span class="o">{</span>
      <span class="s2">"my_transaction_id"</span>: <span class="s2">"08575937"</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre>
<blockquote>
<p><strong>Example Response</strong></p>
</blockquote>
<pre class="highlight shell tab-shell"><code><span class="o">{</span>
  <span class="s2">"transaction_id"</span>: <span class="s2">"8763b5df-a61c-4f77-9724-41ca9cde3654"</span>
<span class="o">}</span>
</code></pre>
<ul>
<li>These endpoints allow you to credit or debit a virtual ledger.</li>
<li>They are designed to allow you to track of real assets, like gold, outside of Railsbank.</li>
<li>There are no limits on how much you can credit or debit.</li>
<li>These transactions can be fetched like any other transaction.</li>
</ul>
<h3 id='the-virtual-transaction-object'>The Virtual Transaction Object</h3>
<table><thead>
<tr>
<th style="text-align: left">Attribute</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code>amount</code> <br> <em>number</em>, required</td>
<td style="text-align: left">The amount to be sent</td>
</tr>
<tr>
<td style="text-align: left"><code>ledger_id</code> <br> <em>string</em>, required</td>
<td style="text-align: left">The ledger to be debited or credited</td>
</tr>
<tr>
<td style="text-align: left"><code>transaction_meta</code> <br>  <em>object</em>, optional</td>
<td style="text-align: left">Extra information you want to input in the form of custom fields</td>
</tr>
</tbody></table>
<h1 id='issuing-debit-cards'>Issuing Debit Cards</h1>
<blockquote>
<p><strong>Endpoints</strong></p>
</blockquote>
<pre class="highlight shell tab-shell"><code>  POST /v1/customer/cards
  POST /v1/customer/cards/<span class="o">{{</span>CARD_ID<span class="o">}}</span>/activate
  POST /v1/customer/cards/<span class="o">{{</span>CARD_ID<span class="o">}}</span>/suspend
  POST /v1/customer/cards/rules
  POST /v1/customer/cards/rules/<span class="o">{{</span>CARD_RULE_ID<span class="o">}}</span>/disable
  GET /v1/customer/cards/<span class="o">{{</span>CARD_ID<span class="o">}}</span>
  GET /v1/customer/cards/<span class="o">{{</span>CARD_TOKEN<span class="o">}}</span>
  GET /v1/customer/cards
  GET /v1/customer/cards/<span class="o">{{</span>CARD_ID<span class="o">}}</span>/image
  GET /v1/customer/cards/<span class="o">{{</span>CARD_ID<span class="o">}}</span>/pin
  GET /v1/customer/cards/rules
  GET /v1/customer/cards/rules/<span class="o">{{</span>CARD_RULE_ID<span class="o">}}</span>
  PUT /v1/customer/cards/rules/<span class="o">{{</span>CARD_RULE_ID<span class="o">}}</span>
  PUT /v1/customer/cards/rules/<span class="o">{{</span>CARD_RULE_ID<span class="o">}}</span>

</code></pre>
<ul>
<li>The <strong>Railsbank Debit Card</strong> solution allows our customers to issue <strong>Mastercard Debit Cards</strong> against Railsbank ledgers with just a few easy API calls, exercising the <strong>Issue Cards</strong> cabability.</li>
<li>Cards can be both virtual and physical, and - quite uniquely - a virtual card can be transformed into a physical card while retaining it&#39;s <strong>card number (PAN)</strong>.</li>
<li>The card design can also be customised to your taste.</li>
<li>Due to the limits of <strong>PlayLive</strong> and the beauty of the innovation, this cabalility is only available for customers with a <strong>Live API Key</strong>.</li>
<li>Customers with a <strong>Live API Key</strong> must have also purchased the <code>Railsbank-Debit-Card-1</code> partner product.</li>
<li>This can easily be done by contacting <a href="mailto:support@railsbank.com">support</a>.</li>
</ul>
<h2 id='issue-a-virtual-card'>Issue a Virtual Card</h2>
<blockquote>
<p><strong>Example Request</strong></p>
</blockquote>
<pre class="highlight shell tab-shell"><code>    --request POST <span class="s2">"https://live.railsbank.com/v1/customer/cards"</span>
    --header <span class="s2">"Content-Type: application/json"</span>
    --header <span class="s2">"Accept: application/json"</span>
    --header <span class="s2">"Authorization: API-Key &lt;&lt;yourapikey&gt;&gt;"</span>
    --data
      <span class="s2">"{
        "</span>ledger_id<span class="s2">": "</span><span class="o">{{</span>LEDGER_ID<span class="o">}}</span><span class="s2">",
        "</span>card_programme<span class="s2">": "</span><span class="o">{{</span>Railsbank_Card_Programme<span class="o">}}</span><span class="s2">"
        "</span>card_type<span class="s2">": "</span>virtual<span class="s2">",
        "</span>card_design<span class="s2">": "</span><span class="o">{{</span>design_one<span class="o">}}</span><span class="s2">",
      }"</span>

</code></pre>
<blockquote>
<p><strong>Example Response</strong></p>
</blockquote>
<pre class="highlight shell tab-shell"><code>  <span class="o">{</span>
    <span class="s2">"card_id"</span>: <span class="s2">"6630b391-c5ce-46c1-9d23-a82a9e27f82d"</span>
  <span class="o">}</span>
</code></pre>
<blockquote>
<p><strong>Example Curl Request</strong></p>
</blockquote>
<pre class="highlight shell tab-shell"><code>    curl -X POST <span class="s2">"https://beta-playlive.railsbank.com/v1/customer/cards"</span> -H <span class="s2">"accept: application/json"</span> -H <span class="s2">"Authorization: API-Key &lt;&lt;yourAPI-Key&gt;&gt;"</span> -H <span class="s2">"Content-Type: application/json"</span> -d <span class="s2">"{ </span><span class="se">\"</span><span class="s2">ledger_id</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">{{enduser_GBPledger_id}}</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">card_type</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">virtual</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">card_design</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">design one</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">card_programme</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">{{GBPcard_programme}}</span><span class="se">\"</span><span class="s2">}"</span>
</code></pre>
<p><code>POST &quot;https://live.railsbank.com/v1/customer/cards&quot;</code></p>

<ul>
<li>Once you&#39;ve created your <strong>card-holding</strong> enduser, carefully go through our Issue a ledger tutorial - it&#39;ll only take a minute or so - to create the bank account to which your card is going to be attached.</li>
<li>When issuing the ledger, make sure to do so in the <strong>Live</strong> environment with your <strong>Live API Key</strong> and the <code>enduser_id</code> of the <strong>card-holding</strong> enduser you&#39;ve created.</li>
<li>For customers with a <strong>Live API Key</strong>, the <strong>Railsbank-Debit-Card</strong> capability is available for testing in the <strong>Play</strong> environment. Please <a href="mailto:support@railsbank.com">email our Business Development Team</a> if you want Live Keys.</li>
<li>The type of enduser holding the ledger must be the same that defined in the card programme. That is, if the holder of the ledger is an individual, the card programme needs to be for individuals, and if the holder is a corporate, the card programme needs to be for corporates.</li>
</ul>

<table><thead>
<tr>
<th style="text-align: left">Attribute</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code>ledger_id</code> <br> <em>string(UUID)</em>, required</td>
<td style="text-align: left">The ledger that the card will be attached to</td>
</tr>
<tr>
<td style="text-align: left"><code>card_type</code> <br> <em>string</em>, required</td>
<td style="text-align: left">The type of card, in this instance: <code>virtual</code></td>
</tr>
<tr>
<td style="text-align: left"><code>card_design</code> <br> <em>string</em>, required</td>
<td style="text-align: left">The custom card design you have chosen</td>
</tr>
<tr>
<td style="text-align: left"><code>card_programme</code> <br> <em>string</em>, required</td>
<td style="text-align: left">The name of the card programme you want your card to be associated with</td>
</tr>
<tr>
<td style="text-align: left"><code>card_rules</code> <br> <em>array of UUIDs</em>, optional</td>
<td style="text-align: left">Customizable rules associated with the card</td>
</tr>
</tbody></table>
<h2 id='issue-a-physical-card'>Issue a Physical Card</h2>
<blockquote>
<p><strong>Example Request</strong></p>
</blockquote>
<pre class="highlight shell tab-shell"><code>  --request POST <span class="s2">"https://live.railsbank.com/v1/customer/cards"</span>
  --header <span class="s2">"Content-Type: application/json"</span>
  --header <span class="s2">"Accept: application/json"</span>
  --header <span class="s2">"Authorization: API-Key &lt;&lt;yourapikey&gt;&gt;"</span>
  --data
  <span class="s2">"{
    "</span>ledger_id<span class="s2">": "</span><span class="o">{{</span>enduser_GBPledger_id<span class="o">}}</span><span class="s2">",
    "</span>card_carrier_type<span class="s2">": "</span>standard<span class="s2">",
    "</span>card_delivery_name<span class="s2">": "</span>John Smith<span class="s2">",
    "</span>card_type<span class="s2">": "</span>physical<span class="s2">",
    "</span>card_delivery_method<span class="s2">": "</span>dhl<span class="s2">",
    "</span>card_design<span class="s2">": "</span><span class="o">{{</span>design_one<span class="o">}}</span><span class="s2">",
    "</span>card_delivery_address<span class="s2">": {
      "</span>address_region<span class="s2">": "</span>England<span class="s2">",
      "</span>address_iso_country<span class="s2">": "</span>GBR<span class="s2">",
      "</span>address_number<span class="s2">": "</span>35<span class="s2">",
      "</span>address_postal_code<span class="s2">": "</span>W1 4AQ<span class="s2">",
      "</span>address_refinement<span class="s2">": "</span>First Floor<span class="s2">",
      "</span>address_street<span class="s2">": "</span>John Street<span class="s2">",
      "</span>address_city<span class="s2">": "</span>London<span class="s2">"
    },
    "</span>card_programme<span class="s2">": "</span><span class="o">{{</span>GBPcard_programme<span class="o">}}</span><span class="s2">"
  }"</span>

</code></pre>
<blockquote>
<p><strong>Example Response</strong></p>
</blockquote>
<pre class="highlight shell tab-shell"><code><span class="o">{</span>
  <span class="s2">"card_id"</span>: <span class="s2">"6630b391-c5ce-46c1-9d23-a82a9e27f82d"</span>
<span class="o">}</span>
</code></pre>
<blockquote>
<p><strong>Example Curl Request</strong></p>
</blockquote>
<pre class="highlight shell tab-shell"><code>  curl -X POST <span class="s2">"https://beta-playlive.railsbank.com/v1/customer/cards"</span> -H <span class="s2">"accept: application/json"</span> -H <span class="s2">"Authorization: API-Key wotzuvu60fr9y7z1o94heszi2geu8np8#kmkd4uvdmrg864ce9n4zlyygvf86opbwqddgmsdrobgqp4dlzf3thynck6qm7gso"</span> -H <span class="s2">"Content-Type: application/json"</span> -d <span class="s2">"{</span><span class="se">\"</span><span class="s2">ledger_id</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">{{enduser_GBPledger_id}}</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">card_carrier_type</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">standard</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">card_delivery_name</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">John Smith</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">card_type</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">physical</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">card_delivery_method</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">dhl</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">card_design</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">{{design_one}}</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">card_delivery_address</span><span class="se">\"</span><span class="s2">: { </span><span class="se">\"</span><span class="s2">address_region</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">England</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">address_iso_country</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">GBR</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">address_number</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">35</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">address_postal_code</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">W1 4AQ</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">address_refinement</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">First Floor</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">address_street</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">John Street</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">address_city</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">London</span><span class="se">\"</span><span class="s2"> }, </span><span class="se">\"</span><span class="s2">card_programme</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="s2">{{GBPcard_programme}}</span><span class="se">\"</span><span class="s2"> }"</span>
</code></pre>
<p><code>POST &quot;https://live.railsbank.com/v1/customer/cards&quot;</code></p>

<ul>
<li>Physical cards require a little more data than virtual cards.</li>
<li>Once you&#39;ve created your <strong>card-holding</strong> enduser, carefully go through our Issue a ledger tutorial - it&#39;ll only take a minute or so - to create the bank account to which your card is going to be attached.</li>
<li>When issuing the ledger, make sure to do so in the <strong>Live</strong> environment with your <strong>Live API Key</strong> and the <code>enduser_id</code> of the <strong>card-holding</strong> enduser you&#39;ve created.</li>
<li>For customers with a <strong>Live API Key</strong>, the <strong>Railsbank-Debit-Card</strong> capability is available for testing in the <strong>Play</strong> environment. Please <a href="mailto:support@railsbank.com">email our Business Development Team</a> if you want Live Keys.</li>
<li>The type of enduser holding the ledger must be the same that defined in the card programme. That is, if the holder of the ledger is an individual, the card programme needs to be for individuals, and if the holder is a corporate, the card programme needs to be for corporates.</li>
</ul>

<table><thead>
<tr>
<th style="text-align: left">Attribute</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code>ledger_id</code> <br> <em>string(UUID)</em>, required</td>
<td style="text-align: left">The ledger that the card will be attached to</td>
</tr>
<tr>
<td style="text-align: left"><code>card_type</code> <br> <em>string</em>, required</td>
<td style="text-align: left">The type of card, in this instance: <code>physical</code></td>
</tr>
<tr>
<td style="text-align: left"><code>card_design</code> <br> <em>string</em>, required</td>
<td style="text-align: left">The custom card design you have chosen</td>
</tr>
<tr>
<td style="text-align: left"><code>card_programme</code> <br> <em>string</em>, required</td>
<td style="text-align: left">The name of the card programme you want your card to be associated with</td>
</tr>
<tr>
<td style="text-align: left"><code>card_rules</code> <br> <em>array of UUIDs</em>, optional</td>
<td style="text-align: left">Customizable rules associated with the card</td>
</tr>
<tr>
<td style="text-align: left"><code>qr_code_content</code> <br> <em>string</em>, optional</td>
<td style="text-align: left">The string to be encoded in the auto-generated QR code on a physical card. For example, a URL, SMS message, in app action etc.</td>
</tr>
<tr>
<td style="text-align: left"><code>name_on_card</code> <br> <em>string</em>, required</td>
<td style="text-align: left">The card holder&#39;s name (to be printed onto the card) <br> <em>ISO basic Latin Alphabet; up to 21 characters including spaces</em></td>
</tr>
<tr>
<td style="text-align: left"><code>card_delivery_name</code> <br> <em>string</em>, required</td>
<td style="text-align: left">The name of the entity that the card will be addressed to when delivered</td>
</tr>
<tr>
<td style="text-align: left"><code>card_delivery_method</code> <br> <em>string</em>, required</td>
<td style="text-align: left">The shipping method used to deliver the card, if delivery address is outside the UK, it must be <code>international-mail</code> <br> <em>Allowed Values</em>: <code>dhl</code>, <code>standard-first--class</code>, <code>international-mail</code></td>
</tr>
<tr>
<td style="text-align: left"><code>card_carrier_type</code> <br> <em>string</em>, required</td>
<td style="text-align: left">The carrier type to be used for the card when delivered <br> _Allowed Values: <code>standard</code>, <code>renewal</code>, <code>replacement</code></td>
</tr>
<tr>
<td style="text-align: left"><code>card_delivery_address</code> <br> <em>object</em>, required</td>
<td style="text-align: left">The address to which the card will be delivered to</td>
</tr>
<tr>
<td style="text-align: left"><code>card_delivery_address.address_city</code> <br> <em>string</em>, required</td>
<td style="text-align: left">City that enduser lives in</td>
</tr>
<tr>
<td style="text-align: left"><code>card_delivery_address.address_iso_country</code><br> <em>string</em>, required</td>
<td style="text-align: left">Country code <br>  <em>ISO 8601 format</em></td>
</tr>
<tr>
<td style="text-align: left"><code>card_delivery_address.address_number</code> <br> <em>string</em>, required</td>
<td style="text-align: left">House or building number on street</td>
</tr>
<tr>
<td style="text-align: left"><code>card_delivery_address.address_postal_code</code> <br> <em>string</em>, required</td>
<td style="text-align: left">Postal or zip code</td>
</tr>
<tr>
<td style="text-align: left"><code>card_delivery_address.address_refinement</code> <br> <em>string</em>, optional</td>
<td style="text-align: left">Extra detail, e.g. house name</td>
</tr>
<tr>
<td style="text-align: left"><code>card_delivery_address.address_region</code> <br> <em>string</em>, required</td>
<td style="text-align: left">Region in country</td>
</tr>
<tr>
<td style="text-align: left"><code>card_delivery_address.address_street</code> <br> <em>string</em>, required</td>
<td style="text-align: left">Street the enduser lives on</td>
</tr>
</tbody></table>
<h2 id='fetch-a-card'>Fetch a Card</h2>
<blockquote>
<p><strong>Example Request</strong></p>
</blockquote>
<pre class="highlight shell tab-shell"><code>    --request GET <span class="s2">"https://live.railsbank.com/v1/customer/cards/{{card_id}}"</span>
    --header <span class="s2">"Content-Type: application/json"</span>
    --header <span class="s2">"Accept: application/json"</span>
    --header <span class="s2">"Authorization: API-Key &lt;&lt;yourliveapikey&gt;&gt;"</span>
</code></pre>
<blockquote>
<p><strong>Example Response</strong></p>
</blockquote>
<pre class="highlight shell tab-shell"><code>  <span class="o">{</span>
    <span class="s2">"card_id"</span>: <span class="s2">"8763b5df-a61c-4f77-9724-41ca9cde3654"</span>,
    <span class="s2">"card_status"</span>: <span class="s2">"card-status-created"</span>,
    <span class="s2">"card_program"</span>: <span class="s2">"Railsbank Card Program"</span>
    <span class="s2">"customer_id"</span>: <span class="s2">"c91b339e-57d7-41ea-a805-8966ce8fe4ed"</span>,
    <span class="s2">"partner_product"</span>: <span class="s2">"Railsbank-Debit-Card-1"</span>,
    <span class="s2">"ledger_id"</span>: <span class="s2">"6630b391-c5ce-46c1-9d23-a82a9e27f82d"</span>,
    <span class="s2">"temp_card_image_url"</span>: <span class="s2">"237564rh43ht43"</span>
  <span class="o">}</span>
</code></pre>
<p><code>GET &quot;https://live.railsbank.com/v1/customer/cards/{{card_id}}&quot;</code></p>

<ul>
<li>Fetching a card is much like &#39;fetching&#39; anything else with the API.</li>
<li>In this case, all you need to know is the <code>card_id</code>.</li>
<li>The possible statuses of the card can be seen below.</li>
</ul>
<h3 id='card-statuses'>Card Statuses</h3>
<table><thead>
<tr>
<th style="text-align: left">Message</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code>card-status-created</code></td>
<td style="text-align: left">The card has been successfully created.</td>
</tr>
<tr>
<td style="text-align: left"><code>card-status-suspending</code></td>
<td style="text-align: left">The card is in the process of being suspended. Use the <code>/wait</code> parameter to wait until it is in a REST state (in this case, suspended).</td>
</tr>
<tr>
<td style="text-align: left"><code>card-status-suspended</code></td>
<td style="text-align: left">The card has been suspended by the enduser. You will receive a <code>type: card-suspended</code> webhook.</td>
</tr>
<tr>
<td style="text-align: left"><code>card-status-awaiting-activation</code></td>
<td style="text-align: left">The card has been created but not activated. You will receive a <code>type: card-awaiting-activation</code> webhook.</td>
</tr>
<tr>
<td style="text-align: left"><code>card-status-activating</code></td>
<td style="text-align: left">The card is being activated. Use the <code>/wait</code> parameter to wait until it is in a REST state (in this case, activated).</td>
</tr>
<tr>
<td style="text-align: left"><code>card-status-active</code></td>
<td style="text-align: left">The card is active and ready to be used. You will receive a <code>type: card-activated</code> webhook.</td>
</tr>
<tr>
<td style="text-align: left"><code>card-status-failed</code></td>
<td style="text-align: left">The card has failed to create for one of the reasons below. You will receive a <code>type: card-failed</code> webhook.</td>
</tr>
<tr>
<td style="text-align: left">Possible failure reasons:</td>
<td style="text-align: left"></td>
</tr>
<tr>
<td style="text-align: left"><code>card-not-active</code></td>
<td style="text-align: left">Set when card status is not equal to active.</td>
</tr>
<tr>
<td style="text-align: left"><code>contact-support</code></td>
<td style="text-align: left">Set when we get recommendation to decline from paymentology.</td>
</tr>
<tr>
<td style="text-align: left"><code>fx-issue</code></td>
<td style="text-align: left">Returned in one of these cases: contributed-price-not-set, contributed-price-suspended or contributed-price-expired.</td>
</tr>
<tr>
<td style="text-align: left"><code>card-rules-breached</code></td>
<td style="text-align: left">Added if any of the card rules are breached.</td>
</tr>
<tr>
<td style="text-align: left"><code>partner-error</code></td>
<td style="text-align: left">When an error occurs on the partner side.</td>
</tr>
<tr>
<td style="text-align: left"><code>insufficient-funds</code></td>
<td style="text-align: left">When we have insufficient funds in customer card ledger.</td>
</tr>
</tbody></table>
<h2 id='fetch-a-card-using-its-token'>Fetch a Card using its token</h2>
<blockquote>
<p><strong>Example Request</strong></p>
</blockquote>
<pre class="highlight shell tab-shell"><code>    --request GET <span class="s2">"https://live.railsbank.com/v1/customer/cards/{{card_token}}"</span>
    --header <span class="s2">"Content-Type: application/json"</span>
    --header <span class="s2">"Accept: application/json"</span>
    --header <span class="s2">"Authorization: API-Key &lt;&lt;yourliveapikey&gt;&gt;"</span>
</code></pre>
<blockquote>
<p><strong>Example Response</strong></p>
</blockquote>
<pre class="highlight shell tab-shell"><code>  <span class="o">{</span>
      <span class="s2">"ledger_id"</span>: <span class="s2">"5cda9171-f2e3-4442-82f1-884c877df9e5"</span>,
      <span class="s2">"card_token"</span>: <span class="s2">"473894665"</span>,
      <span class="s2">"card_id"</span>: <span class="s2">"5cdab638-ad74-47c3-a918-15e1876dcfcf"</span>,
      <span class="s2">"card_type"</span>: <span class="s2">"virtual"</span>,
      <span class="s2">"card_rules"</span>: <span class="o">[]</span>,
      <span class="s2">"created_at"</span>: <span class="s2">"2019-05-14T12:36:08.493Z"</span>,
      <span class="s2">"partner_product"</span>: <span class="s2">"Railsbank-Debit-Card-1"</span>,
      <span class="s2">"card_design"</span>: <span class="s2">"design one"</span>,
      <span class="s2">"card_status"</span>: <span class="s2">"card-status-awaiting-activation"</span>,
      <span class="s2">"card_programme"</span>: <span class="s2">"rbbe-313-gbp-person"</span>
  <span class="o">}</span>
</code></pre>
<p><code>GET &quot;https://live.railsbank.com/v1/customer/cards/{{card_token}}&quot;</code></p>

<ul>
<li>A few seconds after a card is created, a token is assigned to it.</li>
<li>This token can also be used to fetch the card.</li>
<li>If you are fetching the card using this endpoint after generation you will need to wait a few seconds before the token is added to the card, at which point you must fetch the card using the <code>card_id</code> in order to discover the token.</li>
<li>The card token can be used to validate physical cards. It will be nine integers on the back of the card, so when your customer receives the card, before you activate it, you can check that they are using the correct card by checking the token number.</li>
</ul>
<h2 id='fetch-all-of-your-cards'>Fetch all of your cards</h2>
<blockquote>
<p><strong>Example Request</strong></p>
</blockquote>
<pre class="highlight shell tab-shell"><code>    --request GET <span class="s2">"https://live.railsbank.com/v1/customer/cards"</span>
    --header <span class="s2">"Content-Type: application/json"</span>
    --header <span class="s2">"Accept: application/json"</span>
    --header <span class="s2">"Authorization: API-Key &lt;&lt;yourliveapikey&gt;&gt;"</span>
</code></pre>
<blockquote>
<p><strong>Example Response</strong></p>
</blockquote>
<pre class="highlight shell tab-shell"><code>    <span class="o">{</span>
      <span class="s2">"card_id"</span>: <span class="s2">"bb8b2428-f94c-41df-8e82-a895ab4d6ac8"</span>,
      <span class="s2">"card_status"</span>: <span class="s2">"card-status-created"</span>,
      <span class="s2">"customer_id"</span>: <span class="s2">"bb8b2428-f94c-41df-8e82-a895ab4d6ac8"</span>,
      <span class="s2">"partner_product"</span>: <span class="s2">"Railsbank-Debit-Card-1"</span>,
      <span class="s2">"ledger_id"</span>: <span class="s2">"bb8b2428-f94c-41df-8e82-a895ab4d6ac8"</span>
    <span class="o">}</span>,
    <span class="o">{</span>
      <span class="s2">"card_id"</span>: <span class="s2">"8763b5df-a61c-4f77-9724-41ca9cde3654"</span>,
      <span class="s2">"card_status"</span>: <span class="s2">"card-status-active"</span>,
      <span class="s2">"customer_id"</span>: <span class="s2">"6630b391-c5ce-46c1-9d23-a82a9e27f82d"</span>,
      <span class="s2">"partner_product"</span>: <span class="s2">"Railsbank-Debit-Card-1"</span>,
      <span class="s2">"ledger_id"</span>: <span class="s2">"6630b391-c5ce-46c1-9d23-a82a9e27f82d"</span>
    <span class="o">}</span>,
    <span class="o">{</span>
      <span class="s2">"card_id"</span>: <span class="s2">"c91b339e-57d7-41ea-a805-8966ce8fe4ed"</span>,
      <span class="s2">"card_status"</span>: <span class="s2">"card-status-disabled"</span>,
      <span class="s2">"customer_id"</span>: <span class="s2">"bb8b2428-f94c-41df-8e82-a895ab4d6ac8"</span>,
      <span class="s2">"partner_product"</span>: <span class="s2">"Railsbank-Debit-Card-1"</span>,
      <span class="s2">"ledger_id"</span>: <span class="s2">"bb8b2428-f94c-41df-8e82-a895ab4d6ac8"</span>
    <span class="o">}</span>
</code></pre>
<p><code>GET &quot;https://live.railsbank.com/v1/customer/cards&quot;</code></p>

<ul>
<li>If you want to see the details of all the cards you have issued, then this powerful endpoint is for you.</li>
<li>You can filter the cards to the <code>holder_id</code>, allowing you to see the cards attached to a specific enduser, for instance.

<ul>
<li>You can also filter by <code>ledger_id</code>, allowing you to see the cards attached to a ledger.</li>
<li>You can specify both the <code>ledger_id</code> and the <code>holder_id</code>.</li>
</ul></li>
</ul>
<h3 id='parameters'>Parameters</h3>
<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code>holder_id</code> <br> <em>string</em></td>
<td style="text-align: left">The UUID of the card(s) holder, an enduser or the customer.</td>
</tr>
<tr>
<td style="text-align: left"><code>ledger_id</code> <br> <em>string</em></td>
<td style="text-align: left">The UUID of the ledger to which the returned cards are attached.</td>
</tr>
<tr>
<td style="text-align: left"><code>starting_at_date</code> <br> <em>string</em></td>
<td style="text-align: left">Any cards created before this date will not be shown in the array. <br> <em>YYYY-MM-DD</em></td>
</tr>
<tr>
<td style="text-align: left"><code>items_per_page</code> <br> <em>integer</em></td>
<td style="text-align: left">The number of items returned in each page. A hyperlink to the next page will be found in the response headers.</td>
</tr>
<tr>
<td style="text-align: left"><code>last_seen_id</code> <br> <em>string</em></td>
<td style="text-align: left">The cards returned will have all been created after the card whose UUID is the <code>last_seen_id</code>.</td>
</tr>
<tr>
<td style="text-align: left"><code>from_date</code> <br> <em>string</em></td>
<td style="text-align: left">The date that the list of cards will start from.</td>
</tr>
<tr>
<td style="text-align: left"><code>end_date</code> <br> <em>string</em></td>
<td style="text-align: left">The date that the list of cards will end at.</td>
</tr>
</tbody></table>
<h2 id='activate-a-card'>Activate a Card</h2>
<blockquote>
<p><strong>Example Request</strong></p>
</blockquote>
<pre class="highlight shell tab-shell"><code>    --request POST <span class="s2">"https://live.railsbank.com/v1/customer/cards/{{card_id}}/activate"</span>
    --header <span class="s2">"Content-Type: application/json"</span>
    --header <span class="s2">"Accept: application/json"</span>
    --header <span class="s2">"Authorization: API-Key &lt;&lt;yourliveapikey&gt;&gt;"</span>
</code></pre>
<blockquote>
<p><strong>Example Response. Note: <code>status-active</code>.</strong></p>
</blockquote>
<pre class="highlight shell tab-shell"><code>  <span class="o">{</span>
      <span class="s2">"ledger_id"</span>: <span class="s2">"5cda9171-f2e3-4442-82f1-884c877df9e5"</span>,
      <span class="s2">"card_token"</span>: <span class="s2">"473894665"</span>,
      <span class="s2">"card_id"</span>: <span class="s2">"5cdab638-ad74-47c3-a918-15e1876dcfcf"</span>,
      <span class="s2">"card_type"</span>: <span class="s2">"virtual"</span>,
      <span class="s2">"card_rules"</span>: <span class="o">[]</span>,
      <span class="s2">"created_at"</span>: <span class="s2">"2019-05-14T12:36:08.493Z"</span>,
      <span class="s2">"partner_product"</span>: <span class="s2">"Railsbank-Debit-Card-1"</span>,
      <span class="s2">"card_design"</span>: <span class="s2">"design one"</span>,
      <span class="s2">"card_status"</span>: <span class="s2">"card-status-active"</span>,
      <span class="s2">"card_programme"</span>: <span class="s2">"rbbe-313-gbp-person"</span>
  <span class="o">}</span>
</code></pre>
<p><code>POST &quot;https://live.railsbank.com/v1/customer/cards/{{card_id}}/activate&quot;</code></p>

<ul>
<li>A <code>created</code> card is cool, but an <code>activated</code> card is awesome; it has access to global banking.</li>
<li>This simple endpoint will <strong>activate</strong> the card.</li>
</ul>
<h2 id='suspend-a-card'>Suspend a Card</h2>
<blockquote>
<p><strong>Example Request</strong></p>
</blockquote>
<pre class="highlight shell tab-shell"><code>    --request POST <span class="s2">"https://live.railsbank.com/v1/customer/cards/{{card_id}}/suspend"</span>
    --header <span class="s2">"Content-Type: application/json"</span>
    --header <span class="s2">"Accept: application/json"</span>
    --header <span class="s2">"Authorization: API-Key &lt;&lt;yourliveapikey&gt;&gt;"</span>
</code></pre>
<p><code>POST &quot;https://live.railsbank.com/v1/customer/cards/{{card_id}}/suspend&quot;</code></p>

<ul>
<li>Naturally, there will come a time when you or your endusers need to <code>suspend</code> a card. This endpoint allows you to do so in one easy call.</li>
<li>Once you suspended a card, it can be reactivated at any time by using <code>activate</code> endpoint. However, if you don&#39;t reactivate it, it will remain suspended.</li>
<li>The API will respond with your suspended <code>card_id</code>. Simple.</li>
</ul>
<h2 id='fetching-card-pins'>Fetching Card PINs</h2>
<blockquote>
<p><strong>Example Request</strong></p>
</blockquote>
<pre class="highlight shell tab-shell"><code>    --request GET <span class="s2">"https://live.railsbank.com/v1/customer/cards/{{card_id}}/pin"</span>
    --header <span class="s2">"Content-Type: application/json"</span>
    --header <span class="s2">"Accept: application/json"</span>
    --header <span class="s2">"Authorization: API-Key &lt;&lt;yourliveapikey&gt;&gt;"</span>
</code></pre>
<blockquote>
<p><strong>Example Response</strong></p>
</blockquote>
<pre class="highlight shell tab-shell"><code>  <span class="o">{</span>
    <span class="s2">"pin"</span>: <span class="s2">"2477"</span>
  <span class="o">}</span>
</code></pre>
<p><code>GET &quot;https://live.railsbank.com/v1/customer/cards/{{card_id}}/pin&quot;</code></p>

<ul>
<li>You may want to fetch the PIN number for chip-and-PIN transactions. All you need is your <code>card_id</code> to obtain it.</li>
<li>Before you fetch you physical card PIN it is important to note:</li>
<li>PINs for new cards are generated at 05:05 each day, as part of generating the xml file for the manufacturer.</li>
<li>If the PIN is not set you will receive <code>&quot;error&quot;: &quot;card-pin-not-set&quot;</code></li>
<li>Unfortunately, we do not allow you to update a card PIN via an API call. To do this your users will have to go to an ATM.</li>
</ul>
<h2 id='get-card-image'>Get Card Image</h2>
<blockquote>
<p><strong>Example Request</strong></p>
</blockquote>
<pre class="highlight shell tab-shell"><code>    --request GET <span class="s2">"https://live.railsbank.com/v1/customer/cards/{{card_id}}/image"</span>
    --header <span class="s2">"Content-Type: application/json"</span>
    --header <span class="s2">"Accept: application/json"</span>
    --header <span class="s2">"Authorization: API-Key &lt;&lt;yourliveapikey&gt;&gt;"</span>
</code></pre>
<blockquote>
<p><strong>Example Response</strong></p>
</blockquote>
<pre class="highlight shell tab-shell"><code>  <span class="o">{</span>
    <span class="s2">"temp_card_image_url"</span>: <span class="s2">"http://40.127.00.174:8002/Paymentology/585256_F347DBA257102343AB5132840D231AB3.png"</span>
  <span class="o">}</span>
</code></pre>
<p><code>GET &quot;https://live.railsbank.com/v1/customer/cards/{{card_id}}/image&quot;</code></p>

<ul>
<li>This endpoint provides a URL which can be used to view the card image.</li>
<li>The URL is valid for ten minutes.</li>
</ul>
<h1 id='webhooks'>Webhooks</h1>
<blockquote>
<p><strong>Endpoints</strong></p>
</blockquote>
<pre class="highlight shell tab-shell"><code><span class="sb">`</span>POST /v1/customer/webhook<span class="sb">`</span>
<span class="sb">`</span>POST /v1/customer/webhook/update-secret<span class="sb">`</span>
<span class="sb">`</span>GET /v1/customer/webhook<span class="sb">`</span>
<span class="sb">`</span>GET /v1/customer/webhook/failed-to-deliver<span class="sb">`</span>
<span class="sb">`</span>DELETE /v1/customer/webhook<span class="sb">`</span>
<span class="sb">`</span>GET /v1/customer/notifications<span class="sb">`</span>
</code></pre>
<ul>
<li>We understand that it&#39;s not ideal to have to poll our GET endpoints to detect changes in a ledger or a transaction, so we have a webhook that will send HTTP notifications to your chosen URL when certain events occur.</li>
<li>Use the <strong>Webhook</strong> capability to receive real-time notifications.</li>
<li>With Railsbank you only have to set <strong>one</strong> webhook url: all of the notifications will be sent there.</li>
<li>With the url you must also supply a <code>secret</code>, which allows you to identify that the notifications you are receiving are coming from Railsbank.</li>
<li>Ensure your SSL Certificate is issued by a Trusted Authority or has the full chain included.</li>
</ul>
<h2 id='types-of-notification'>Types of Notification</h2>
<blockquote>
<p><strong>Entity Ready to Use</strong></p>
</blockquote>
<pre class="highlight shell tab-shell"><code><span class="o">{</span>
  <span class="s2">"enduser_id"</span> : <span class="s2">"5d0385ac-4ae5-4eae-be6b-fa126c0a6bfc"</span>,
  <span class="s2">"owner"</span> : <span class="s2">"5be950c7-ef99-43d7-a0c7-96da0106a68d"</span>,
  <span class="s2">"type"</span> : <span class="s2">"entity-ready-to-use"</span>,
  <span class="s2">"created_at"</span> : <span class="s2">"2019-06-14T11:32:06.279Z"</span>,
  <span class="s2">"notification_id"</span> : <span class="s2">"5d0385b6-d5b0-47ab-a57d-ab1fede836b4"</span>,
  <span class="s2">"secret"</span> : <span class="s2">"927741"</span>
<span class="o">}</span>
</code></pre>
<blockquote>
<p><strong>Ledger Changed</strong></p>
</blockquote>
<pre class="highlight shell tab-shell"><code><span class="o">{</span>
  <span class="s2">"owner"</span> : <span class="s2">"5be950c7-ef99-43d7-a0c7-96da0106a68d"</span>,
  <span class="s2">"ledger_id"</span> : <span class="s2">"5ca22664-edd8-443e-9c56-5bb9a1c79a79"</span>,
  <span class="s2">"type"</span> : <span class="s2">"ledger-changed"</span>,
  <span class="s2">"secret"</span> : <span class="s2">"927741"</span>,
  <span class="s2">"transaction_id"</span> : <span class="s2">"5d0385b2-b496-4396-9f36-f4f0c14d4660"</span>,
  <span class="s2">"created_at"</span> : <span class="s2">"2019-06-14T11:32:15.046Z"</span>,
  <span class="s2">"notification_id"</span> : <span class="s2">"5d0385bf-0409-48a2-8906-2d6d106e0372"</span>,
<span class="o">}</span>
</code></pre>
<blockquote>
<p><strong>Entity FW Quarantine</strong></p>
</blockquote>
<pre class="highlight shell tab-shell"><code><span class="o">{</span>
  <span class="s2">"transaction_id"</span> : <span class="s2">"5d0385b5-1ffe-4039-8494-0163a51e2e21"</span>,
  <span class="s2">"owner"</span> : <span class="s2">"5be950c7-ef99-43d7-a0c7-96da0106a68d"</span>,
  <span class="s2">"type"</span> : <span class="s2">"entity-fw-quarantine"</span>,
  <span class="s2">"created_at"</span> : <span class="s2">"2019-06-14T11:32:05.194Z"</span>,
  <span class="s2">"notification_id"</span> : <span class="s2">"5d0385b5-3aa7-4b9a-af0a-93f1d7fd9b73"</span>,
  <span class="s2">"secret"</span> : <span class="s2">"927741"</span>
<span class="o">}</span>
</code></pre>
<blockquote>
<p><strong>Firewall Finished</strong></p>
</blockquote>
<pre class="highlight shell tab-shell"><code><span class="o">{</span>
  <span class="s2">"beneficiary_id"</span> : <span class="s2">"5d0385af-20d6-4a9b-9578-191752f4a585"</span>,
  <span class="s2">"beneficiary_status"</span> : <span class="s2">"beneficiary-status-quarantine"</span>,
  <span class="s2">"owner"</span> : <span class="s2">"5be950c7-ef99-43d7-a0c7-96da0106a68d"</span>,
  <span class="s2">"type"</span> : <span class="s2">"beneficiary-firewall-finished"</span>,
  <span class="s2">"created_at"</span> : <span class="s2">"2019-06-14T11:31:59.695Z"</span>,
  <span class="s2">"notification_id"</span> : <span class="s2">"5d0385af-6779-45f0-96e6-54592efb9487"</span>,
  <span class="s2">"secret"</span> : <span class="s2">"927741"</span>
<span class="o">}</span>
</code></pre>
<blockquote>
<p><strong>Card Awaiting Activation, Activated, and Card Suspended</strong></p>
</blockquote>
<pre class="highlight shell tab-shell"><code><span class="o">{</span>
  <span class="s2">"card_id"</span> : <span class="s2">"5d038588-5006-4eaf-8235-c67676b77db5"</span>,
  <span class="s2">"owner"</span> : <span class="s2">"5be950c7-ef99-43d7-a0c7-96da0106a68d"</span>,
  <span class="s2">"type"</span> : <span class="s2">"card-awaiting-activation"</span>,
  <span class="s2">"created_at"</span> : <span class="s2">"2019-06-14T11:31:21.944Z"</span>,
  <span class="s2">"notification_id"</span> : <span class="s2">"5d038589-e16a-460d-84ee-9f9b12064fed"</span>,
  <span class="s2">"secret"</span> : <span class="s2">"927741"</span>
<span class="o">}</span>

<span class="o">{</span>
  <span class="s2">"card_id"</span> : <span class="s2">"5d038588-5006-4eaf-8235-c67676b77db5"</span>,
  <span class="s2">"owner"</span> : <span class="s2">"5be950c7-ef99-43d7-a0c7-96da0106a68d"</span>,
  <span class="s2">"type"</span> : <span class="s2">"card-activated"</span>,
  <span class="s2">"created_at"</span> : <span class="s2">"2019-06-14T11:31:32.568Z"</span>,
  <span class="s2">"notification_id"</span> : <span class="s2">"5d038594-5de6-4402-9ba8-94628b3c546f"</span>,
  <span class="s2">"secret"</span> : <span class="s2">"927741"</span>
<span class="o">}</span>

<span class="o">{</span>
  <span class="s2">"card_id"</span> : <span class="s2">"5d038588-5006-4eaf-8235-c67676b77db5"</span>,
  <span class="s2">"owner"</span> : <span class="s2">"5be950c7-ef99-43d7-a0c7-96da0106a68d"</span>,
  <span class="s2">"type"</span> : <span class="s2">"card-suspended"</span>,
  <span class="s2">"created_at"</span> : <span class="s2">"2019-06-14T11:31:45.891Z"</span>,
  <span class="s2">"notification_id"</span> : <span class="s2">"5d0385a1-2d64-4498-9e28-c250513f13e0"</span>,
  <span class="s2">"secret"</span> : <span class="s2">"927741"</span>
<span class="o">}</span>
</code></pre>
<blockquote>
<p><strong>Transaction declined</strong></p>
</blockquote>
<pre class="highlight shell tab-shell"><code><span class="o">{</span>
  <span class="s2">"transaction_id"</span> : <span class="s2">"5d03851d-013a-41b5-821b-4071e743061a"</span>,
  <span class="s2">"owner"</span> : <span class="s2">"5be950c7-ef99-43d7-a0c7-96da0106a68d"</span>,
  <span class="s2">"type"</span> : <span class="s2">"transaction-declined"</span>,
  <span class="s2">"created_at"</span> : <span class="s2">"2019-06-14T11:29:33.912Z"</span>,
  <span class="s2">"notification_id"</span> : <span class="s2">"5d03851d-86e4-410e-814d-8b68d51ce55b"</span>,
  <span class="s2">"secret"</span> : <span class="s2">"927741"</span>
<span class="o">}</span>
</code></pre>
<ul>
<li><strong>All</strong> notifications will include:

<ul>
<li><code>owner</code> - your customer id</li>
<li><code>type</code> - the type of notification</li>
<li><code>created_at</code> - when the notification was created</li>
</ul></li>
</ul>
<h3 id='notifications'>Notifications</h3>
<table><thead>
<tr>
<th style="text-align: left"><strong>Type</strong></th>
<th style="text-align: left"><strong>Description</strong></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code>:entity-ready-to-use</code></td>
<td style="text-align: left">An entity is created successfully and ready to use <br>• the notification will  include the id of the entity</td>
</tr>
<tr>
<td style="text-align: left"><code>:ledger-changed</code></td>
<td style="text-align: left">A ledger has changed been credited or debited (includes if it is credited due to a send-money transaction being declined) <br>• the notification will include the <code>ledger_id</code> of the changed ledger and the <code>transaction_id</code> of the transaction that caused the change</td>
</tr>
<tr>
<td style="text-align: left"><code>:enduser-firewall-finished</code></td>
<td style="text-align: left">A Compliance Firewall check is performed on an enduser entity <br>• the notification will include the id of the enduser and their status</td>
</tr>
<tr>
<td style="text-align: left"><code>:beneficiary-firewall-finished</code></td>
<td style="text-align: left">A Compliance Firewall check is performed on a beneficiary entity <br>• the notification will include the id of the beneficiary and their status</td>
</tr>
<tr>
<td style="text-align: left"><code>:entity-fw-quarantine</code></td>
<td style="text-align: left">An entity has been put into quarantine for breaching a firewall rule <br>• the notification will  include the id of the entity that hit the quarantine</td>
</tr>
<tr>
<td style="text-align: left"><code>:entity-fw-warning</code></td>
<td style="text-align: left"></td>
</tr>
<tr>
<td style="text-align: left"><code>:entity-fw-missing-data</code></td>
<td style="text-align: left">An entity has not been created successfully due to missing firewall data</td>
</tr>
<tr>
<td style="text-align: left"><code>:transaction-declined</code></td>
<td style="text-align: left">A transaction was declined (we will have updated the <code>transaction_status</code>) <br> The notification will include the <code>transaction_id</code> of the declined transaction which you can fetch to see the <code>failure_reasons</code>.</td>
</tr>
<tr>
<td style="text-align: left"><code>:card-awaiting-activation</code></td>
<td style="text-align: left">A new card has been created and awaiting activation. <br> the <code>card_id</code> will be included in the notification.</td>
</tr>
<tr>
<td style="text-align: left"><code>:card-activated</code></td>
<td style="text-align: left">A card has been activated. <br> the <code>card_id</code> will be included in the notification.</td>
</tr>
<tr>
<td style="text-align: left"><code>:card-failed-to-activate</code></td>
<td style="text-align: left">A card failed to activate. <br> the <code>card_id</code> will be included in the notification.</td>
</tr>
<tr>
<td style="text-align: left"><code>:card-suspended</code></td>
<td style="text-align: left">A card was suspended <br> the <code>card_id</code> will be included in the notification.</td>
</tr>
<tr>
<td style="text-align: left"><code>:card-failed-to-suspend</code></td>
<td style="text-align: left">A card suspension call failed. <br> the <code>card_id</code> will be included in the notification.</td>
</tr>
<tr>
<td style="text-align: left"><code>:card-failed</code></td>
<td style="text-align: left">A card was not created successfully <br> the <code>card_id</code> will be included in the notification.</td>
</tr>
<tr>
<td style="text-align: left"><code>:card-fraud-rule-breach</code></td>
<td style="text-align: left">A card broke one of your fraud rules <br> the <code>card_id</code> will be included in the notification.</td>
</tr>
<tr>
<td style="text-align: left"><code>:direct-debit-mandate-activated</code></td>
<td style="text-align: left">Direct debit related activity:<br> successfully created a mandate</td>
</tr>
<tr>
<td style="text-align: left"><code>:direct-debit-mandate-failed</code></td>
<td style="text-align: left">Direct debit related activity:<br> creating a mandate has failed</td>
</tr>
<tr>
<td style="text-align: left"><code>:direct-debit-mandate-cancelled</code></td>
<td style="text-align: left">Direct debit related activity:<br> a mandate has been cancelled</td>
</tr>
<tr>
<td style="text-align: left"><code>:direct-debit-payment-created</code></td>
<td style="text-align: left">Direct debit related activity:<br> a mandate payment is being created</td>
</tr>
<tr>
<td style="text-align: left"><code>:direct-debit-payment-paid</code></td>
<td style="text-align: left">Direct debit related activity:<br> a mandate payment is successful</td>
</tr>
<tr>
<td style="text-align: left"><code>:direct-debit-payment-failed</code></td>
<td style="text-align: left">Direct debit related activity:<br> a mandate payment has failed</td>
</tr>
<tr>
<td style="text-align: left"><code>:direct-debit-payment-refunded</code></td>
<td style="text-align: left">Direct debit related activity:<br> payment has been refunded</td>
</tr>
<tr>
<td style="text-align: left"><code>:webhook-test</code></td>
<td style="text-align: left">The notification sent upon the successful creation of the webhook or updating of a secret.</td>
</tr>
</tbody></table>
<h2 id='set-up-a-webhook'>Set up a Webhook</h2>
<blockquote>
<p><strong>Example Request</strong></p>
</blockquote>
<pre class="highlight shell tab-shell"><code>--request POST <span class="s2">"https://playlive.railsbank.com/v1/customer/webhook"</span>
--header <span class="s1">'Content-Type: application/json'</span>
--header <span class="s1">'Accept: application/json'</span>
--header <span class="s1">'Authorization: API-Key yourapikey'</span>
<span class="o">{</span>
  <span class="s2">"webhook_url"</span>: <span class="s2">"https://webhook.example.net/foo"</span>,
  <span class="s2">"webhook_secret"</span>: <span class="s2">"some_secret_key_sent_with_every_event"</span>
<span class="o">}</span>
</code></pre>
<p><code>POST &quot;https://playlive.railsbank.com/v1/customer/webhooks&quot;</code></p>

<ul>
<li>This endpoint allows you to set your webhook.</li>
<li>Make sure to include both the URL you want the notifications sent to, and the secret you want to use to verify that the notifications are your particular notifications.</li>
<li>If the webhook is set-up successfully, the API will return a 200 HTTP response with no payload.</li>
<li>When you create your webhook you will receive a notification of <code>&quot;type&quot; : &quot;webhook-test&quot;</code>.</li>
</ul>
<h2 id='fetch-your-webhook'>Fetch your Webhook</h2>
<blockquote>
<p><strong>Example Request</strong></p>
</blockquote>
<pre class="highlight shell tab-shell"><code>--request GET <span class="s2">"https://playlive.railsbank.com/v1/customer/webhook"</span>
--header <span class="s1">'Content-Type: application/json'</span>
--header <span class="s1">'Accept: application/json'</span>
--header <span class="s1">'Authorization: API-Key yourapikey'</span>
</code></pre>
<blockquote>
<p><strong>Example Response</strong></p>
</blockquote>
<pre class="highlight shell tab-shell"><code><span class="o">{</span>
  <span class="s2">"webhook_url"</span>: <span class="s2">"https://webhook.example.net/foo"</span>,
  <span class="s2">"webhook_secret"</span>: <span class="s2">"some_secret_key_sent_with_every_event"</span>
<span class="o">}</span>
</code></pre>
<p><code>GET &quot;https://playlive.railsbank.com/v1/customer/webhook&quot;</code></p>

<ul>
<li>This endpoint allows you to fetch your webhook to see the URL and the secret.</li>
<li>Because we only allow you to create one webhook at a time, you do not need to specify a UUID.</li>
</ul>
<h2 id='update-your-webhook-secret'>Update your Webhook Secret</h2>
<blockquote>
<p><strong>Example Request</strong></p>
</blockquote>
<pre class="highlight shell tab-shell"><code>--request POST <span class="s2">"https://playlive.railsbank.com/v1/customer/webhook/update-secret"</span>
--header <span class="s1">'Content-Type: application/json'</span>
--header <span class="s1">'Accept: application/json'</span>
--header <span class="s1">'Authorization: API-Key yourapikey'</span>
<span class="o">{</span>
  <span class="s2">"webhook_secret"</span>: <span class="s2">"some_secret_key_sent_with_every_event"</span>
<span class="o">}</span>
</code></pre>
<p><code>POST &quot;https://playlive.railsbank.com/v1/customer/webhook/update-secret&quot;</code></p>

<ul>
<li>This endpoint allows you to update the secret attached to your webhook notifications without changing the URL they are sent to.</li>
<li>This helps you to improve the security of your notifications.</li>
<li>The secret is sent with every event, allowing you to verify that the events.</li>
<li>There will be no response body, only the HHTP code.</li>
<li>If the webhook secret is updated successfully, the API will return a 200 HTTP response with no payload.</li>
<li>When you update your webhook secret you will receive a notification of <code>&quot;type&quot; : &quot;webhook-test&quot;</code>.</li>
</ul>
<h2 id='delete-your-webhook'>Delete your Webhook</h2>
<blockquote>
<p><strong>Example Request</strong></p>
</blockquote>
<pre class="highlight shell tab-shell"><code>--request DELETE <span class="s2">"https://playlive.railsbank.com/v1/customer/webhook"</span>
--header <span class="s1">'Content-Type: application/json'</span>
--header <span class="s1">'Accept: application/json'</span>
--header <span class="s1">'Authorization: API-Key yourapikey'</span>
</code></pre>
<p><code>DELETE &quot;https://playlive.railsbank.com/v1/customer/webhook&quot;</code></p>

<ul>
<li>This simple endpoint allows you to delete your webhook.</li>
<li>No notifications will be sent to the URL once you call this endpoint.</li>
<li>The URL cannot be reset once deleted.</li>
<li>There will be no response body, only the HHTP code.</li>
</ul>
<h2 id='fetch-failed-notifications'>Fetch Failed Notifications</h2>
<blockquote>
<p><strong>Example Request</strong></p>
</blockquote>
<pre class="highlight shell tab-shell"><code>--request GET <span class="s2">"https://playlive.railsbank.com/v1/customer/webhook/failed-to-deliver"</span>
--header <span class="s1">'Content-Type: application/json'</span>
--header <span class="s1">'Accept: application/json'</span>
--header <span class="s1">'Authorization: API-Key yourapikey'</span>
</code></pre>
<blockquote>
<p><strong>Example Response</strong></p>
</blockquote>
<pre class="highlight shell tab-shell"><code><span class="o">[</span>
    <span class="o">{</span>
        <span class="s2">"enduser_id"</span>: <span class="s2">"5aa9032a-fd2a-4e03-a901-3930a1e2609a"</span>,
        <span class="s2">"enduser_status"</span>: <span class="s2">"enduser-status-ok"</span>,
        <span class="s2">"owner"</span>: <span class="s2">"5a30ffea-fe4b-4bd3-8a09-4798130dcd8d"</span>,
        <span class="s2">"type"</span>: <span class="s2">"enduser-firewall-finished"</span>,
        <span class="s2">"created_at"</span>: <span class="s2">"2018-03-14T11:10:36.472Z"</span>,
        <span class="s2">"notification_id"</span>: <span class="s2">"5b329ff8-3558-438c-ada8-6b744e81ba80"</span>
    <span class="o">}</span>,
    <span class="o">{</span>
        <span class="s2">"enduser_id"</span>: <span class="s2">"5aa90ecc-f581-4441-b788-c2cdc12a7654"</span>,
        <span class="s2">"enduser_status"</span>: <span class="s2">"enduser-status-ok"</span>,
        <span class="s2">"owner"</span>: <span class="s2">"5a30ffea-fe4b-4bd3-8a09-4798130dcd8d"</span>,
        <span class="s2">"type"</span>: <span class="s2">"enduser-firewall-finished"</span>,
        <span class="s2">"created_at"</span>: <span class="s2">"2018-03-14T12:00:14.992Z"</span>,
        <span class="s2">"notification_id"</span>: <span class="s2">"5b329ff8-1658-486c-bcc9-f7e0e1779e3d"</span>
    <span class="o">}</span>,
    <span class="o">{</span>
        <span class="s2">"ledger_id"</span>: <span class="s2">"5aa91194-4872-4019-961d-560a705cca80"</span>,
        <span class="s2">"transaction_id"</span>: <span class="s2">"5aa91326-86df-4d22-9ef5-5068260881ff"</span>,
        <span class="s2">"owner"</span>: <span class="s2">"5a30ffea-fe4b-4bd3-8a09-4798130dcd8d"</span>,
        <span class="s2">"type"</span>: <span class="s2">"ledger-changed"</span>,
        <span class="s2">"created_at"</span>: <span class="s2">"2018-03-14T12:18:56.727Z"</span>,
        <span class="s2">"notification_id"</span>: <span class="s2">"5b329ff8-092e-4fe8-8fae-c65af4771ef5"</span>
    <span class="o">}</span>,
    <span class="o">{</span>
        <span class="s2">"ledger_id"</span>: <span class="s2">"5aa91187-8bab-4eed-b41e-a262d1be50f1"</span>,
        <span class="s2">"transaction_id"</span>: <span class="s2">"5aa91326-86df-4d22-9ef5-5068260881ff"</span>,
        <span class="s2">"owner"</span>: <span class="s2">"5a30ffea-fe4b-4bd3-8a09-4798130dcd8d"</span>,
        <span class="s2">"type"</span>: <span class="s2">"ledger-changed"</span>,
        <span class="s2">"created_at"</span>: <span class="s2">"2018-03-14T12:18:56.727Z"</span>,
        <span class="s2">"notification_id"</span>: <span class="s2">"5b329ff8-1822-47c7-977b-ac9b4b8ab2aa"</span>
    <span class="o">}</span>,
<span class="o">]</span>
</code></pre>
<p><code>GET &quot;https://playlive.railsbank.com/v1/customer/webhook/failed-to-deliver&quot;</code></p>

<ul>
<li>This endpoint allows you to fetch webhook notification that, for some reason, were not delivered to the URL.</li>
<li>This won&#39;t respond with notifications that weren&#39;t delivered because you didn&#39;t have a webhook set up.</li>
</ul>
<h3 id='parameters'>Parameters</h3>
<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code>starting_at_date</code> <br> <em>string</em></td>
<td style="text-align: left">Any notifications created before this date will not be shown in the array <br> <em>YYYY-MM-DD</em></td>
</tr>
<tr>
<td style="text-align: left"><code>items_per_page</code> <br> <em>integer</em></td>
<td style="text-align: left">The number of items returned in each page. A hyperlink to the next page will be found in the response headers</td>
</tr>
<tr>
<td style="text-align: left"><code>last_seen_id</code> <br> <em>string</em></td>
<td style="text-align: left">The notifications returned will have all been created after the notification whose UUID is the <code>last_seen_id</code></td>
</tr>
<tr>
<td style="text-align: left"><code>from_date</code> <br> <em>string</em></td>
<td style="text-align: left">The date that the list of notifications will start from</td>
</tr>
<tr>
<td style="text-align: left"><code>end_date</code> <br> <em>string</em></td>
<td style="text-align: left">The date that the list of notifications will end at</td>
</tr>
</tbody></table>
<h2 id='fetch-all-notifications'>Fetch All Notifications</h2>
<blockquote>
<p><strong>Example Request</strong></p>
</blockquote>
<pre class="highlight shell tab-shell"><code>--request GET <span class="s2">"https://playlive.railsbank.com/v1/customer/webhook/notifications?from_date=2018-09-19&amp;to_date=2018-09-30"</span>
--header <span class="s1">'Content-Type: application/json'</span>
--header <span class="s1">'Accept: application/json'</span>
--header <span class="s1">'Authorization: API-Key yourapikey'</span>
</code></pre>
<blockquote>
<p><strong>Example Response</strong></p>
</blockquote>
<pre class="highlight shell tab-shell"><code><span class="o">[</span>
    <span class="o">{</span>
        <span class="s2">"ledger_id"</span>: <span class="s2">"5ba3a0a7-f04d-4314-9178-d0331b488862"</span>,
        <span class="s2">"transaction_id"</span>: <span class="s2">"5ba3a0d8-e862-4d5b-8c1e-9a8f9c471aea"</span>,
        <span class="s2">"owner"</span>: <span class="s2">"5a30ffea-fe4b-4bd3-8a09-4798130dcd8d"</span>,
        <span class="s2">"type"</span>: <span class="s2">"ledger-changed"</span>,
        <span class="s2">"created_at"</span>: <span class="s2">"2018-09-20T13:30:01.419Z"</span>,
        <span class="s2">"notification_id"</span>: <span class="s2">"5ba3a0d9-cfc7-4a36-92a9-b315e8ba61b5"</span>
    <span class="o">}</span>,
    <span class="o">{</span>
        <span class="s2">"ledger_id"</span>: <span class="s2">"5ba3a0cc-4bf0-4d62-b493-092f2aa71295"</span>,
        <span class="s2">"transaction_id"</span>: <span class="s2">"5ba3a0d8-e862-4d5b-8c1e-9a8f9c471aea"</span>,
        <span class="s2">"owner"</span>: <span class="s2">"5a30ffea-fe4b-4bd3-8a09-4798130dcd8d"</span>,
        <span class="s2">"type"</span>: <span class="s2">"ledger-changed"</span>,
        <span class="s2">"created_at"</span>: <span class="s2">"2018-09-20T13:30:01.419Z"</span>,
        <span class="s2">"notification_id"</span>: <span class="s2">"5ba3a0d9-88fb-41e8-8ce5-7eabcd356e82"</span>
    <span class="o">}</span>,
    <span class="o">{</span>
        <span class="s2">"beneficiary_id"</span>: <span class="s2">"5ba3a0e3-c642-4e50-af9b-dd2c024f1a73"</span>,
        <span class="s2">"beneficiary_status"</span>: <span class="s2">"beneficiary-status-ok"</span>,
        <span class="s2">"owner"</span>: <span class="s2">"5a30ffea-fe4b-4bd3-8a09-4798130dcd8d"</span>,
        <span class="s2">"type"</span>: <span class="s2">"beneficiary-firewall-finished"</span>,
        <span class="s2">"created_at"</span>: <span class="s2">"2018-09-20T13:30:12.077Z"</span>,
        <span class="s2">"notification_id"</span>: <span class="s2">"5ba3a0e4-2847-40f6-a93a-0356d81af626"</span>
    <span class="o">}</span>,
    <span class="o">{</span>
        <span class="s2">"beneficiary_id"</span>: <span class="s2">"5ba3a0e3-c642-4e50-af9b-dd2c024f1a73"</span>,
        <span class="s2">"owner"</span>: <span class="s2">"5a30ffea-fe4b-4bd3-8a09-4798130dcd8d"</span>,
        <span class="s2">"type"</span>: <span class="s2">"entity-ready-to-use"</span>,
        <span class="s2">"created_at"</span>: <span class="s2">"2018-09-20T13:30:12.095Z"</span>,
        <span class="s2">"notification_id"</span>: <span class="s2">"5ba3a0e4-dcf7-4a0e-ae68-b0ad62929250"</span>
    <span class="o">}</span>
<span class="o">]</span>
</code></pre>
<p><code>GET &quot;https://playlive.railsbank.com/v1/customer/webhook/notifications&quot;</code></p>

<ul>
<li>This endpoint returns all the notifications created by the API due to actions you have taken.</li>
<li>This includes notifications sent to a webhook or not sent to a webhook (if you did&#39;t set one up).</li>
</ul>
<h3 id='parameters-2'>Parameters</h3>
<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code>starting_at_date</code> <br> <em>string</em></td>
<td style="text-align: left">Any notifications created before this date will not be shown in the array <br> <em>YYYY-MM-DD</em></td>
</tr>
<tr>
<td style="text-align: left"><code>items_per_page</code> <br> <em>integer</em></td>
<td style="text-align: left">The number of items returned in each page. A hyperlink to the next page will be found in the response headers</td>
</tr>
<tr>
<td style="text-align: left"><code>last_seen_id</code> <br> <em>string</em></td>
<td style="text-align: left">The notifications returned will have all been created after the notification whose UUID is the <code>last_seen_id</code></td>
</tr>
<tr>
<td style="text-align: left"><code>from_date</code> <br> <em>string</em></td>
<td style="text-align: left">The date that the list of notifications will start from</td>
</tr>
<tr>
<td style="text-align: left"><code>end_date</code> <br> <em>string</em></td>
<td style="text-align: left">The date that the list of notifications will end at</td>
</tr>
</tbody></table>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="json">json</a>
          </div>
      </div>
    </div>
  </body>
</html>
